webpackJsonp([8],{"1KuH":function(e,t){e.exports="data:image/png;base64,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"},"6Qob":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dd8w"),o=a.n(i),n=a("Pfph"),r=a("NYxO"),s={name:"LoginForm",i18n_prefix:"page.login.components.login-form",props:{loading:Boolean,userNameRules:{type:Array,default:function(){return[{required:!0,message:this.$t_p("user_name_rule"),trigger:"submit"}]}},passwordRules:{type:Array,default:function(){return[{required:!0,message:this.$t_p("password_rule"),trigger:"submit"}]}},validCodeRules:{type:Array,default:function(){return[{required:!0,message:this.$t_p("verification_rule"),trigger:"submit"}]}}},data:function(){return{timer:null,form:{userName:localStorage.getItem("slglUserName")||"",password:"",validateCode:"",isSavePwd:!1},validCodeImg:"",validateToken:"",isValidImageQuerying:!1}},computed:{rules:function(){return{userName:this.userNameRules,password:this.passwordRules,validateCode:this.validCodeRules}},validCodeStyle:function(){return{backgroundImage:"url("+this.validCodeImg+")"}}},methods:o()({},Object(r.b)(["temLogin"]),{GustLogin:function(){var e=this;this.temLogin().then(function(t){e.$router.push({path:"/"})}).finally(function(){}).catch(function(e){})},handleSubmit:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&(localStorage.setItem("slglUserName",e.form.userName),e.$emit("on-success-valid",{userName:e.form.userName,password:e.form.password,validateCode:e.form.validateCode,validateToken:e.validateToken}))})},changeValidCode:function(){var e=this;this.isValidImageQuerying||(this.isValidImageQuerying=!0,Object(n.g)({}).then(function(t){e.validateToken=t.data.validateToken,e.validCodeImg="data:image/png;base64,"+t.data.img.replace(/[\n|\r]/g,""),e.$forceUpdate()},function(t){e.$Message.warning(e.$t_p("get_fail_verification"))}).finally(function(){e.isValidImageQuerying=!1}))}}),mounted:function(){var e=this;this.changeValidCode(),this.timer=setInterval(function(){e.changeValidCode()},6e5)},beforeDestroy:function(){clearInterval(this.timer)},destroyed:function(){this.timer&&clearInterval(this.timer)}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSubmit(t):null}}},[a("FormItem",{staticClass:"form-item",staticStyle:{"margin-bottom":"24px"},attrs:{prop:"userName"}},[a("i",{staticClass:"prefix icon-user"}),e._v(" "),a("Input",{attrs:{maxlength:20,placeholder:e.$t_p("user_name")},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}},[a("i",{attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("FormItem",{staticClass:"form-item",staticStyle:{"margin-bottom":"24px"},attrs:{prop:"password"}},[a("i",{staticClass:"prefix icon-lock"}),e._v(" "),a("Input",{attrs:{type:"password",maxlength:20,placeholder:e.$t_p("password")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[a("i",{attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),a("FormItem",{staticClass:"form-item",staticStyle:{"margin-bottom":"24px"},attrs:{prop:"validateCode"}},[a("i",{staticClass:"prefix icon-safety"}),e._v(" "),a("Input",{attrs:{maxlength:12,placeholder:e.$t_p("verification")},model:{value:e.form.validateCode,callback:function(t){e.$set(e.form,"validateCode",t)},expression:"form.validateCode"}},[a("i",{attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),a("div",{ref:"safePrefix",staticClass:"im-valid",staticStyle:{"min-width":"50px"},style:e.validCodeStyle,attrs:{slot:"append",title:e.$t_p("click_refresh")},on:{click:e.changeValidCode},slot:"append"})])],1),e._v(" "),a("FormItem",{staticStyle:{"padding-top":"10px","margin-bottom":"12px"}},[a("Button",{staticClass:"btn-login",attrs:{type:"default",size:"large",loading:e.loading,long:""},on:{click:e.handleSubmit}},[e._v(e._s(e.$t_p("login"))+"\n      ")])],1)],1)},staticRenderFns:[]};var d=a("VU/8")(s,l,!1,function(e){a("efd3")},"data-v-70359684",null).exports,u=a("PJh5"),c=a.n(u),g=a("ujTF"),f={components:{LoginForm:d},i18n_prefix:"page.login.login",data:function(){return{logining:!1,nowYear:c()().format("YYYY")}},computed:{imgLogo:function(){return this.$store.state.app.globalConfig&&this.$store.state.app.globalConfig.loginLogo||g}},created:function(){console.log(this.handleLogin)},methods:o()({},Object(r.b)({handleLogin:"handleLogin"}),{handleSubmit:function(e){var t=this,a=e.userName,i=e.password,o=e.validateToken,n=e.validateCode;this.logining=!0,this.handleLogin({userName:a,password:i,validateToken:o,validateCode:n}).then(function(e){t.$router.push({path:"/manage"})}).finally(function(e){}).catch(function(e){console.log("----------------",e),t.logining=!1;var a=e.data;a&&1001==a.code?(t.$Message.error(t.$t_p("verification_expired")),t.$refs.login_form.changeValidCode()):e&&1e3==e.code?(t.$Message.error(e.msg),t.$refs.login_form.changeValidCode()):e&&e.serverMessage?(t.$Message.error(e.serverMessage),t.$refs.login_form.changeValidCode()):(t.$Message.error(t.$t_p("login_failed")),t.$refs.login_form.changeValidCode())})}})},m={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login"},[t("div",{staticClass:"banner animated fadeInLeft"}),this._v(" "),t("div",{staticClass:"login-content animated fadeInRight"},[this._m(0),this._v(" "),t("login-form",{ref:"login_form",attrs:{loading:this.logining},on:{"on-success-valid":this.handleSubmit}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"logo"},[t("img",{staticStyle:{width:"90px",height:"25.2px"},attrs:{src:a("1KuH")}})])}]};var p=a("VU/8")(f,m,!1,function(e){a("P4xZ"),a("vRe2")},"data-v-47127440",null);t.default=p.exports},P4xZ:function(e,t){},efd3:function(e,t){},ujTF:function(e,t,a){e.exports=a.p+"static/img/logo_cover.1deeef4.png"},vRe2:function(e,t){}});
//# sourceMappingURL=8.46b0104302492b6accbf.js.map