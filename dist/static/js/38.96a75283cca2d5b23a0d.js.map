{"version":3,"sources":["webpack:///src/view/report-manage/components/report-generate/report-generate.vue","webpack:///./src/view/report-manage/components/report-generate/report-generate.vue?1363","webpack:///./src/view/report-manage/components/report-generate/report-generate.vue","webpack:///./src/view/report-manage/components/report-generate/index.js"],"names":["report_generate","name","components","StatusSelect","status_select","LaboratoryList","laboratory_list","OrgSelect","all_area_select","customDrawer","common_drawer","data","_this","this","search","test","template","pageInfo","loading","pageIndex","pageSize","totalElements","reportFormList","type","placeholder","value","reportFormValue","deviceType","deviceName","deviceCode","testType","tempType","tempVerson","joinandnum","argType","date","formList","formValue","formValidate","title","tableData","maxlength","tableColumns","key","align","width","render","h","params","style","color","on","click","showDrawer","action","row","drawer","form","status","formConfig","label","currentIndex","computed","url","baseUrl","window","location","href","split","id","$route","query","mounted","created","addEventListener","handleMessage","methods","back","history","event","loadTableData","addItem","onRowClick","onPaginationChange","onPaginationSizeChange","rowClassName","index","$refs","open","openDrawer","confirm","previewReport","console","log","saveReport","dateChange","report_generate_report_generate","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","src","frameborder","staticRenderFns","components_report_generate_report_generate","__webpack_require__","normalizeComponent","ssrContext","Main"],"mappings":"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","file":"static/js/38.96a75283cca2d5b23a0d.js","sourcesContent":["<template>\r\n  <div class=\"report-list\">\r\n    <div class=\"content\">\r\n      <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">报告管理</div>\r\n          <Button type=\"primary\" @click=\"back\" style=\"width:80px\">返回</Button>\r\n        </div>\r\n      </div>\r\n      <div class=\"iframe-box\">\r\n        <iframe :src=\"url\" frameborder=\"0\"></iframe>\r\n        <!-- <iframe src=\"http://10.88.36.243/report-api\" frameborder=\"0\"></iframe> -->\r\n      </div>\r\n      <!-- <div class=\"filters\">\r\n        <div class=\"filters-item\" v-for=\"item in reportFormList\" :key=\"item.value\">\r\n          <Select v-if=\"item.type === 'select'\"\r\n                  v-model=\"reportFormValue[ item.value ]\"\r\n                  :placeholder=\"item.placeholder\">\r\n            <Option v-for=\"option in item.data\" :key=\"option.value\" :value=\"option.value\">{{option.name}}</Option>\r\n          </Select>\r\n          <DatePicker v-else-if=\"item.type === 'date'\"\r\n                      class=\"time-data\"\r\n                      type=\"datetimerange\"\r\n                      placeholder=\"日期范围:起始时间                       ~       截止时间\"\r\n                      @on-change=\"dateChange\"\r\n                      v-model=\"reportFormValue[ item.value ]\"></DatePicker>\r\n      </div>\r\n      </div>\r\n      <div class=\"save-report\">\r\n          <div class=\"preview btn\">\r\n            <Button type=\"primary\" @click=\"previewReport\">报告预览</Button>\r\n          </div>\r\n          <div class=\"save btn\">\r\n            <Button type=\"default\" @click=\"saveReport\">报告生成并保存</Button>\r\n          </div>\r\n        </div>\r\n      <div class=\"user-table\">\r\n        <Table class=\"m-table no-scroll no-border\"\r\n               stripe\r\n               :loading=\"pageInfo.loading\"\r\n               :columns=\"tableColumns\"\r\n               :row-class-name=\"rowClassName\"\r\n               @on-row-click=\"onRowClick\"\r\n               :data=\"tableData\"></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page style=\"\"\r\n              @on-change=\"onPaginationChange\"\r\n              @on-page-size-change=\"onPaginationSizeChange\"\r\n              :current=\"pageInfo.pageIndex\"\r\n              :page-size=\"pageInfo.pageSize\"\r\n              :total=\"pageInfo.totalElements\"\r\n              show-elevator\r\n              show-sizer\r\n              show-total />\r\n      </div> -->\r\n    </div>\r\n    <!-- <custom-drawer ref=\"drawer\"\r\n                   width=\"500\"\r\n                   :title=\"title\"\r\n                   :formValidate=\"formValidate\"\r\n                   :formList=\"formList\"\r\n                   v-model=\"formValue\"\r\n                   @confirm=\"confirm\"></custom-drawer> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatusSelect from '@/components/status-select'\r\nimport LaboratoryList from '@/components/laboratory-list'\r\nimport OrgSelect from '@c/all-area-select'\r\nimport customDrawer from '@/components/common-drawer/common-drawer'\r\n\r\nexport default {\r\n  name: 'report-generate',\r\n  components: {\r\n    StatusSelect,\r\n    LaboratoryList,\r\n    OrgSelect,\r\n    customDrawer\r\n  },\r\n  data () {\r\n    return {\r\n      search: {\r\n        test: '',\r\n        name: '',\r\n        template: ''\r\n      },\r\n      pageInfo: {\r\n        loading: false,\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 30\r\n      },\r\n      reportFormList: [\r\n        {\r\n          type: 'select',\r\n          placeholder: '设备类型:',\r\n          value: 'deviceType',\r\n          data: [\r\n            {\r\n              value: 1,\r\n              name: '111'\r\n            },\r\n            {\r\n              value: 2,\r\n              name: '222'\r\n            },\r\n            {\r\n              value: 3,\r\n              name: '3333'\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          type: 'select',\r\n          placeholder: '设备名称:',\r\n          value: 'deviceName',\r\n          data: []\r\n        },\r\n        {\r\n          type: 'select',\r\n          placeholder: '设备编号:',\r\n          value: 'deviceCode',\r\n          data: []\r\n        },\r\n        {\r\n          type: 'select',\r\n          placeholder: '实验类型:',\r\n          value: 'testType',\r\n          data: []\r\n        },\r\n        {\r\n          type: 'select',\r\n          placeholder: '模板类型:',\r\n          value: 'tempType',\r\n          data: []\r\n        },\r\n        {\r\n          type: 'select',\r\n          placeholder: '模板版本:',\r\n          value: 'tempVerson',\r\n          data: []\r\n        },\r\n        {\r\n          type: 'select',\r\n          placeholder: '参数名称与数量:',\r\n          value: 'joinandnum',\r\n          data: []\r\n        },\r\n        {\r\n          type: 'select',\r\n          placeholder: '参数类型:',\r\n          value: 'argType',\r\n          data: []\r\n        },\r\n        {\r\n          type: 'date',\r\n          placeholder: '时间范围:',\r\n          value: 'date'\r\n        }\r\n      ],\r\n      reportFormValue: {\r\n        deviceType: 1,\r\n        deviceName: '',\r\n        deviceCode: '',\r\n        testType: '',\r\n        tempType: '',\r\n        tempVerson: '',\r\n        joinandnum: '',\r\n        argType: '',\r\n        date: ''\r\n      },\r\n      formList: [],\r\n      formValue: {},\r\n      formValidate: {},\r\n      type: '',\r\n      title: '',\r\n      tableData: [],\r\n      maxlength: 50,\r\n      tableColumns: [\r\n        {\r\n          title: '模板名称',\r\n          key: 'templateName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '实验类型',\r\n          key: 'templateTest',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '模板类型',\r\n          key: 'templateType',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '版本信息',\r\n          key: 'templateVersion',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '跟新时间',\r\n          key: 'updateTime',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 300,\r\n          // fixed: 'right',\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              // this.$hasAccess(\"devicegroup.query\") &&\r\n              h(\r\n                'span',\r\n                {\r\n                  style: {\r\n                    color: '#0084FF'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.showDrawer('edit', params)\r\n                    }\r\n                  }\r\n                },\r\n                '编辑'\r\n              ),\r\n              // this.$hasAccess(\"devicegroup.del\") &&\r\n              h(\r\n                'span',\r\n                {\r\n                  style: {\r\n                    color: '#F12121'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      // console.log(params)\r\n                      this.action(params.row, 'delete')\r\n                    }\r\n                  }\r\n                },\r\n                '删除'\r\n              )\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      drawer: false,\r\n      form: {\r\n        name: '',\r\n        type: ''\r\n      },\r\n      status: '',\r\n      formConfig: {\r\n        name: {\r\n          label: '请确认设备名称'\r\n        },\r\n        type: {\r\n          label: ''\r\n        }\r\n      },\r\n      currentIndex: 0\r\n    }\r\n  },\r\n  computed: {\r\n    url () {\r\n      let baseUrl = window.location.href.split('device')[0]\r\n      // let baseUrl = 'http://10.88.36.243/'\r\n      let extra = 'jmreport/list'\r\n      let {id} = this.$route.query\r\n      if (id) {\r\n        return baseUrl + 'jmreport/' + 'index/' + id\r\n      } else {\r\n        return baseUrl + extra\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  created () {\r\n    window.addEventListener('message', this.handleMessage)\r\n  },\r\n  methods: {\r\n    back () {\r\n      history.back()\r\n    },\r\n    // 获取iframe传过来的信息\r\n    handleMessage (event) {\r\n      // event为传过来的信息\r\n      // if (event.data.hasAdd) {\r\n      //   setTimeout(() => {\r\n      //     this.$router.push({\r\n      //       path: '/report-list'\r\n      //     })\r\n      //   }, 1000)\r\n      // }\r\n    },\r\n    loadTableData () {},\r\n    addItem () {},\r\n    onRowClick () {},\r\n    onPaginationChange () {},\r\n    onPaginationSizeChange () {},\r\n    rowClassName (row, index) {\r\n      if (row.id == this.currentIndex) {\r\n        return 'demo-table-info-row'\r\n      } else {\r\n\r\n      }\r\n    },\r\n    showDrawer (type) {\r\n      this.$refs.drawer.open()\r\n      this.type = type\r\n    },\r\n    action (params, type) {\r\n      this.openDrawer()\r\n    },\r\n    confirm () {},\r\n    previewReport () {\r\n      console.log(this.reportFormValue)\r\n    },\r\n    saveReport () {},\r\n    dateChange (date) {\r\n      console.log(date)\r\n      this.reportFormValue.date = date\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../../../style/varient';\r\n@size-padding: 10px;\r\n.iframe-box{\r\n  width: 100%;\r\n  height: 750px;\r\n  iframe{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n.title{\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.report-list {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 24px;\r\n    .filters{\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      &-item{\r\n        width: 307px;\r\n        height: 28px;\r\n        margin-right: 20px;\r\n        margin-bottom: 12px;\r\n        &:nth-child(5n){\r\n          margin-right: 0;\r\n        }\r\n        &:last-child{\r\n          width: 635px;\r\n          .time-data{\r\n            width: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .save-report{\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      padding-right: 32px;\r\n      .preview{\r\n        margin-right: 10px;\r\n      }\r\n      .ivu-btn{\r\n        width: 120px;\r\n        height: 28px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/report-manage/components/report-generate/report-generate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"report-list\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header-sub\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"breadcrumb-item-link\"},[_vm._v(\"报告管理\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"iframe-box\"},[_c('iframe',{attrs:{\"src\":_vm.url,\"frameborder\":\"0\"}})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b8149be\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/report-manage/components/report-generate/report-generate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b8149be\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./report-generate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./report-generate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./report-generate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b8149be\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./report-generate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b8149be\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/report-manage/components/report-generate/report-generate.vue\n// module id = null\n// module chunks = ","import Main from './report-generate.vue'\r\n\r\nexport default Main\n\n\n// WEBPACK FOOTER //\n// ./src/view/report-manage/components/report-generate/index.js"],"sourceRoot":""}