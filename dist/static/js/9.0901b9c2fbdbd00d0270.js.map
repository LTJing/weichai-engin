{"version":3,"sources":["webpack:///src/view/device-checklist/deviceDetail/device-control-manage.vue","webpack:///./src/view/device-checklist/deviceDetail/device-control-manage.vue?aa38","webpack:///./src/view/device-checklist/deviceDetail/device-control-manage.vue","webpack:///src/view/device-checklist/deviceDetail/device-point-manage.vue","webpack:///./src/view/device-checklist/deviceDetail/device-point-manage.vue?3241","webpack:///./src/view/device-checklist/deviceDetail/device-point-manage.vue","webpack:///src/view/device-checklist/deviceDetail/device-group-manage.vue","webpack:///./src/view/device-checklist/deviceDetail/device-group-manage.vue?1f64","webpack:///./src/view/device-checklist/deviceDetail/device-group-manage.vue","webpack:///src/view/device-checklist/deviceDetail/device-rule-manage.vue","webpack:///./src/view/device-checklist/deviceDetail/device-rule-manage.vue?4da3","webpack:///./src/view/device-checklist/deviceDetail/device-rule-manage.vue","webpack:///src/view/device-checklist/deviceDetail/device-list-detail.vue","webpack:///./src/view/device-checklist/deviceDetail/device-list-detail.vue?bce7","webpack:///./src/view/device-checklist/deviceDetail/device-list-detail.vue"],"names":["device_control_manage","components","StatusSelect","device_select","LaboratoryList","laboratory_list","data","pageInfo","loading","pageIndex","pageSize","totalElements","tableData","maxlength","selectLocation","tableColumns","title","key","align","width","render","h","params","row","latitude","longitude","currentIndex","type","computed","deviceName","this","$route","query","methods","back","$router","push","name","getlocation","e","formValue","lng","lat","loadTableData","clear","_this","id","_pageInfo","pageNumber","Object","device","then","res","code","result","onRowClick","onPaginationChange","index","onPaginationSizeChange","size","rowClassName","mounted","deviceDetail_device_control_manage","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","on","click","_s","stripe","columns","row-class-name","on-row-click","current","page-size","total","show-elevator","show-sizer","show-total","on-change","on-page-size-change","staticRenderFns","device_checklist_deviceDetail_device_control_manage","__webpack_require__","normalizeComponent","ssrContext","device_point_manage","listStyle","height","document","body","clientWidth","targetKeys","allPoints","getTargetKeys","map","i","itemName","handleChange","newTargetKeys","render3","item","label","reloadMockData","_this2","alias","confirm","_this3","deviceId","itemIds","$Message","success","warning","msg","deviceDetail_device_point_manage","target-keys","list-style","render-format","operations","filterable","titles","margin-top","display","justify-content","device_checklist_deviceDetail_device_point_manage","device_point_manage_normalizeComponent","device_group_manage","deviceControlMode","deviceDetail_device_group_manage","device_checklist_deviceDetail_device_group_manage","device_group_manage_normalizeComponent","device_rule_manage","customDrawer","common_drawer","accidentTreeId","typeList","symbol","conditionSymbol","state","class","style","marginLeft","color","showDrawer","formList","value","formValidate","required","message","itemCode","conditionValue","ruleName","alarmContent","getTree","accidentTreeName","val","JSON","parse","stringify_default","$refs","drawer","open","$Modal","$t","$flexible","content","onOk","_this4","extends_default","close","_this5","treeId","deviceDetail_device_rule_manage","$event","ref","model","callback","$$v","expression","device_checklist_deviceDetail_device_rule_manage","device_rule_manage_normalizeComponent","device_list_detail","tab","common_tab","deviceGroupManage","devicePointManage","mixins","router_transition","tabList","com","tabIndex","is","created","changeTab","deviceDetail_device_list_detail","change","enter-active-class","routerTransitionClass","enter","leave-active-class","leave","tag","device_list_detail_Component","device_list_detail_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/9.0901b9c2fbdbd00d0270.js","sourcesContent":["<template>\r\n  <div class=\"list\">\r\n    <div class=\"content\">\r\n      <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">设备详情</div>\r\n          <span class=\"empty\"></span>\r\n          <Button type=\"primary\" @click=\"back\" style=\"width:80px\">返回</Button>\r\n        </div>\r\n      </div>\r\n       <div class=\"title\">\r\n        {{'名称：' + deviceName}}\r\n      </div>\r\n      <div class=\"user-table\">\r\n        <Table class=\"m-table no-scroll no-border\"\r\n               stripe\r\n               :loading=\"pageInfo.loading\"\r\n               :columns=\"tableColumns\"\r\n               :row-class-name=\"rowClassName\"\r\n               @on-row-click=\"onRowClick\"\r\n               :data=\"tableData\"></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page @on-change=\"onPaginationChange\"\r\n              @on-page-size-change=\"onPaginationSizeChange\"\r\n              :current=\"pageInfo.pageIndex\"\r\n              :page-size=\"pageInfo.pageSize\"\r\n              :total=\"pageInfo.totalElements\"\r\n              show-elevator\r\n              show-sizer\r\n              show-total />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatusSelect from '@/components/device-select'\r\nimport LaboratoryList from '@/components/laboratory-list'\r\nimport { getControlMode } from '@/api/device'\r\nexport default {\r\n  components: {\r\n    StatusSelect,\r\n    LaboratoryList\r\n  },\r\n  data () {\r\n    return {\r\n      pageInfo: {\r\n        loading: false,\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 30\r\n      },\r\n      tableData: [],\r\n      maxlength: 50,\r\n      selectLocation: '',\r\n      tableColumns: [\r\n        {\r\n          title: '设备名称',\r\n          key: 'deviceName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '设备类型',\r\n          key: 'typeName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '设备型号',\r\n          key: 'modelName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '设备编码',\r\n          key: 'deviceCode',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '坐标',\r\n          key: 'latitude',\r\n          align: 'left',\r\n          width: 200,\r\n          render: (h, params) => {\r\n            if (params.row.latitude && params.row.longitude) {\r\n              return h('div', params.row.longitude + ',' + params.row.latitude)\r\n            } else {\r\n              return ''\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: '孪生模型',\r\n          key: 'twinModel',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '健康诊断模型',\r\n          key: 'healthDiagnosisModel',\r\n          align: 'left'\r\n        }\r\n      ],\r\n      currentIndex: 0,\r\n      title: '',\r\n      type: ''\r\n    }\r\n  },\r\n  computed: {\r\n    deviceName () {\r\n      return this.$route.query.deviceName\r\n    }\r\n  },\r\n  methods: {\r\n    back () {\r\n      this.$router.push({\r\n        name: 'device-checklist'\r\n      })\r\n    },\r\n    getlocation (e) {\r\n      this.formValue.longitude = e.lng\r\n      this.formValue.latitude = e.lat\r\n    },\r\n    loadTableData (clear) {\r\n      let id = this.$route.query.id\r\n      this.pageInfo.loading = true\r\n      if (clear) {\r\n        this.pageInfo.pageIndex = 1\r\n      }\r\n      let {pageIndex: pageNumber, pageSize} = this.pageInfo\r\n      getControlMode({id, pageNumber, pageSize}).then(res => {\r\n        let {code, data} = res\r\n        this.pageInfo.loading = false\r\n        if (code === 200) {\r\n          this.tableData = data.data.result\r\n          this.pageInfo.totalElements = data.data.totalElements\r\n        }\r\n      })\r\n    },\r\n    onRowClick () {},\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(true)\r\n    },\r\n    rowClassName (row, index) {\r\n      if (row.id == this.currentIndex) {\r\n        return 'demo-table-info-row'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTableData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../../style/varient';\r\n@size-padding: 10px;\r\n\r\n.title{\r\n  margin-bottom:24px;\r\n  font-size: 14px;\r\n  font-family: Alibaba PuHuiTi;\r\n  font-weight: 400;\r\n  line-height: 32px;\r\n  color: #FFFFFF;\r\n}\r\n.list {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 24px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/device-checklist/deviceDetail/device-control-manage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header-sub\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"breadcrumb-item-link\"},[_vm._v(\"设备详情\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\"}),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      \"+_vm._s('名称：' + _vm.deviceName)+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"user-table\"},[_c('Table',{staticClass:\"m-table no-scroll no-border\",attrs:{\"stripe\":\"\",\"loading\":_vm.pageInfo.loading,\"columns\":_vm.tableColumns,\"row-class-name\":_vm.rowClassName,\"data\":_vm.tableData},on:{\"on-row-click\":_vm.onRowClick}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"current\":_vm.pageInfo.pageIndex,\"page-size\":_vm.pageInfo.pageSize,\"total\":_vm.pageInfo.totalElements,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onPaginationChange,\"on-page-size-change\":_vm.onPaginationSizeChange}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50a637b8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/device-checklist/deviceDetail/device-control-manage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50a637b8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./device-control-manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-control-manage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-control-manage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50a637b8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./device-control-manage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-50a637b8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/device-checklist/deviceDetail/device-control-manage.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"list\">\r\n    <div class=\"content\">\r\n      <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">设备详情</div>\r\n          <span class=\"empty\"></span>\r\n           <Button type=\"primary\" @click=\"back\" style=\"width:80px\">返回</Button>\r\n        </div>\r\n      </div>\r\n      <div class=\"title\">\r\n        {{'名称：' + deviceName}}\r\n      </div>\r\n      <div>\r\n        <Transfer\r\n        :data=\"allPoints\"\r\n        :target-keys=\"targetKeys\"\r\n        :list-style=\"listStyle\"\r\n        :render-format=\"render3\"\r\n        :operations=\"['移除','添加']\"\r\n        filterable\r\n        :loading=\"loading\"\r\n        :titles=\"['可选测点','已添加的测点']\"\r\n        @on-change=\"handleChange\"\r\n        >\r\n        </Transfer>\r\n      </div>\r\n      <div style=\"margin-top:24px;display:flex;justify-content:center;\">\r\n        <Button style=\"width:80px\" @click=\"confirm\">确定</Button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatusSelect from '@/components/device-select'\r\nimport LaboratoryList from '@/components/laboratory-list'\r\nimport {getPointDetailChonsen, getPointDetailAll, editPointDetailChonsen} from '@/api/device'\r\nexport default {\r\n  components: {\r\n    StatusSelect,\r\n    LaboratoryList\r\n  },\r\n  data () {\r\n    return {\r\n      tableData: [],\r\n      maxlength: 50,\r\n      listStyle: {\r\n        width: '45%',\r\n        height: document.body.clientWidth * 0.3 + 'px'\r\n      },\r\n      targetKeys: [],\r\n      allPoints: [],\r\n      deviceName: '',\r\n      loading: true\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTableData()\r\n    this.getTargetKeys()\r\n    this.deviceName = this.$route.query.deviceName\r\n  },\r\n  computed: {\r\n    id () {\r\n      return this.$route.query.id\r\n    }\r\n  },\r\n  methods: {\r\n    back () {\r\n      this.$router.push({\r\n        name: 'device-checklist'\r\n      })\r\n    },\r\n    getTargetKeys () {\r\n      getPointDetailChonsen({id: this.id}).then(res => {\r\n        if (res.code === 200) {\r\n          this.targetKeys = res.data.map(i => i.itemName)\r\n        }\r\n      })\r\n    },\r\n    handleChange (newTargetKeys) {\r\n      this.targetKeys = newTargetKeys\r\n    },\r\n    render3 (item) {\r\n      return item.label\r\n    },\r\n    reloadMockData () {\r\n      this.loadTableData()\r\n      this.getTargetKeys()\r\n    },\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(true)\r\n    },\r\n    loadTableData (clear) {\r\n      this.loading = true\r\n      if (clear) {\r\n        this.pageInfo.pageIndex = 1\r\n      }\r\n      getPointDetailAll({}).then(res => {\r\n        if (res.code === 200) {\r\n          this.allPoints = res.data.map(i => {\r\n            return {\r\n              label: (i.alias || '') + i.itemName,\r\n              key: i.itemName\r\n            }\r\n          })\r\n          this.loading = false\r\n        }\r\n      })\r\n    },\r\n    confirm () {\r\n      editPointDetailChonsen({deviceId: this.id, itemIds: this.targetKeys}).then(res => {\r\n        if (res.code === 200) {\r\n          this.$Message.success('更新成功')\r\n        } else {\r\n          this.$Message.warning(res.msg)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../../style/varient';\r\n@size-padding: 10px;\r\n.title{\r\n  margin-bottom:24px;\r\n  font-size: 14px;\r\n  font-family: Alibaba PuHuiTi;\r\n  font-weight: 400;\r\n  line-height: 32px;\r\n  color: #FFFFFF;\r\n}\r\n.list {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 24px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/device-checklist/deviceDetail/device-point-manage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header-sub\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"breadcrumb-item-link\"},[_vm._v(\"设备详情\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\"}),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      \"+_vm._s('名称：' + _vm.deviceName)+\"\\n    \")]),_vm._v(\" \"),_c('div',[_c('Transfer',{attrs:{\"data\":_vm.allPoints,\"target-keys\":_vm.targetKeys,\"list-style\":_vm.listStyle,\"render-format\":_vm.render3,\"operations\":['移除','添加'],\"filterable\":\"\",\"loading\":_vm.loading,\"titles\":['可选测点','已添加的测点']},on:{\"on-change\":_vm.handleChange}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"24px\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('Button',{staticStyle:{\"width\":\"80px\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-197b1b56\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/device-checklist/deviceDetail/device-point-manage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-197b1b56\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./device-point-manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-point-manage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-point-manage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-197b1b56\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./device-point-manage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-197b1b56\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/device-checklist/deviceDetail/device-point-manage.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"list\">\r\n    <div class=\"content\">\r\n      <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">设备详情</div>\r\n          <span class=\"empty\"></span>\r\n           <Button type=\"primary\" @click=\"back\" style=\"width:80px\">返回</Button>\r\n        </div>\r\n      </div>\r\n      <div class=\"title\">\r\n        {{'名称：' + deviceName}}\r\n      </div>\r\n      <div class=\"user-table\">\r\n        <Table class=\"m-table no-scroll no-border\"\r\n               stripe\r\n               :loading=\"pageInfo.loading\"\r\n               :columns=\"tableColumns\"\r\n               :row-class-name=\"rowClassName\"\r\n               @on-row-click=\"onRowClick\"\r\n               :data=\"tableData\"></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page style=\"\"\r\n              @on-change=\"onPaginationChange\"\r\n              @on-page-size-change=\"onPaginationSizeChange\"\r\n              :current=\"pageInfo.pageIndex\"\r\n              :page-size=\"pageInfo.pageSize\"\r\n              :total=\"pageInfo.totalElements\"\r\n              show-elevator\r\n              show-sizer\r\n              show-total />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatusSelect from '@/components/device-select'\r\nimport LaboratoryList from '@/components/laboratory-list'\r\nimport { getGroupChild } from '@/api/device'\r\nexport default {\r\n  components: {\r\n    StatusSelect,\r\n    LaboratoryList\r\n  },\r\n  data () {\r\n    return {\r\n      pageInfo: {\r\n        loading: false,\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 30\r\n      },\r\n      tableData: [],\r\n      maxlength: 50,\r\n      selectLocation: '',\r\n      tableColumns: [\r\n        {\r\n          title: '设备名称',\r\n          key: 'deviceName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '设备类型',\r\n          key: 'typeName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '设备型号',\r\n          key: 'modelName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '设备编码',\r\n          key: 'deviceCode',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '控制场景',\r\n          key: 'deviceControlMode',\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            if (params.row.deviceControlMode) {\r\n              switch (params.row.deviceControlMode) {\r\n                case 'SINGLE_FCU':\r\n                  return h('div', '单机FCU控制')\r\n                case 'ALL_FCU':\r\n                  return h('div', '整机FCU控制')\r\n                case 'PCS':\r\n                  return h('div', 'PCS控制')\r\n                case 'BATTERY':\r\n                  return h('div', '电池控制')\r\n              }\r\n            } else {\r\n              return h('div', '')\r\n            }\r\n          }\r\n        },\r\n        {\r\n          title: '坐标',\r\n          key: 'latitude',\r\n          align: 'left',\r\n          width: 200,\r\n          render: (h, params) => {\r\n            if (params.row.latitude && params.row.longitude) {\r\n              return h('div', params.row.longitude + ',' + params.row.latitude)\r\n            } else {\r\n              return ''\r\n            }\r\n          }\r\n        }\r\n      ],\r\n      currentIndex: 0,\r\n      title: '',\r\n      type: ''\r\n    }\r\n  },\r\n  computed: {\r\n    deviceName () {\r\n      return this.$route.query.deviceName\r\n    }\r\n  },\r\n  methods: {\r\n    back () {\r\n      this.$router.push({\r\n        name: 'device-checklist'\r\n      })\r\n    },\r\n    getlocation (e) {\r\n      this.formValue.longitude = e.lng\r\n      this.formValue.latitude = e.lat\r\n    },\r\n    loadTableData (clear) {\r\n      let id = this.$route.query.id\r\n      this.pageInfo.loading = true\r\n      if (clear) {\r\n        this.pageInfo.pageIndex = 1\r\n      }\r\n      let {pageIndex: pageNumber, pageSize} = this.pageInfo\r\n      getGroupChild({id, pageNumber, pageSize}).then(res => {\r\n        let {code, data} = res\r\n        this.pageInfo.loading = false\r\n        if (code === 200) {\r\n          this.tableData = data.result\r\n          this.pageInfo.totalElements = data.totalElements\r\n        }\r\n      })\r\n    },\r\n    onRowClick () {},\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(true)\r\n    },\r\n    rowClassName (row, index) {\r\n      if (row.id == this.currentIndex) {\r\n        return 'demo-table-info-row'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTableData()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../../style/varient';\r\n@size-padding: 10px;\r\n.title{\r\n  margin-bottom:24px;\r\n  font-size: 14px;\r\n  font-family: Alibaba PuHuiTi;\r\n  font-weight: 400;\r\n  line-height: 32px;\r\n  color: #FFFFFF;\r\n}\r\n.list {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 24px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/device-checklist/deviceDetail/device-group-manage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header-sub\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"breadcrumb-item-link\"},[_vm._v(\"设备详情\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\"}),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      \"+_vm._s('名称：' + _vm.deviceName)+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"user-table\"},[_c('Table',{staticClass:\"m-table no-scroll no-border\",attrs:{\"stripe\":\"\",\"loading\":_vm.pageInfo.loading,\"columns\":_vm.tableColumns,\"row-class-name\":_vm.rowClassName,\"data\":_vm.tableData},on:{\"on-row-click\":_vm.onRowClick}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"current\":_vm.pageInfo.pageIndex,\"page-size\":_vm.pageInfo.pageSize,\"total\":_vm.pageInfo.totalElements,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onPaginationChange,\"on-page-size-change\":_vm.onPaginationSizeChange}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5abaea5b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/device-checklist/deviceDetail/device-group-manage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5abaea5b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./device-group-manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-group-manage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-group-manage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5abaea5b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./device-group-manage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5abaea5b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/device-checklist/deviceDetail/device-group-manage.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"list\">\r\n    <div class=\"content\">\r\n      <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">设备详情</div>\r\n          <span class=\"empty\"></span>\r\n          <Button type=\"primary\" @click=\"back\" style=\"width:80px\">返回</Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div style=\"display:flex;justify-content:space-between\">\r\n        <!-- <div class=\"filter-search-left\">\r\n          <div class=\"filter-select mr-12\">\r\n            <Select placeholder=\"选择故障树\" v-model=\"accidentTreeId\" clearable>\r\n              <Option v-for=\"item in typeList\" :value=\"item.value\" :key=\"item.value\">{{ item.name }}</Option>\r\n            </Select>\r\n          </div>\r\n        </div> -->\r\n        <div class=\"title\">\r\n          {{ \"名称：\" + deviceName }}\r\n        </div>\r\n        <div class=\"filter-search-right\">\r\n          <span class=\"t-btn\">\r\n            <Button @click=\"showDrawer('add')\">\r\n              <span class=\"iconfont icon-a-lianhe68\"></span>\r\n              新增\r\n            </Button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"user-table\">\r\n        <Table\r\n          class=\"m-table no-scroll no-border\"\r\n          stripe\r\n          :loading=\"pageInfo.loading\"\r\n          :columns=\"tableColumns\"\r\n          :row-class-name=\"rowClassName\"\r\n          @on-row-click=\"onRowClick\"\r\n          :data=\"tableData\"\r\n        ></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page\r\n          @on-change=\"onPaginationChange\"\r\n          @on-page-size-change=\"onPaginationSizeChange\"\r\n          :current=\"pageInfo.pageIndex\"\r\n          :page-size=\"pageInfo.pageSize\"\r\n          :total=\"pageInfo.totalElements\"\r\n          show-elevator\r\n          show-sizer\r\n          show-total\r\n        />\r\n      </div>\r\n    </div>\r\n    <custom-drawer\r\n      ref=\"drawer\"\r\n      :title=\"title\"\r\n      :formValidate=\"formValidate\"\r\n      :formList=\"formList\"\r\n      v-model=\"formValue\"\r\n      @confirm=\"confirm\"\r\n    ></custom-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatusSelect from '@/components/device-select';\r\nimport LaboratoryList from '@/components/laboratory-list';\r\nimport customDrawer from '@/components/common-drawer/common-drawer';\r\nimport {\r\n  getRuleList,\r\n  addRule,\r\n  updateRule,\r\n  deleteRule,\r\n  getTreeList\r\n} from '@/api/device';\r\nexport default {\r\n  components: {\r\n    StatusSelect,\r\n    LaboratoryList,\r\n    customDrawer\r\n  },\r\n  data () {\r\n    return {\r\n      accidentTreeId: '',\r\n      typeList: [],\r\n      pageInfo: {\r\n        loading: false,\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 30\r\n      },\r\n      tableData: [],\r\n      maxlength: 50,\r\n      selectLocation: '',\r\n      tableColumns: [\r\n        {\r\n          title: '规则名称',\r\n          key: 'ruleName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '关联测点',\r\n          key: 'itemCode',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '判断符号',\r\n          key: 'conditionSymbol',\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            let symbol = '';\r\n            switch (params.row.conditionSymbol) {\r\n              case 'EQUAL':\r\n                symbol = '等于';\r\n                break\r\n              case 'EQUAL_AND_MORE':\r\n                symbol = '大于等于';\r\n                break\r\n              case 'LESS':\r\n                symbol = '小于';\r\n                break\r\n              case 'EQUAL_AND_LESS':\r\n                symbol = '小于等于';\r\n                break\r\n              case 'MORE':\r\n                symbol = '大于';\r\n                break\r\n            }\r\n            return h('div', symbol)\r\n          }\r\n        },\r\n        {\r\n          title: '阈值',\r\n          key: 'conditionValue',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '报警内容',\r\n          key: 'alarmContent',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '是否启用',\r\n          key: 'state',\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', params.row.state === 'ON' ? '是' : '否')\r\n          }\r\n        },\r\n        {\r\n          title: '故障代码',\r\n          key: 'engRuleName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 200,\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h(\r\n                'span',\r\n                {\r\n                  class: 'primary',\r\n                  style: {\r\n                    marginLeft: 0,\r\n                    color: '#0084FF'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.showDrawer('edit', params.row)\r\n                    }\r\n                  }\r\n                },\r\n                '编辑'\r\n              ),\r\n              h(\r\n                'span',\r\n                {\r\n                  class: 'primary',\r\n                  style: {\r\n                    marginLeft: 0,\r\n                    color: '#0084FF'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.showDrawer('delete', params.row)\r\n                    }\r\n                  }\r\n                },\r\n                '删除'\r\n              )\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      currentIndex: 0,\r\n      title: '',\r\n      type: '',\r\n      formList: [\r\n        {\r\n          label: '规则名称',\r\n          type: 'input',\r\n          value: 'ruleName'\r\n        },\r\n        {\r\n          label: '测点',\r\n          type: 'input',\r\n          value: 'itemCode'\r\n        },\r\n        {\r\n          label: '范围',\r\n          type: 'select',\r\n          value: 'conditionSymbol',\r\n          data: [\r\n            { name: '等于', value: 'EQUAL' },\r\n            { name: '大于等于', value: 'EQUAL_AND_MORE' },\r\n            { name: '小于', value: 'LESS' },\r\n            { name: '小于等于', value: 'EQUAL_AND_LESS' },\r\n            { name: '大于', value: 'MORE' }\r\n          ]\r\n        },\r\n        {\r\n          label: '阈值',\r\n          type: 'input',\r\n          value: 'conditionValue'\r\n        },\r\n        {\r\n          label: '报警内容',\r\n          type: 'textarea',\r\n          value: 'alarmContent'\r\n        },\r\n        {\r\n          label: '故障代码',\r\n          type: 'input',\r\n          value: 'engRuleName'\r\n        },\r\n\r\n        {\r\n          label: '是否启用',\r\n          type: 'switch',\r\n          value: 'state'\r\n        }\r\n      ],\r\n      formValue: {},\r\n      formValidate: {\r\n        conditionSymbol: [{ required: true, message: '范围不能为空' }],\r\n        itemCode: [{ required: true, message: '测点不能为空' }],\r\n        conditionValue: [{ required: true, message: '阈值不能为空' }],\r\n        ruleName: [{ required: true, message: '规则名称不能为空' }],\r\n        alarmContent: [{ required: true, message: '报警内容不能为空' }]\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    deviceName () {\r\n      return this.$route.query.deviceName\r\n    }\r\n  },\r\n  methods: {\r\n    getTree () {\r\n      getTreeList().then(res => {\r\n        if (res.code === 200) {\r\n          this.typeList = res.data.map(i => {\r\n            return {\r\n              name: i.accidentTreeName,\r\n              value: i.id\r\n            }\r\n          })\r\n          if (this.accidentTreeId === '') {\r\n            this.accidentTreeId = this.typeList[0].value\r\n          }\r\n        }\r\n      })\r\n    },\r\n    showDrawer (type, params) {\r\n      if (type !== 'delete') {\r\n        if (type === 'add') {\r\n          this.title = '新建';\r\n          this.formValue = {}\r\n          this.formValue.state = 'ON';\r\n        } else {\r\n          let val = JSON.parse(JSON.stringify(params))\r\n          this.title = '编辑';\r\n          this.formValue = val\r\n        }\r\n        this.type = type\r\n        this.$refs.drawer.open()\r\n      } else {\r\n        this.$Modal.confirm({\r\n          title: this.$t('common.text.prompt'),\r\n          width: this.$flexible(450),\r\n          content:\r\n            this.$t('common.text.confirm_title', {\r\n              name: '关联测点'\r\n            }) + `[${params.itemCode}]的规则吗?`,\r\n          onOk: () => {\r\n            deleteRule({ id: params.id }).then(\r\n              res => {\r\n                if (res.code === 200) {\r\n                  this.$Message.success('删除成功')\r\n                  this.loadTableData()\r\n                } else {\r\n                  this.$Message.warning(res.msg)\r\n                }\r\n              },\r\n              res => {\r\n                this.$Message.warning(res.msg)\r\n              }\r\n            )\r\n          }\r\n        })\r\n      }\r\n    },\r\n    confirm () {\r\n      let deviceId = this.$route.query.id\r\n      if (this.type === 'edit') {\r\n        updateRule({ ...this.formValue, deviceId }).then(res => {\r\n          let { code, msg } = res\r\n          if (code === 200) {\r\n            this.$Message.success(this.$t('common.message.edit_success'))\r\n            this.loadTableData()\r\n            this.$refs.drawer.close()\r\n          } else {\r\n            this.$Message.warning(msg)\r\n          }\r\n        })\r\n      } else {\r\n        addRule({ ...this.formValue, deviceId }).then(res => {\r\n          let { code, msg } = res\r\n          if (code === 200) {\r\n            this.$Message.success(this.$t('common.message.add_success'))\r\n            this.loadTableData()\r\n            this.$refs.drawer.close()\r\n          } else {\r\n            this.$Message.warning(msg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    back () {\r\n      this.$router.push({\r\n        name: 'device-checklist'\r\n      })\r\n    },\r\n    getlocation (e) {\r\n      this.formValue.longitude = e.lng\r\n      this.formValue.latitude = e.lat\r\n    },\r\n    loadTableData (clear) {\r\n      let treeId = this.$route.query.treeId\r\n      let deviceId = this.$route.query.id\r\n      this.accidentTreeId = treeId || '';\r\n      this.pageInfo.loading = true\r\n      if (clear) {\r\n        this.pageInfo.pageIndex = 1\r\n      }\r\n      let { pageIndex: pageNumber, pageSize } = this.pageInfo\r\n      getRuleList({ deviceId, pageNumber, pageSize }).then(res => {\r\n        let { code, data } = res\r\n        this.pageInfo.loading = false\r\n        if (code === 200) {\r\n          this.tableData = data.result\r\n          this.pageInfo.totalElements = data.totalElements\r\n        }\r\n      })\r\n    },\r\n    onRowClick () {},\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(true)\r\n    },\r\n    rowClassName (row, index) {\r\n      if (row.id == this.currentIndex) {\r\n        return 'demo-table-info-row';\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTableData()\r\n    this.getTree()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"../../../style/varient\";\r\n@size-padding: 10px;\r\n\r\n.title {\r\n  margin-bottom: 24px;\r\n  font-size: 14px;\r\n  font-family: Alibaba PuHuiTi;\r\n  font-weight: 400;\r\n  line-height: 32px;\r\n  color: #ffffff;\r\n}\r\n.list {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 24px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/device-checklist/deviceDetail/device-rule-manage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header-sub\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"breadcrumb-item-link\"},[_vm._v(\"设备详情\")]),_vm._v(\" \"),_c('span',{staticClass:\"empty\"}),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")])],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(\"名称：\" + _vm.deviceName)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"filter-search-right\"},[_c('span',{staticClass:\"t-btn\"},[_c('Button',{on:{\"click\":function($event){_vm.showDrawer('add')}}},[_c('span',{staticClass:\"iconfont icon-a-lianhe68\"}),_vm._v(\"\\n            新增\\n          \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"user-table\"},[_c('Table',{staticClass:\"m-table no-scroll no-border\",attrs:{\"stripe\":\"\",\"loading\":_vm.pageInfo.loading,\"columns\":_vm.tableColumns,\"row-class-name\":_vm.rowClassName,\"data\":_vm.tableData},on:{\"on-row-click\":_vm.onRowClick}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"current\":_vm.pageInfo.pageIndex,\"page-size\":_vm.pageInfo.pageSize,\"total\":_vm.pageInfo.totalElements,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onPaginationChange,\"on-page-size-change\":_vm.onPaginationSizeChange}})],1)]),_vm._v(\" \"),_c('custom-drawer',{ref:\"drawer\",attrs:{\"title\":_vm.title,\"formValidate\":_vm.formValidate,\"formList\":_vm.formList},on:{\"confirm\":_vm.confirm},model:{value:(_vm.formValue),callback:function ($$v) {_vm.formValue=$$v},expression:\"formValue\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bb6b3cc0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/device-checklist/deviceDetail/device-rule-manage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bb6b3cc0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./device-rule-manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-rule-manage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-rule-manage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bb6b3cc0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./device-rule-manage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bb6b3cc0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/device-checklist/deviceDetail/device-rule-manage.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"platform\">\r\n    <tab :data=\"tabList\" @change=\"changeTab\" :current=\"tabIndex\"></tab>\r\n    <div class=\"content\">\r\n      <transition :enter-active-class=\"routerTransitionClass.enter\"\r\n                      :leave-active-class=\"routerTransitionClass.leave\">\r\n        <component :is=\"is\"></component>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tab from '@/components/common-tab'\r\nimport deviceControlManage from './device-control-manage.vue'\r\nimport devicePointManage from './device-point-manage.vue'\r\nimport deviceGroupManage from './device-group-manage.vue'\r\nimport deviceRuleManage from './device-rule-manage.vue'\r\nimport RouterTransition from '@/mixins/router-transition'\r\n\r\nexport default {\r\n  name: 'device-list-detail',\r\n  components: {\r\n    tab,\r\n    deviceGroupManage,\r\n    devicePointManage\r\n  },\r\n  mixins: [RouterTransition],\r\n  data () {\r\n    return {\r\n      tabList: [\r\n        {\r\n          id: 1,\r\n          name: '机组配置',\r\n          com: deviceGroupManage\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '测点配置',\r\n          com: devicePointManage\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '控制配置',\r\n          com: deviceControlManage\r\n        },\r\n        {\r\n          id: 4,\r\n          name: '规则配置',\r\n          com: deviceRuleManage\r\n        }\r\n      ],\r\n      tabIndex: 0,\r\n      is: null\r\n    }\r\n  },\r\n  created () {\r\n    this.is = this.tabList[this.tabIndex].com\r\n  },\r\n  methods: {\r\n    changeTab (index) {\r\n      this.tabIndex = index\r\n      this.is = this.tabList[index].com\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../../style/varient';\r\n@size-padding: 10px;\r\n.platform{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  .content{\r\n    width: 100%;\r\n    height: calc(~\"100% - \" 40px);\r\n    // background-color: #fff;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/device-checklist/deviceDetail/device-list-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"platform\"},[_c('tab',{attrs:{\"data\":_vm.tabList,\"current\":_vm.tabIndex},on:{\"change\":_vm.changeTab}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('transition',{attrs:{\"enter-active-class\":_vm.routerTransitionClass.enter,\"leave-active-class\":_vm.routerTransitionClass.leave}},[_c(_vm.is,{tag:\"component\"})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-16aa0cea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/device-checklist/deviceDetail/device-list-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-16aa0cea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./device-list-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-list-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./device-list-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-16aa0cea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./device-list-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-16aa0cea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/device-checklist/deviceDetail/device-list-detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}