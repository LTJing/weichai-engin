{"version":3,"sources":["webpack:///src/view/statistical-analysis/components/history-record/history-record.vue","webpack:///./src/api/record.js","webpack:///./src/view/statistical-analysis/components/history-record/history-record.vue?0953","webpack:///./src/view/statistical-analysis/components/history-record/history-record.vue","webpack:///./src/view/statistical-analysis/components/history-record/index.js"],"names":["history_record","name","components","data","_this","this","formFilter","serLoading","formValidate","tableData","saveLoading","title","ruleValidate","type","required","message","trigger","tableColumns","key","align","width","render","h","params","props","size","style","marginRight","color","on","click","editInfo","row","detailInfo","cursor","deleteInfo","pageInfo","pageIndex","pageSize","totalElements","loading","modalNew","computed","watch","methods","item","$router","push","id","extends_default","checkFrom","_this2","promise_default","a","resolve","reject","$refs","formNew","validate","valid","b","saveInfo","_this3","then","_ref4","takeAwayDetails","content","axios","request","url","method","res","$Message","info","$t","loadTableData","code","warning","msg","_ref3","record_addTakeAway","success","addCancel","uInfo","_this4","$Modal","confirm","$flexible","onOk","_ref5","clickshow","clear","_ref","_this5","pageNumber","result","map","d","onPaginationChange","index","onPaginationSizeChange","mounted","destroyed","history_record_history_record","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","ref","attrs","model","label","placeholder","nativeOn","keyup","$event","_k","keyCode","value","callback","$$v","$set","expression","label-width","row-class-name","stripe","border","columns","current","page-size","total","show-sizer","show-total","on-change","on-page-size-change","footer-hide","rules","prop","maxlength","staticRenderFns","components_history_record_history_record","__webpack_require__","normalizeComponent","ssrContext","Main"],"mappings":"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","file":"static/js/36.e60d4cb14cc1c8832462.js","sourcesContent":["<template>\r\n  <div class=\"history-record\">\r\n    <div class=\"header-sub\">\r\n      <span class=\"title\">装车日志</span>\r\n    </div>\r\n    <div class=\"header\">\r\n      <div class=\"filter\">\r\n        <Form ref=\"formFilter\" :model=\"formFilter\">\r\n          <FormItem label=\"输入搜索\">\r\n            <Input\r\n              placeholder=\"请输入装车日志名称\"\r\n              class=\"filter-input\"\r\n              v-model=\"formFilter.name\"\r\n              @keyup.enter.native=\"loadTableData(true)\"\r\n            />\r\n          </FormItem>\r\n          <FormItem :label-width=\"10\">\r\n            <Button @click=\"loadTableData(true)\" class=\"search-btn\" :loading=\"pageInfo.loading\" type=\"primary\">\r\n              <Icon type=\"search\"/>\r\n              查询\r\n            </Button>\r\n          </FormItem>\r\n        </Form>\r\n        <Button class=\"btn-create\" type=\"primary\"\r\n                @click=\"clickshow\"\r\n        >新增\r\n        </Button>\r\n        <!--        </router-link>-->\r\n        <!-- <router-link :to=\"{name:'device-type-new'}\">\r\n          <Button class=\"btn-create\" type=\"primary\" v-if=\"$hasAccess('permission.add')\">新建</Button>\r\n        </router-link>-->\r\n      </div>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"user-table\">\r\n        <Table\r\n          class=\"m-table no-scroll\"\r\n          :loading=\"pageInfo.loading\"\r\n          :row-class-name=\"(row,index)=>index%2===1?'even':''\"\r\n          stripe\r\n          border\r\n          :columns=\"tableColumns\"\r\n          :data=\"tableData\"\r\n        ></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page\r\n          @on-change=\"onPaginationChange\"\r\n          @on-page-size-change=\"onPaginationSizeChange\"\r\n          :current=\"pageInfo.pageIndex\"\r\n          :page-size=\"pageInfo.pageSize\"\r\n          :total=\"pageInfo.totalElements\"\r\n          show-sizer\r\n          show-total\r\n        />\r\n        <!--<div class=\"page-total\">共{{pageInfo.totalElements}}条</div>-->\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 新建编辑页面 -->\r\n    <Modal v-model=\"modalNew\" :title=\"title\" :width=\"$flexible(550)\" footer-hide>\r\n      <Form ref=\"formNew\" :rules=\"ruleValidate\" :model=\"formValidate\" :label-width=\"150\">\r\n        <FormItem label=\"日志名称：\" prop=\"name\">\r\n          <Input :maxlength=\"50\" placeholder=\"请输入日志名称\" class=\"search-input\"\r\n                 v-model=\"formValidate.name\"/>\r\n        </FormItem>\r\n      </Form>\r\n      <div class=\"ivu-modal-footer\">\r\n        <Button @click=\"addCancel\" class=\"search-btn\" type=\"default\">\r\n          <Icon type=\"search\"/>\r\n          取消\r\n        </Button>\r\n        <Button @click=\"saveInfo()\" class=\"search-btn\" type=\"primary\" :loading=\"saveLoading\">\r\n          <Icon type=\"search\"/>\r\n          保存\r\n        </Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {addTakeAway, delTakeAway, editTakeAway, listTakeAway} from '@/api/record'\r\n\r\nexport default {\r\n  name: 'history-record',\r\n  components: {},\r\n  data () {\r\n    return {\r\n      formFilter: {},\r\n      serLoading: false,\r\n      formValidate: {},\r\n      tableData: [],\r\n      saveLoading: false,\r\n      title: '新增装车日志',\r\n      ruleValidate: {\r\n        type: [{required: true, message: '保养类型不能为空', trigger: 'blur'}],\r\n        name: [{required: true, message: '保养名称不能为空', trigger: 'blur'}]\r\n      },\r\n      tableColumns: [\r\n        {\r\n          title: '日志名称',\r\n          key: 'name',\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '时间',\r\n          key: 'createTime',\r\n          align: 'center'\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 280,\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              // this.$hasAccess('type.edit') &&\r\n              h(\r\n                'Button',\r\n                {\r\n                  props: {\r\n                    type: 'text',\r\n                    size: 'small'\r\n                  },\r\n                  style: {\r\n                    marginRight: '8px',\r\n                    color: '#00c1de'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.editInfo(params.row)\r\n                    }\r\n                  }\r\n                },\r\n                '编辑'\r\n              ),\r\n              // this.$hasAccess('type.edit') &&\r\n              h(\r\n                'Button',\r\n                {\r\n                  props: {\r\n                    type: 'text',\r\n                    size: 'small'\r\n                  },\r\n                  style: {\r\n                    marginRight: '8px',\r\n                    color: '#00c1de'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.detailInfo(params.row)\r\n                    }\r\n                  }\r\n                },\r\n                '详情'\r\n              ),\r\n              // this.$hasAccess('type.del') &&\r\n              h(\r\n                'Button',\r\n                {\r\n                  props: {\r\n                    type: 'text',\r\n                    size: 'small'\r\n                  },\r\n                  style: {\r\n                    cursor: 'pointer',\r\n                    color: '#969696'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      // console.log(params)\r\n                      this.deleteInfo(params.row)\r\n                    }\r\n                  }\r\n                },\r\n                '删除'\r\n              )\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      pageInfo: {\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 0,\r\n        loading: false\r\n      },\r\n      modalNew: false\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  methods: {\r\n    detailInfo (item) {\r\n      this.$router.push({\r\n        name: 'load-log',\r\n        params: {\r\n          id: item.id\r\n        }\r\n      })\r\n    },\r\n    editInfo (item) {\r\n      this.formValidate = {...item}\r\n        this.title = '编辑装车日志'\r\n        this.modalNew = true\r\n    },\r\n    checkFrom () {\r\n      // let me = this;\r\n      return new Promise((resolve, reject) => {\r\n        this.$refs.formNew.validate((valid, b) => {\r\n          if (valid) {\r\n            resolve()\r\n          } else {\r\n            // console.log(b)\r\n            reject(valid, b)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    saveInfo () {\r\n      this.saveLoading = true\r\n      this.checkFrom().then(\r\n        () => {\r\n          if (this.formValidate.id) {\r\n            editTakeAway({\r\n              ...this.formValidate\r\n            }).then(\r\n              res => {\r\n                this.saveLoading = false\r\n                  this.$Message.info(this.$t('common.message.edit_success'))\r\n                  this.modalNew = false\r\n                  this.loadTableData()\r\n              },\r\n              res => {\r\n                this.saveLoading = false\r\n                  this.modalNew = false\r\n                  if (res.code == 1000) {\r\n                  this.$Message.warning(res.msg)\r\n                  } else {\r\n                  this.$Message.warning(this.$t('common.message.edit_fail'))\r\n                  }\r\n              }\r\n            )\r\n\r\n            } else {\r\n            addTakeAway({\r\n              ...this.formValidate\r\n            }).then(\r\n              res => {\r\n                this.saveLoading = false\r\n                  this.$Message.success(this.$t('common.message.add_success'))\r\n                  this.modalNew = false\r\n                  this.loadTableData()\r\n                },\r\n              res => {\r\n                this.saveLoading = false\r\n                  if (res.code == 1000) {\r\n                  this.$Message.warning(res.msg)\r\n                  } else {\r\n                  this.$Message.warning(this.$t('common.message.add_fail'))\r\n                  }\r\n              }\r\n            )\r\n\r\n            }\r\n        },\r\n        (valid, b) => {\r\n          this.saveLoading = false\r\n          // this.$Message.error(\"请检查输入\");\r\n        }\r\n      )\r\n    },\r\n    addCancel () {\r\n      this.modalNew = false\r\n    },\r\n    deleteInfo (uInfo) {\r\n      this.$Modal.confirm({\r\n        title: '提示',\r\n        width: this.$flexible(450),\r\n        content: '确认删除装车日志为' + `[${uInfo.name}]吗?`,\r\n        onOk: () => {\r\n          delTakeAway({\r\n            id: uInfo.id\r\n          }).then(\r\n            () => {\r\n              this.$Message.success(this.$t('common.message.delete_success'))\r\n              this.loadTableData()\r\n            },\r\n            res => {\r\n              if (res.code === 1000) {\r\n                this.$Message.warning(res.msg)\r\n              } else {\r\n                this.$Message.warning(this.$t('common.message.delete_fail'))\r\n              }\r\n            }\r\n          )\r\n        }\r\n      })\r\n    },\r\n    clickshow () {\r\n      this.modalNew = true\r\n        this.formValidate = {}\r\n        this.title = '新增车载记录';\r\n    },\r\n    loadTableData (clear) {\r\n      if (clear) {\r\n        this.pageInfo.pageIndex = 1\r\n      }\r\n      this.pageInfo.loading = true\r\n        listTakeAway({\r\n        pageSize: this.pageInfo.pageSize,\r\n        pageNumber: this.pageInfo.pageIndex,\r\n        name: this.formFilter.name\r\n      }).then(res => {\r\n        this.pageInfo.loading = false\r\n        this.tableData = (res.data.result || []).map(d => ({\r\n          ...d\r\n        }))\r\n        this.pageInfo.totalElements = res.data.totalElements || 0\r\n      })\r\n    },\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(true)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTableData(true)\r\n  },\r\n  destroyed () {\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  @import \"../../../../style/varient\";\r\n\r\n  @size-padding: 10px;\r\n  .history-record {\r\n    height: 100%;\r\n    // background-color: #eceff4;\r\n    background-color: #fff;\r\n    padding: 0 20px 20px 20px;\r\n\r\n    .header {\r\n      /*position: absolute;*/\r\n      height: 50px;\r\n      z-index: 20;\r\n\r\n      .filter {\r\n        width: 100%;\r\n        height: 45px;\r\n        display: flex;\r\n\r\n        .btn-create {\r\n          height: 31px;\r\n        }\r\n\r\n        .ivu-btn {\r\n          line-height: 1.3;\r\n        }\r\n\r\n        form {\r\n          width: 100%;\r\n          height: 45px;\r\n\r\n          display: flex;\r\n\r\n          .ivu-form-item {\r\n            display: flex;\r\n            margin-right: 15px;\r\n\r\n            .reset {\r\n              color: #515a6e;\r\n            }\r\n\r\n            .search-col {\r\n              width: 165px;\r\n            }\r\n\r\n            .ivu-btn {\r\n              line-height: 1.3;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .content {\r\n      position: relative;\r\n      min-height: 100%;\r\n\r\n      .user-table {\r\n        /*border:1px solid #d2d2d2;*/\r\n\r\n        .ivu-table-row.even {\r\n          background-color: #e5f5fe;\r\n        }\r\n      }\r\n\r\n      .pagination {\r\n        margin: 20px 0;\r\n        text-align: right;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/statistical-analysis/components/history-record/history-record.vue","import axios from '@/libs/api.request'\r\n\r\nexport const listTakeAway = ({pageNumber, pageSize,name}) => {\r\n  const data = {\r\n    pageNumber,\r\n    pageSize,\r\n    name\r\n  };\r\n  return axios.request({\r\n    url: 'takeAway/listTakeAway',\r\n    params: data,\r\n    method: 'get'\r\n  })\r\n};\r\n\r\nexport const getTakeAway = ({id}) => {\r\n  const data = {\r\n    id\r\n  };\r\n  return axios.request({\r\n    url: 'takeAway/getTakeAway',\r\n    params: data,\r\n    method: 'get'\r\n  })\r\n};\r\n\r\n\r\n\r\nexport const addTakeAway = ({name}) => {\r\n  const data = {\r\n    name\r\n  };\r\n  return axios.request({\r\n    url: '/takeAway/addTakeAway',\r\n    data: data,\r\n    method: 'post'\r\n  })\r\n};\r\n\r\nexport const editTakeAway = ({name,id,takeAwayDetails,content}) => {\r\n  const data = {\r\n    name,id,takeAwayDetails,content\r\n  };\r\n  return axios.request({\r\n    url: '/takeAway/editTakeAway',\r\n    data: data,\r\n    method: 'post'\r\n  })\r\n};\r\n\r\nexport const delTakeAway = ({id}) => {\r\n  const data = {\r\n    id\r\n  };\r\n  return axios.request({\r\n    url: '/takeAway/delTakeAway',\r\n    data: data,\r\n    method: 'post'\r\n  })\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/record.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"history-record\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"filter\"},[_c('Form',{ref:\"formFilter\",attrs:{\"model\":_vm.formFilter}},[_c('FormItem',{attrs:{\"label\":\"输入搜索\"}},[_c('Input',{staticClass:\"filter-input\",attrs:{\"placeholder\":\"请输入装车日志名称\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.loadTableData(true)}},model:{value:(_vm.formFilter.name),callback:function ($$v) {_vm.$set(_vm.formFilter, \"name\", $$v)},expression:\"formFilter.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label-width\":10}},[_c('Button',{staticClass:\"search-btn\",attrs:{\"loading\":_vm.pageInfo.loading,\"type\":\"primary\"},on:{\"click\":function($event){_vm.loadTableData(true)}}},[_c('Icon',{attrs:{\"type\":\"search\"}}),_vm._v(\"\\n            查询\\n          \")],1)],1)],1),_vm._v(\" \"),_c('Button',{staticClass:\"btn-create\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clickshow}},[_vm._v(\"新增\\n      \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"user-table\"},[_c('Table',{staticClass:\"m-table no-scroll\",attrs:{\"loading\":_vm.pageInfo.loading,\"row-class-name\":function (row,index){ return index%2===1?'even':''; },\"stripe\":\"\",\"border\":\"\",\"columns\":_vm.tableColumns,\"data\":_vm.tableData}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"current\":_vm.pageInfo.pageIndex,\"page-size\":_vm.pageInfo.pageSize,\"total\":_vm.pageInfo.totalElements,\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onPaginationChange,\"on-page-size-change\":_vm.onPaginationSizeChange}})],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":_vm.title,\"width\":_vm.$flexible(550),\"footer-hide\":\"\"},model:{value:(_vm.modalNew),callback:function ($$v) {_vm.modalNew=$$v},expression:\"modalNew\"}},[_c('Form',{ref:\"formNew\",attrs:{\"rules\":_vm.ruleValidate,\"model\":_vm.formValidate,\"label-width\":150}},[_c('FormItem',{attrs:{\"label\":\"日志名称：\",\"prop\":\"name\"}},[_c('Input',{staticClass:\"search-input\",attrs:{\"maxlength\":50,\"placeholder\":\"请输入日志名称\"},model:{value:(_vm.formValidate.name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"name\", $$v)},expression:\"formValidate.name\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"ivu-modal-footer\"},[_c('Button',{staticClass:\"search-btn\",attrs:{\"type\":\"default\"},on:{\"click\":_vm.addCancel}},[_c('Icon',{attrs:{\"type\":\"search\"}}),_vm._v(\"\\n        取消\\n      \")],1),_vm._v(\" \"),_c('Button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.saveLoading},on:{\"click\":function($event){_vm.saveInfo()}}},[_c('Icon',{attrs:{\"type\":\"search\"}}),_vm._v(\"\\n        保存\\n      \")],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-sub\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"装车日志\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5464b21c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/statistical-analysis/components/history-record/history-record.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5464b21c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./history-record.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./history-record.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./history-record.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5464b21c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./history-record.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5464b21c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/statistical-analysis/components/history-record/history-record.vue\n// module id = null\n// module chunks = ","import Main from './history-record'\r\n\r\nexport default Main\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/statistical-analysis/components/history-record/index.js"],"sourceRoot":""}