{"version":3,"sources":["webpack:///src/components/role-select/role-select.vue","webpack:///./src/components/role-select/role-select.vue?f724","webpack:///./src/components/role-select/role-select.vue","webpack:///./src/components/role-select/index.js","webpack:///src/view/user-manage/user-manage.vue","webpack:///./src/view/user-manage/user-manage.vue?01c4","webpack:///./src/view/user-manage/user-manage.vue","webpack:///./src/view/user-manage/index.js","webpack:///src/components/org-select/org-select.vue","webpack:///./src/components/org-select/org-select.vue?db19","webpack:///./src/components/org-select/org-select.vue","webpack:///./src/components/org-select/index.js"],"names":["role_select","name","data","options","optionMap","props","value","String","placeholder","type","model","prop","event","watch","this","loadTreeData","methods","_this","Object","role","orgId","then","res","map","d","roleId","label","roleName","onSelectionChange","v","$emit","mounted","components","Select","iview","role_select_role_select","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","input","_l","item","key","_v","_s","staticRenderFns","Main","__webpack_require__","normalizeComponent","ssrContext","user_manage","OrgSelect","org_select","RoleSelect","components_role_select","showDrawer","saveLoading","title","search","pageInfo","pageIndex","pageSize","totalElements","loading","tableData","formRule","required","validator","rule","callback","formData","trigger","userName","message","fullName","passwd","userId","test","phoneNumber","currentIndex","tableColumns","align","h","params","size","row","state","disable","on-change","togglePlanStatus","slot","width","$hasAccess","class","style","color","click","editUser","deleteUser","addUser","checkRoleFrom","_this2","promise_default","a","resolve","reject","$refs","fromBase","validate","valid","b","current","extends_default","allData","onSave","_this3","user","$Message","success","loadTableData","code","warning","msg","finally","isUserBtnLoading","_data","rowClassName","index","id","_this4","uInfo","$Modal","confirm","$flexible","content","onOk","_this5","pa","open","catch","error","onDeviceModelChange","clear","_this6","pageNumber","serLoading","list","result","onPaginationChange","currentOrgId","onPaginationSizeChange","user_manage_user_manage","_m","clearable","maxlength","nativeOn","keyup","$event","_k","keyCode","$$v","$set","expression","stripe","max-height","row-class-name","columns","page-size","total","show-sizer","on-page-size-change","closable","mask-closable","ref","rules","label-width","staticStyle","margin-bottom","_e","margin-right","view_user_manage_user_manage","user_manage_normalizeComponent","org_select_org_select","i18n_prefix","treeData","Array","multiple","Boolean","includeSelf","api_area","level","batchdata1","dataValueBatch1","_ref","children","orgName","length","destroyed","TreeSelect","vue_treeselect_default","components_org_select_org_select","$t_p","noResultsText","src_components_org_select_org_select"],"mappings":"sQAWAA,GACAC,KAAA,cACAC,KAFA,WAGA,OACAC,WACAC,eAGAC,OACAC,MAAAC,OACAC,YAAAD,OACAE,KAAAF,QAEAG,OACAC,KAAA,QACAC,MAAA,aAEAC,OACAJ,KADA,WAEAK,KAAAC,iBAGAC,SACAD,aADA,WACA,IAAAE,EAAAH,KAEMI,OAAAC,EAAA,EAAAD,EACNE,MAAA,IACAC,KAAA,SAAAC,GACA,IAAAlB,KACAa,EAAAd,SAAAmB,EAAApB,UAAAqB,IAAA,SAAAC,GAEA,OADApB,EAAAoB,EAAAC,QAAAD,GAEAlB,MAAAkB,EAAAC,OAAA,GACAC,MAAA,GAAAF,EAAAG,YAOAV,EAAAb,eAIAwB,kBAtBA,SAsBAC,GACAf,KAAAgB,MAAA,YAAAD,GACAf,KAAAgB,MAAA,sBAAAhB,KAAAV,UAAAyB,MAGAE,QAjDA,WAkDAjB,KAAAC,gBAEAiB,YACAC,OAAAC,EAAA,SC7DeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAvB,KAAawB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAoBE,YAAA,cAAAC,OAAiCrC,MAAA+B,EAAA/B,MAAAE,YAAA6B,EAAA7B,aAAgDoC,IAAKC,MAAAR,EAAAT,oBAA+BS,EAAAS,GAAAT,EAAA,iBAAAU,GAAqC,OAAAP,EAAA,UAAoBQ,IAAAD,EAAAzC,MAAAqC,OAAsBrC,MAAAyC,EAAAzC,SAAoB+B,EAAAY,GAAAZ,EAAAa,GAAAH,EAAArB,YAA+B,IAEnVyB,oBCCjB,ICDeC,EDCUC,EAAQ,OAcjCC,CACEtD,EACAmC,GATF,EAVA,SAAAoB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,QEmKhCG,GACAvD,KAAA,cACA+B,YAAAyB,UAAAC,EAAA,EAAAC,WAAAC,GAEA1D,KAJA,WAIA,IAAAe,EAAAH,KACA,OACA+C,YAAA,EACAC,aAAA,EACAC,MAAA,OACAC,UACAC,UACAC,UAAA,EACAC,SAAA,GACAC,cAAA,EACAC,SAAA,GAEAC,aACAC,UACA9C,SAEA+C,UAAA,EACAC,UAAA,SAAAC,EAAApE,EAAAqE,GACA1D,EAAA2D,SAAAxD,MACAuD,IAEAA,EAAA,WAGAE,QAAA,SAGAzD,QAEAoD,UAAA,EACAC,UAAA,SAAAC,EAAApE,EAAAqE,GACA,MAAArE,GAAA,IAAAA,EACAqE,EAAA,YAEAA,KAGAE,QAAA,WAGAC,WACAN,UAAA,EAAAO,QAAA,UAAAF,QAAA,WAEAG,WACAR,UAAA,EAAAO,QAAA,SAAAF,QAAA,WAEAI,SAEAT,UAAA,EACAC,UAAA,SAAAC,EAAApE,EAAAqE,GACA,GAAA1D,EAAA2D,SAAAM,OACAP,QACA,CACA,+CACAQ,KAAA7E,GAGAqE,IAFAA,EAAA,8BAkBAE,QAAA,WAGAO,cAEAX,UAAA,SAAAC,EAAApE,EAAAqE,GACA,GAAArE,EAAA,CACA,iGACA6E,KAAA7E,GAGAqE,IAFAA,EAAA,mBAKAA,KAGAE,QAAA,UAIAD,YACAS,aAAA,EACAC,eAEAvB,MAAA,MACAf,IAAA,WACAuC,MAAA,SAGAxB,MAAA,KACAf,IAAA,WACAuC,MAAA,SAGAxB,MAAA,KACAf,IAAA,WACAuC,MAAA,SAGAxB,MAAA,OACAf,IAAA,UACAuC,MAAA,SAGAxB,MAAA,MACAf,IAAA,cACAuC,MAAA,SAGAxB,MAAA,OACAf,IAAA,QAEAuC,MAAA,OACAnD,OAAA,SAAAoD,EAAAC,GACA,OAAAD,EAAA,OACAA,EACA,YAEAnF,OACAqF,KAAA,QACApF,OAAA,IAAAmF,EAAAE,IAAAC,MACAC,SAAA,GAEAjD,IACAkD,YAAA,WACA7E,EAAA8E,iBAAAN,EAAAE,SAKAH,EACA,QAEAnF,OACA2F,KAAA,SAGA,KAEAR,EACA,QAEAnF,OACA2F,KAAA,UAGA,YAQAjC,MAAA,KACAf,IAAA,SACAuC,MAAA,OACAU,MAAA,IACA7D,OAAA,SAAAoD,EAAAC,GACA,OAAAD,EAAA,OACAvE,EAAAiF,WAAA,cACAV,EACA,QAEAnF,OACAI,KAAA,OACAiF,KAAA,SAEAS,MAAA,UACAC,OACAC,MAAA,WAEAzD,IACA0D,MAAA,WACArF,EAAAsF,SAAAd,MAIA,MAEAxE,EAAAiF,WAAA,aACAV,EACA,QAEAnF,OACAI,KAAA,OACAiF,KAAA,SAEAU,OACAC,MAAA,wBAEAF,MAAA,YACAvD,IACA0D,MAAA,WACArF,EAAAuF,WAAAf,MAIA,aAQAzE,SACAyF,QADA,WAEA3F,KAAAiD,MAAA,OACAjD,KAAA8D,UAAAgB,OAAA,GACA9E,KAAA+C,YAAA,GAEA6C,cANA,WAMA,IAAAC,EAAA7F,KAEA,WAAA8F,EAAAC,EAAA,SAAAC,EAAAC,GACAJ,EAAAK,MAAAC,SAAAC,SAAA,SAAAC,EAAAC,GACAD,EACAL,IAGAC,EAAAI,EAAAC,QAKAb,SAnBA,SAmBAd,GACA,IAAA4B,EAAAC,OAAA7B,EAAAE,KACA4B,EAAA,GAAAF,EAAAE,QACA3B,EAAA,GAAAyB,EAAAzB,MACA9E,KAAA8D,SAAA0C,OACAD,GACAE,UACA3B,QACAxE,MAAAqE,EAAAE,IAAAvE,MAAA,GACAK,OAAAgE,EAAAE,IAAAlE,SAGAX,KAAAiD,MAAA,OACAjD,KAAA+C,YAAA,GAEA2D,OAlCA,WAkCA,IAAAC,EAAA3G,KACAA,KAAA4F,gBAAArF,KACA,WACA,GAAAoG,EAAA7C,SAAAM,OAAA,CACA,IAAAhF,EAAAoH,OACAG,EAAA7C,UACAgB,OAAA,IAAA6B,EAAA7C,SAAAgB,MAAA,IACA2B,SAAA,IAAAE,EAAA7C,SAAA2C,QAAA,MAEAE,EAAA3D,aAAA,EACU5C,OAAAwG,EAAA,EAAAxG,CAAVhB,GACAmB,KACA,SAAAC,GAEAmG,EAAA3D,aAAA,EACA2D,EAAAE,SAAAC,QAAA,QACAH,EAAA5D,YAAA,EACA4D,EAAAI,iBAEA,SAAAvG,GACAmG,EAAA3D,aAAA,EACA,MAAAxC,EAAAwG,KACAL,EAAAE,SAAAI,QAAAzG,EAAA0G,KAEAP,EAAAE,SAAAI,QAAA,UAIAE,QAAA,WACAR,EAAAS,kBAAA,QAGA,CACA,IAAAC,EAAAb,OACAG,EAAA7C,UACAgB,OAAA,IAAA6B,EAAA7C,SAAAgB,MAAA,IACA2B,SAAA,IAAAE,EAAA7C,SAAA2C,QAAA,MAEUrG,OAAAwG,EAAA,EAAAxG,CAAViH,GACA9G,KACA,SAAAC,GACAmG,EAAA3D,aAAA,EACA2D,EAAA5D,YAAA,EACA4D,EAAAE,SAAAC,QAAA,QACAH,EAAAI,iBAEA,SAAAvG,GACAmG,EAAA3D,aAAA,EACA,MAAAxC,EAAAwG,KACAL,EAAAE,SAAAI,QAAAzG,EAAA0G,KAEAP,EAAAE,SAAAI,QAAA,UAIAE,QAAA,WACAR,EAAA3D,aAAA,QASAsE,aAnGA,SAmGAzC,EAAA0C,GACA,GAAA1C,EAAA2C,IAAAxH,KAAAuE,aACA,6BAIAmB,WAzGA,SAyGAf,GAAA,IAAA8C,EAAAzH,KACA0H,EAAA1H,KAAAwD,UAAAmB,EAAA4C,OACAvH,KAAA2H,OAAAC,SACA3E,MAAA,KACAkC,MAAAnF,KAAA6H,UAAA,KACAC,QAAA,YAAAJ,EAAA1D,SAAA,SACA+D,KAAA,WACU3H,OAAAwG,EAAA,EAAAxG,EACVgE,OAAAsD,EAAAtD,SACA7D,KACA,WACAkH,EAAAZ,SAAAC,QAAA,QACAW,EAAAV,iBAEA,SAAAvG,GACA,MAAAA,EAAAwG,KACAS,EAAAZ,SAAAI,QAAAzG,EAAA0G,KAEAO,EAAAZ,SAAAI,QAAA,cAOAhC,iBAlIA,SAkIA7F,GAAA,IAAA4I,EAAAhI,KACAZ,EAAA0F,OAAA1F,EAAA0F,MACA,IAAAmD,GACA7D,OAAAhF,EAAAgF,OACAU,OAAA,IAAA1F,EAAA0F,MAAA,KAGAoD,EAAA9I,EAAA0F,MAEM1E,OAAAwG,EAAA,EAAAxG,CAAN6H,GACA1H,KAAA,WACAyH,EAAAnB,SAAAC,QAAA,UAEAqB,MAAA,WACAH,EAAAnB,SAAAuB,MAAA,QACAhJ,EAAA0F,MAAAoD,EAAA,MAEAf,QAAA,eAIAkB,oBAvJA,SAuJAjJ,GAEAY,KAAA4F,cAAAjF,OAAAvB,EAAAuB,QAEAoG,cA3JA,SA2JAuB,GAAA,IAAAC,EAAAvI,KAEAA,KAAAuD,SAAA,EACA+E,IACAtI,KAAAmD,SAAAC,UAAA,GAEMhD,OAAAwG,EAAA,EAAAxG,EACNoI,WAAAxI,KAAAmD,SAAAC,UACAC,SAAArD,KAAAmD,SAAAE,SACAlE,KAAAa,KAAAkD,OAAA/D,OACAoB,KAAA,SAAAC,GACA+H,EAAAhF,SAAA,EACAgF,EAAAE,YAAA,EACA,IAAAC,KACAA,EAAAlI,EAAApB,KAAAuJ,WACAJ,EAAA/E,UAAAkF,EAAAjI,IAAA,SAAAwB,GACA,OAAiBuE,OACjBvE,GACAtB,OAAAsB,EAAAtB,OAAA,GACAmE,MAAA,IAAA7C,EAAA6C,MACA2B,QAAA,IAAAxE,EAAAwE,YAIA8B,EAAApF,SAAAG,cAAA9C,EAAApB,KAAAkE,eAAA,KAMAsF,mBAzLA,SAyLArB,GACAvH,KAAAmD,SAAAC,UAAAmE,EACAvH,KAAA+G,cAAA/G,KAAA6I,cAAA,IAEAC,uBA7LA,SA6LAlE,GACA5E,KAAAmD,SAAAE,SAAAuB,EACA5E,KAAA+G,cAAA/G,KAAA6I,cAAA,KAGA9I,SACAkB,QAnaA,WAoaAjB,KAAA+G,eAAA,KC9lBegC,GADEzH,OAFP,WAAgB,IAAAC,EAAAvB,KAAawB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,gBAA0BF,EAAA,OAAYE,YAAA,YAAsBL,EAAAyH,GAAA,GAAAzH,EAAAY,GAAA,KAAAT,EAAA,OAAkCE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,uBAAiCF,EAAA,OAAYE,YAAA,uBAAiCF,EAAA,SAAcG,OAAOnC,YAAA,YAAAuJ,UAAA,GAAAC,UAAA,MAA0DC,UAAWC,MAAA,SAAAC,GAAyB,iBAAAA,IAAA9H,EAAA+H,GAAAD,EAAAE,QAAA,WAAAF,EAAAnH,IAAA,SAA+FX,EAAAwF,cAAAsC,GAAf,OAAiDzJ,OAAQJ,MAAA+B,EAAA2B,OAAA,KAAAW,SAAA,SAAA2F,GAAiDjI,EAAAkI,KAAAlI,EAAA2B,OAAA,OAAAsG,IAAkCE,WAAA,kBAA2B,GAAAnI,EAAAY,GAAA,KAAAT,EAAA,OAA4BE,YAAA,eAAyBF,EAAA,UAAeG,OAAOlC,KAAA,UAAA4D,QAAAhC,EAAA4B,SAAAI,SAAgDzB,IAAK0D,MAAAjE,EAAAwF,iBAA2BrF,EAAA,QAAaE,YAAA,6BAAoC,KAAAL,EAAAY,GAAA,KAAAT,EAAA,OAAgCE,YAAA,wBAAkCF,EAAA,QAAaE,YAAA,UAAoBF,EAAA,UAAeI,IAAI0D,MAAAjE,EAAAoE,WAAqBjE,EAAA,QAAaE,YAAA,6BAAuCL,EAAAY,GAAA,0CAAAZ,EAAAY,GAAA,KAAAT,EAAA,OAAyEE,YAAA,eAAyBF,EAAA,SAAcE,YAAA,8BAAAC,OAAiD8H,OAAA,GAAAC,aAAA,IAAAC,iBAAAtI,EAAA+F,aAAA/D,QAAAhC,EAAA4B,SAAAI,QAAAuG,QAAAvI,EAAAiD,aAAApF,KAAAmC,EAAAiC,cAA+I,GAAAjC,EAAAY,GAAA,KAAAT,EAAA,OAA4BE,YAAA,eAAyBF,EAAA,QAAaG,OAAO0E,QAAAhF,EAAA4B,SAAAC,UAAA2G,YAAAxI,EAAA4B,SAAAE,SAAA2G,MAAAzI,EAAA4B,SAAAG,cAAA2G,aAAA,IAAsHnI,IAAKkD,YAAAzD,EAAAqH,mBAAAsB,sBAAA3I,EAAAuH,2BAAqF,KAAAvH,EAAAY,GAAA,KAAAT,EAAA,UAAiCG,OAAOsD,MAAA,MAAAgF,UAAA,EAAAC,iBAAA,GAAoDxK,OAAQJ,MAAA+B,EAAA,WAAAsC,SAAA,SAAA2F,GAAgDjI,EAAAwB,WAAAyG,GAAmBE,WAAA,gBAA0BhI,EAAA,OAAYE,YAAA,iBAAAC,OAAoCqD,KAAA,UAAgBA,KAAA,WAAexD,EAAA,QAAAH,EAAAY,GAAAZ,EAAAa,GAAAb,EAAA0B,YAAA1B,EAAAY,GAAA,KAAAZ,EAAA,WAAAG,EAAA,QAAmF2I,IAAA,WAAAzI,YAAA,OAAAC,OAAyCyI,MAAA/I,EAAAkC,SAAA7D,MAAA2B,EAAAuC,SAAAyG,cAAAhJ,EAAAsG,UAAA,QAA4EnG,EAAA,YAAiBE,YAAA,YAAA4I,aAAqCC,gBAAA,QAAuB5I,OAAQjB,MAAA,QAAAf,KAAA,WAAgC6B,EAAA,aAAkBE,YAAA,aAAAC,OAAgCnC,YAAA,WAAwBE,OAAQJ,MAAA+B,EAAAuC,SAAA,MAAAD,SAAA,SAAA2F,GAAoDjI,EAAAkI,KAAAlI,EAAAuC,SAAA,QAAA0F,IAAqCE,WAAA,qBAA8B,GAAAnI,EAAAY,GAAA,KAAAT,EAAA,YAAiCE,YAAA,YAAA4I,aAAqCC,gBAAA,QAAuB5I,OAAQjB,MAAA,QAAAf,KAAA,YAAiC6B,EAAA,cAAmBG,OAAOlC,KAAA4B,EAAAuC,SAAAxD,MAAAZ,YAAA,WAAkDE,OAAQJ,MAAA+B,EAAAuC,SAAA,OAAAD,SAAA,SAAA2F,GAAqDjI,EAAAkI,KAAAlI,EAAAuC,SAAA,SAAA0F,IAAsCE,WAAA,sBAA+B,GAAAnI,EAAAY,GAAA,KAAAT,EAAA,YAAiCE,YAAA,YAAA4I,aAAqCC,gBAAA,QAAuB5I,OAAQjB,MAAA,OAAAf,KAAA,cAAkC6B,EAAA,SAAcG,OAAOqH,UAAA,GAAAxJ,YAAA,UAAsCE,OAAQJ,MAAA+B,EAAAuC,SAAA,SAAAD,SAAA,SAAA2F,GAAuDjI,EAAAkI,KAAAlI,EAAAuC,SAAA,WAAA0F,IAAwCE,WAAA,wBAAiC,GAAAnI,EAAAY,GAAA,KAAAT,EAAA,YAAiCE,YAAA,YAAA4I,aAAqCC,gBAAA,QAAuB5I,OAAQjB,MAAA,MAAAf,KAAA,cAAiC6B,EAAA,SAAcG,OAAOqH,UAAA,GAAAxJ,YAAA,SAAqCE,OAAQJ,MAAA+B,EAAAuC,SAAA,SAAAD,SAAA,SAAA2F,GAAuDjI,EAAAkI,KAAAlI,EAAAuC,SAAA,WAAA0F,IAAwCE,WAAA,wBAAiC,GAAAnI,EAAAY,GAAA,KAAAT,EAAA,YAAiCE,YAAA,YAAA4I,aAAqCC,gBAAA,QAAuB5I,OAAQjB,MAAA,MAAAf,KAAA,YAA+B6B,EAAA,SAAcG,OAAOlC,KAAA,WAAAuJ,UAAA,GAAAxJ,YAAA,gBAA8DE,OAAQJ,MAAA+B,EAAAuC,SAAA,OAAAD,SAAA,SAAA2F,GAAqDjI,EAAAkI,KAAAlI,EAAAuC,SAAA,SAAA0F,IAAsCE,WAAA,sBAA+B,GAAAnI,EAAAY,GAAA,KAAAT,EAAA,YAAiCE,YAAA,YAAA4I,aAAqCC,gBAAA,QAAuB5I,OAAQjB,MAAA,OAAAf,KAAA,iBAAqC6B,EAAA,SAAcG,OAAOnC,YAAA,WAAwBE,OAAQJ,MAAA+B,EAAAuC,SAAA,YAAAD,SAAA,SAAA2F,GAA0DjI,EAAAkI,KAAAlI,EAAAuC,SAAA,cAAA0F,IAA2CE,WAAA,2BAAoC,GAAAnI,EAAAY,GAAA,KAAAT,EAAA,YAAiCE,YAAA,YAAAC,OAA+BjB,MAAA,QAAAf,KAAA,WAAgC6B,EAAA,YAAiB9B,OAAOJ,MAAA+B,EAAAuC,SAAA,MAAAD,SAAA,SAAA2F,GAAoDjI,EAAAkI,KAAAlI,EAAAuC,SAAA,QAAA0F,IAAqCE,WAAA,oBAA8BhI,EAAA,QAAaG,OAAOqD,KAAA,QAAcA,KAAA,SAAa3D,EAAAY,GAAA,KAAAT,EAAA,QAAyBG,OAAOqD,KAAA,SAAeA,KAAA,aAAc,OAAA3D,EAAAmJ,KAAAnJ,EAAAY,GAAA,KAAAT,EAAA,OAA2CE,YAAA,uBAAiCF,EAAA,UAAe8I,aAAaG,eAAA,OAAqB9I,OAAQlC,KAAA,WAAiBmC,IAAK0D,MAAA,SAAA6D,GAAyB9H,EAAAwB,YAAA,MAAyBxB,EAAAY,GAAA,QAAAZ,EAAAY,GAAA,KAAAT,EAAA,UAA0CG,OAAOlC,KAAA,UAAA4D,QAAAhC,EAAAyB,aAA2ClB,IAAK0D,MAAAjE,EAAAmF,UAAoBnF,EAAAY,GAAA,qBAEtpJE,iBADb,WAAiB,IAAab,EAAbxB,KAAayB,eAA0BC,EAAvC1B,KAAuC2B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,yBAArJ5B,KAAwLmC,GAAA,iBCE5N,IAuBeyI,EAvBUrI,EAAQ,OAcjBsI,CACdnI,EACAqG,GAT6B,EAV/B,SAAoBtG,GAClBF,EAAQ,SAaS,KAEU,MAUG,QCxBjBD,yGCmBfwI,wBACA3L,KAAA,aACA4L,YAAA,uBACA3L,KAHA,WAIA,OACA4L,cAGAzL,OACAC,OAAAC,OAAAwL,OACAC,SAAAC,QACAvK,OAAAnB,OAAAwL,OACAG,YAAAD,SAEAvL,OACAC,KAAA,QACAC,MAAA,aAGAI,SACAD,aADA,WACA,IAAAE,EAAAH,MACAA,KAAAoL,YAAAC,EAAA,EAAAA,EAAA,IACAC,MAAA,KAEA/K,KAAA,SAAAC,GACA,IAAA+K,EAAA/K,EAAApB,KAaAe,EAAA6K,SAZA,SAAAQ,EAAAD,GAAA,OACAA,EAAA9K,IAAA,SAAAgL,GAAA,IAAAjE,EAAAiE,EAAAjE,GAAAkE,EAAAD,EAAAC,SACAzJ,GACAuF,KAAA,GACA5G,MAHA6K,EAAAE,SASA,OAHAD,KAAAE,SACA3J,EAAAyJ,SAAAF,EAAAE,IAEAzJ,IAEAuJ,CAAAD,MAKAzK,kBAxBA,SAwBAC,GACAf,KAAAgB,MAAA,YAAAD,GACAf,KAAAgB,MAAA,sBAAAD,KAGAE,QAhDA,WAiDAjB,KAAAC,gBAEA4L,UAnDA,aAqDA3K,YACA4K,WAAAC,EAAAhG,KCxEeiG,GADE1K,OAFjB,WAA0B,IAAaE,EAAbxB,KAAayB,eAAkD,OAA/DzB,KAAuC2B,MAAAD,IAAAF,GAAwB,cAAwBI,YAAA,aAAAC,OAAgCrC,MAAvHQ,KAAuHR,MAAAoB,MAAvHZ,KAAuHY,MAAAlB,YAAvHM,KAAuHiM,KAAA,eAAAC,cAAvHlM,KAAuHiM,KAAA,iBAAAf,SAAvHlL,KAAuHkL,SAAA7L,QAAvHW,KAAuHgL,UAAmKlJ,IAAKC,MAA/R/B,KAA+Rc,sBAExSuB,oBCEjB,IAuBe8J,EAvBU5J,EAAQ,OAcjCC,CACEsI,EACAkB,GATF,EAXA,SAAAvJ,GACEF,EAAQ,QACRA,EAAQ,SAaV,kBAEA,MAUgC,QCzBjBD","file":"static/js/6.29ce36681cddf83c468b.js","sourcesContent":["<template>\r\n  <Select class=\"role-select\" :value=\"value\" :placeholder=\"placeholder\" @input=\"onSelectionChange\">\r\n<!--    <Option value key=\"-1\">请选择角色</Option>-->\r\n    <Option v-for=\"item in options\" :value=\"item.value\" :key=\"item.value\">{{ item.label }}</Option>\r\n  </Select>\r\n</template>\r\n\r\n<script>\r\nimport {Select} from 'iview'\r\nimport {getRoleAll} from '@/api/role'\r\n\r\nexport default {\r\n  name: 'role-select',\r\n  data () {\r\n    return {\r\n      options: [],\r\n      optionMap: {}\r\n    }\r\n  },\r\n  props: {\r\n    value: String,\r\n    placeholder: String,\r\n    type: String\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'selection'\r\n  },\r\n  watch: {\r\n    type () {\r\n      this.loadTreeData()\r\n    }\r\n  },\r\n  methods: {\r\n    loadTreeData () {\r\n      // if (this.type) {\r\n      getRoleAll({\r\n        orgId: 0\r\n      }).then(res => {\r\n        let optionMap = {}\r\n        this.options = (res.data || []).map(d => {\r\n          optionMap[d.roleId] = d\r\n          return {\r\n            value: d.roleId + '',\r\n            label: `${d.roleName}`\r\n          }\r\n        })\r\n        // let arr = [\r\n        //   {value:'',label:'全部'}\r\n        // ];\r\n        // this.options = [...arr,...this.options]\r\n        this.optionMap = optionMap\r\n      })\r\n      // }\r\n    },\r\n    onSelectionChange (v) {\r\n      this.$emit('selection', v)\r\n      this.$emit('on-selection-change', this.optionMap[v])\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTreeData()\r\n  },\r\n  components: {\r\n    Select\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.role-select {\r\n  color: #000;\r\n  width: 280px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/role-select/role-select.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Select',{staticClass:\"role-select\",attrs:{\"value\":_vm.value,\"placeholder\":_vm.placeholder},on:{\"input\":_vm.onSelectionChange}},_vm._l((_vm.options),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4879310a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/role-select/role-select.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4879310a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./role-select.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role-select.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./role-select.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4879310a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./role-select.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4879310a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/role-select/role-select.vue\n// module id = null\n// module chunks = ","import Main from './role-select.vue'\r\n\r\nexport default Main\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/role-select/index.js","<template>\r\n  <div class=\"user-manage\">\r\n    <div class=\"content\">\r\n      <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">用户管理</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"filter-search\">\r\n        <div class=\"filter-search-left\">\r\n          <div class=\"filter-input mr-12\">\r\n            <Input\r\n              v-model=\"search.name\"\r\n              placeholder=\"请输入用户名/姓名\"\r\n              clearable\r\n              maxlength=\"20\"\r\n              @keyup.enter.native=\"loadTableData\"\r\n            />\r\n          </div>\r\n          <div class=\"filter-btn\">\r\n            <Button\r\n              type=\"default\"\r\n              @click=\"loadTableData\"\r\n              :loading=\"pageInfo.loading\"\r\n            >\r\n              <span class=\"iconfont icon-chazhao\"></span>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div class=\"filter-search-right\">\r\n          <span class=\"t-btn\">\r\n            <Button @click=\"addUser\">\r\n              <span class=\"iconfont icon-a-lianhe68\"></span>\r\n              新增\r\n            </Button>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"user-table\">\r\n        <Table\r\n          class=\"m-table no-scroll no-border\"\r\n          stripe\r\n          :max-height=\"600\"\r\n          :row-class-name=\"rowClassName\"\r\n          :loading=\"pageInfo.loading\"\r\n          :columns=\"tableColumns\"\r\n          :data=\"tableData\"\r\n        ></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page\r\n          @on-change=\"onPaginationChange\"\r\n          @on-page-size-change=\"onPaginationSizeChange\"\r\n          :current=\"pageInfo.pageIndex\"\r\n          :page-size=\"pageInfo.pageSize\"\r\n          :total=\"pageInfo.totalElements\"\r\n          show-sizer\r\n        />\r\n      </div>\r\n    </div>\r\n    <Drawer\r\n      v-model=\"showDrawer\"\r\n      width=\"720\"\r\n      :closable=\"false\"\r\n      :mask-closable=\"true\"\r\n    >\r\n      <div slot=\"header\" class=\"now-form-title\">\r\n        <!-- <Icon class=\"now-form-close\"\r\n              type=\"ios-close-circle\"\r\n              color=\"#DCDCDC\"\r\n              :size=\"18\"\r\n              @click=\"showDrawer = false\" /> -->\r\n        <span>{{ title }}</span>\r\n      </div>\r\n      <Form\r\n        class=\"form\"\r\n        ref=\"fromBase\"\r\n        v-if=\"showDrawer\"\r\n        :rules=\"formRule\"\r\n        :model=\"formData\"\r\n        :label-width=\"$flexible(100)\"\r\n      >\r\n        <FormItem\r\n          class=\"form-item\"\r\n          label=\"所属区域：\"\r\n          prop=\"orgId\"\r\n          style=\"margin-bottom:20px\"\r\n        >\r\n          <OrgSelect\r\n            v-model=\"formData.orgId\"\r\n            class=\"form-input\"\r\n            placeholder=\"请选择所属区域\"\r\n          ></OrgSelect>\r\n        </FormItem>\r\n        <FormItem\r\n          class=\"form-item\"\r\n          label=\"用户角色：\"\r\n          prop=\"roleId\"\r\n          style=\"margin-bottom:20px\"\r\n        >\r\n          <RoleSelect\r\n            v-model=\"formData.roleId\"\r\n            :type=\"formData.orgId\"\r\n            placeholder=\"请选择用户角色\"\r\n          ></RoleSelect>\r\n        </FormItem>\r\n        <FormItem\r\n          class=\"form-item\"\r\n          label=\"用户名：\"\r\n          prop=\"userName\"\r\n          style=\"margin-bottom:20px\"\r\n        >\r\n          <Input\r\n            v-model=\"formData.userName\"\r\n            :maxlength=\"20\"\r\n            placeholder=\"请输入用户名\"\r\n          ></Input>\r\n        </FormItem>\r\n        <FormItem\r\n          class=\"form-item\"\r\n          label=\"姓名：\"\r\n          prop=\"fullName\"\r\n          style=\"margin-bottom:20px\"\r\n        >\r\n          <Input\r\n            v-model=\"formData.fullName\"\r\n            :maxlength=\"20\"\r\n            placeholder=\"请输入姓名\"\r\n          ></Input>\r\n        </FormItem>\r\n        <FormItem\r\n          class=\"form-item\"\r\n          label=\"密码：\"\r\n          prop=\"passwd\"\r\n          style=\"margin-bottom:20px\"\r\n        >\r\n          <Input\r\n            v-model=\"formData.passwd\"\r\n            type=\"password\"\r\n            :maxlength=\"20\"\r\n            placeholder=\"至少六位数字与字母的结合\"\r\n          ></Input>\r\n        </FormItem>\r\n        <FormItem\r\n          class=\"form-item\"\r\n          label=\"手机号：\"\r\n          prop=\"phoneNumber\"\r\n          style=\"margin-bottom:20px\"\r\n        >\r\n          <Input\r\n            v-model=\"formData.phoneNumber\"\r\n            placeholder=\"请输入手机号码\"\r\n          ></Input>\r\n        </FormItem>\r\n        <FormItem class=\"form-item\" label=\"登录权限：\" prop=\"state\">\r\n          <i-switch v-model=\"formData.state\">\r\n            <span slot=\"open\"></span>\r\n            <span slot=\"close\"></span>\r\n          </i-switch>\r\n        </FormItem>\r\n        <!-- <FormItem class=\"form-item\"\r\n                  label=\"数据权限：\"\r\n                  prop=\"allData\">\r\n          <i-switch v-model=\"formData.allData\">\r\n            <span slot=\"open\"></span>\r\n            <span slot=\"close\"></span>\r\n          </i-switch>\r\n        </FormItem> -->\r\n      </Form>\r\n      <div class=\"demo-drawer-footer\">\r\n        <Button\r\n          style=\"margin-right: 8px\"\r\n          type=\"default\"\r\n          @click=\"showDrawer = false\"\r\n          >取消</Button\r\n        >\r\n        <Button type=\"default\" @click=\"onSave\" :loading=\"saveLoading\"\r\n          >确定</Button\r\n        >\r\n      </div>\r\n    </Drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addUser, deleteUser, editUser, getUserList } from '@/api/user'\r\nimport OrgSelect from '@c/org-select'\r\nimport RoleSelect from '@c/role-select'\r\n\r\nexport default {\r\n  name: 'user-manage',\r\n  components: { OrgSelect, RoleSelect },\r\n\r\n  data () {\r\n    return {\r\n      showDrawer: false,\r\n      saveLoading: false,\r\n      title: '新增用户',\r\n      search: {},\r\n      pageInfo: {\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 0,\r\n        loading: false\r\n      },\r\n      tableData: [],\r\n      formRule: {\r\n        roleId: [\r\n          {\r\n            required: true,\r\n            validator: (rule, value, callback) => {\r\n              if (this.formData.orgId) {\r\n                callback()\r\n              } else {\r\n                callback('角色不能为空')\r\n              }\r\n            },\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        orgId: [\r\n          {\r\n            required: true,\r\n            validator: (rule, value, callback) => {\r\n              if (value == null || value == '') {\r\n                callback('所属区域不能为空')\r\n              } else {\r\n                callback()\r\n              }\r\n            },\r\n            trigger: 'submit'\r\n          }\r\n        ],\r\n        userName: [\r\n          { required: true, message: '用户名不能为空', trigger: 'submit' }\r\n        ],\r\n        fullName: [\r\n          { required: true, message: '姓名不能为空', trigger: 'submit' }\r\n        ],\r\n        passwd: [\r\n          {\r\n            required: true,\r\n            validator: (rule, value, callback) => {\r\n              if (this.formData.userId) {\r\n                callback()\r\n              } else {\r\n                let isPsd = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/\r\n                if (!isPsd.test(value)) {\r\n                  callback('请填写正确的密码格式（至少6位数字与字母的结合）')\r\n                } else {\r\n                  callback()\r\n                  // if (value == this.formPsw.sourcePasswd) {\r\n                  //   callback(\"新密码和原始密码一样，请重新输入新密码\");\r\n                  // } else {\r\n                  //   callback();\r\n                  // }\r\n                }\r\n\r\n                // if (!value) {\r\n                //   callback(\"密码不能为空\");\r\n                // } else {\r\n                //   callback();\r\n                // }\r\n              }\r\n            },\r\n\r\n            trigger: 'submit'\r\n          }\r\n        ],\r\n        phoneNumber: [\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (value) {\r\n                let isPhone = /^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\\d{8}$|400[0-9]{7}|^800[0-9]{7}/\r\n                if (!isPhone.test(value)) {\r\n                  callback('请填写正确的手机号码')\r\n                } else {\r\n                  callback()\r\n                }\r\n              } else {\r\n                callback()\r\n              }\r\n            },\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      formData: {},\r\n      currentIndex: 0,\r\n      tableColumns: [\r\n        {\r\n          title: '用户名',\r\n          key: 'userName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '姓名',\r\n          key: 'fullName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '角色',\r\n          key: 'roleName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '所属区域',\r\n          key: 'orgName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '手机号',\r\n          key: 'phoneNumber',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '登录权限',\r\n          key: 'state',\r\n          // slot: \"state\",\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h(\r\n                'i-switch',\r\n                {\r\n                  props: {\r\n                    size: 'small',\r\n                    value: params.row.state === true,\r\n                    disable: true\r\n                  },\r\n                  on: {\r\n                    'on-change': () => {\r\n                      this.togglePlanStatus(params.row)\r\n                    }\r\n                  }\r\n                },\r\n                [\r\n                  h(\r\n                    'span',\r\n                    {\r\n                      props: {\r\n                        slot: 'open'\r\n                      }\r\n                    },\r\n                    '开'\r\n                  ),\r\n                  h(\r\n                    'span',\r\n                    {\r\n                      props: {\r\n                        slot: 'close'\r\n                      }\r\n                    },\r\n                    '关'\r\n                  )\r\n                ]\r\n              )\r\n            ])\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          align: 'left',\r\n          width: 200,\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              this.$hasAccess('user.edit') &&\r\n                h(\r\n                  'span',\r\n                  {\r\n                    props: {\r\n                      type: 'text',\r\n                      size: 'small'\r\n                    },\r\n                    class: 'primary',\r\n                    style: {\r\n                      color: '#0084FF'\r\n                    },\r\n                    on: {\r\n                      click: () => {\r\n                        this.editUser(params)\r\n                      }\r\n                    }\r\n                  },\r\n                  '编辑'\r\n                ),\r\n              this.$hasAccess('user.del') &&\r\n                h(\r\n                  'span',\r\n                  {\r\n                    props: {\r\n                      type: 'text',\r\n                      size: 'small'\r\n                    },\r\n                    style: {\r\n                      color: 'rgba(241, 33, 33, 1)'\r\n                    },\r\n                    class: 'secondary',\r\n                    on: {\r\n                      click: () => {\r\n                        this.deleteUser(params)\r\n                      }\r\n                    }\r\n                  },\r\n                  '删除'\r\n                )\r\n            ])\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    addUser () {\r\n      this.title = '新增用户'\r\n      this.formData = { state: true }\r\n      this.showDrawer = true\r\n    },\r\n    checkRoleFrom () {\r\n      // let me = this;\r\n      return new Promise((resolve, reject) => {\r\n        this.$refs.fromBase.validate((valid, b) => {\r\n          if (valid) {\r\n            resolve()\r\n          } else {\r\n            // console.log(b)\r\n            reject(valid, b)\r\n          }\r\n        })\r\n      })\r\n    },\r\n    editUser (params) {\r\n      let current = { ...params.row }\r\n      let allData = current.allData != 0\r\n      let state = current.state != 0\r\n      this.formData = {\r\n        ...current,\r\n        allData: allData,\r\n        state: state,\r\n        orgId: params.row.orgId + '',\r\n        roleId: params.row.roleId\r\n      }\r\n\r\n      this.title = '编辑用户'\r\n      this.showDrawer = true\r\n    },\r\n    onSave () {\r\n      this.checkRoleFrom().then(\r\n        () => {\r\n          if (this.formData.userId) {\r\n            let data = {\r\n              ...this.formData,\r\n              state: this.formData.state === true ? 1 : 2 || 1,\r\n              allData: this.formData.allData === true ? 1 : 0 || 0\r\n            }\r\n            this.saveLoading = true\r\n            editUser(data)\r\n              .then(\r\n                res => {\r\n                  // console.log(1212,res)\r\n                  this.saveLoading = false\r\n                  this.$Message.success('编辑成功')\r\n                  this.showDrawer = false\r\n                  this.loadTableData()\r\n                },\r\n                res => {\r\n                  this.saveLoading = false\r\n                  if (res.code === 1000) {\r\n                    this.$Message.warning(res.msg)\r\n                  } else {\r\n                    this.$Message.warning('编辑失败')\r\n                  }\r\n                }\r\n              )\r\n              .finally(() => {\r\n                this.isUserBtnLoading = false\r\n              })\r\n            // console.log(data);\r\n          } else {\r\n            let data = {\r\n              ...this.formData,\r\n              state: this.formData.state === true ? 1 : 2 || 1,\r\n              allData: this.formData.allData === true ? 1 : 0 || 0\r\n            }\r\n            addUser(data)\r\n              .then(\r\n                res => {\r\n                  this.saveLoading = false\r\n                  this.showDrawer = false\r\n                  this.$Message.success('新增成功')\r\n                  this.loadTableData()\r\n                },\r\n                res => {\r\n                  this.saveLoading = false\r\n                  if (res.code === 1000) {\r\n                    this.$Message.warning(res.msg)\r\n                  } else {\r\n                    this.$Message.warning('新增失败')\r\n                  }\r\n                }\r\n              )\r\n              .finally(() => {\r\n                this.saveLoading = false\r\n              })\r\n          }\r\n        }\r\n        // (valid, b) => {\r\n        //   this.$Message.error(\"请检查输入\");\r\n        // }\r\n      )\r\n    },\r\n    rowClassName (row, index) {\r\n      if (row.id == this.currentIndex) {\r\n        return 'demo-table-info-row'\r\n      } else {\r\n      }\r\n    },\r\n    deleteUser (params) {\r\n      let uInfo = this.tableData[params.index]\r\n      this.$Modal.confirm({\r\n        title: '提示',\r\n        width: this.$flexible(450),\r\n        content: '确认删除用户名为' + `[${uInfo.userName}]的用户吗?`,\r\n        onOk: () => {\r\n          deleteUser({\r\n            userId: uInfo.userId\r\n          }).then(\r\n            () => {\r\n              this.$Message.success('删除成功')\r\n              this.loadTableData()\r\n            },\r\n            res => {\r\n              if (res.code === 1000) {\r\n                this.$Message.warning(res.msg)\r\n              } else {\r\n                this.$Message.warning('删除失败')\r\n              }\r\n            }\r\n          )\r\n        }\r\n      })\r\n    },\r\n    togglePlanStatus (data) {\r\n      data.state = !data.state\r\n      let pa = {\r\n        userId: data.userId,\r\n        state: data.state === true ? 1 : 2\r\n      }\r\n      // data._loading = true;\r\n      let open = data.state\r\n\r\n      editUser(pa)\r\n        .then(() => {\r\n          this.$Message.success('操作成功')\r\n        })\r\n        .catch(() => {\r\n          this.$Message.error('操作失败')\r\n          data.state = open ? 0 : 1\r\n        })\r\n        .finally(() => {\r\n          // data._loading = false;\r\n        })\r\n    },\r\n    onDeviceModelChange (data) {\r\n      // console.log(2323,data)\r\n      this.checkRoleFrom.roleId = data.roleId\r\n    },\r\n    loadTableData (clear) {\r\n      // console.log(`orgId:${orgId}`)\r\n      this.loading = true\r\n      if (clear) {\r\n        this.pageInfo.pageIndex = 1\r\n      }\r\n      getUserList({\r\n        pageNumber: this.pageInfo.pageIndex,\r\n        pageSize: this.pageInfo.pageSize,\r\n        name: this.search.name\r\n      }).then(res => {\r\n        this.loading = false\r\n        this.serLoading = false\r\n        let list = []\r\n        list = res.data.result || []\r\n        this.tableData = list.map(item => {\r\n          return {\r\n            ...item,\r\n            roleId: item.roleId + '',\r\n            state: item.state === 1,\r\n            allData: item.allData === 1\r\n          }\r\n        })\r\n\r\n        this.pageInfo.totalElements = res.data.totalElements || 0\r\n        // this.currentEditUser = this.tableData.map(item => {\r\n        //   return item.roleName;\r\n        // });\r\n      })\r\n    },\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(this.currentOrgId, false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(this.currentOrgId, true)\r\n    }\r\n  },\r\n  watch: {},\r\n  mounted () {\r\n    this.loadTableData(true)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n/deep/.ivu-form-item {\r\n  margin-bottom: 1rem !important;\r\n}\r\n.user-manage {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 15px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/user-manage/user-manage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-manage\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"filter-search\"},[_c('div',{staticClass:\"filter-search-left\"},[_c('div',{staticClass:\"filter-input mr-12\"},[_c('Input',{attrs:{\"placeholder\":\"请输入用户名/姓名\",\"clearable\":\"\",\"maxlength\":\"20\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.loadTableData($event)}},model:{value:(_vm.search.name),callback:function ($$v) {_vm.$set(_vm.search, \"name\", $$v)},expression:\"search.name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"filter-btn\"},[_c('Button',{attrs:{\"type\":\"default\",\"loading\":_vm.pageInfo.loading},on:{\"click\":_vm.loadTableData}},[_c('span',{staticClass:\"iconfont icon-chazhao\"})])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"filter-search-right\"},[_c('span',{staticClass:\"t-btn\"},[_c('Button',{on:{\"click\":_vm.addUser}},[_c('span',{staticClass:\"iconfont icon-a-lianhe68\"}),_vm._v(\"\\n            新增\\n          \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"user-table\"},[_c('Table',{staticClass:\"m-table no-scroll no-border\",attrs:{\"stripe\":\"\",\"max-height\":600,\"row-class-name\":_vm.rowClassName,\"loading\":_vm.pageInfo.loading,\"columns\":_vm.tableColumns,\"data\":_vm.tableData}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"current\":_vm.pageInfo.pageIndex,\"page-size\":_vm.pageInfo.pageSize,\"total\":_vm.pageInfo.totalElements,\"show-sizer\":\"\"},on:{\"on-change\":_vm.onPaginationChange,\"on-page-size-change\":_vm.onPaginationSizeChange}})],1)]),_vm._v(\" \"),_c('Drawer',{attrs:{\"width\":\"720\",\"closable\":false,\"mask-closable\":true},model:{value:(_vm.showDrawer),callback:function ($$v) {_vm.showDrawer=$$v},expression:\"showDrawer\"}},[_c('div',{staticClass:\"now-form-title\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),(_vm.showDrawer)?_c('Form',{ref:\"fromBase\",staticClass:\"form\",attrs:{\"rules\":_vm.formRule,\"model\":_vm.formData,\"label-width\":_vm.$flexible(100)}},[_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"label\":\"所属区域：\",\"prop\":\"orgId\"}},[_c('OrgSelect',{staticClass:\"form-input\",attrs:{\"placeholder\":\"请选择所属区域\"},model:{value:(_vm.formData.orgId),callback:function ($$v) {_vm.$set(_vm.formData, \"orgId\", $$v)},expression:\"formData.orgId\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"label\":\"用户角色：\",\"prop\":\"roleId\"}},[_c('RoleSelect',{attrs:{\"type\":_vm.formData.orgId,\"placeholder\":\"请选择用户角色\"},model:{value:(_vm.formData.roleId),callback:function ($$v) {_vm.$set(_vm.formData, \"roleId\", $$v)},expression:\"formData.roleId\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"label\":\"用户名：\",\"prop\":\"userName\"}},[_c('Input',{attrs:{\"maxlength\":20,\"placeholder\":\"请输入用户名\"},model:{value:(_vm.formData.userName),callback:function ($$v) {_vm.$set(_vm.formData, \"userName\", $$v)},expression:\"formData.userName\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"label\":\"姓名：\",\"prop\":\"fullName\"}},[_c('Input',{attrs:{\"maxlength\":20,\"placeholder\":\"请输入姓名\"},model:{value:(_vm.formData.fullName),callback:function ($$v) {_vm.$set(_vm.formData, \"fullName\", $$v)},expression:\"formData.fullName\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"label\":\"密码：\",\"prop\":\"passwd\"}},[_c('Input',{attrs:{\"type\":\"password\",\"maxlength\":20,\"placeholder\":\"至少六位数字与字母的结合\"},model:{value:(_vm.formData.passwd),callback:function ($$v) {_vm.$set(_vm.formData, \"passwd\", $$v)},expression:\"formData.passwd\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"label\":\"手机号：\",\"prop\":\"phoneNumber\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入手机号码\"},model:{value:(_vm.formData.phoneNumber),callback:function ($$v) {_vm.$set(_vm.formData, \"phoneNumber\", $$v)},expression:\"formData.phoneNumber\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",attrs:{\"label\":\"登录权限：\",\"prop\":\"state\"}},[_c('i-switch',{model:{value:(_vm.formData.state),callback:function ($$v) {_vm.$set(_vm.formData, \"state\", $$v)},expression:\"formData.state\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"})])],1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"demo-drawer-footer\"},[_c('Button',{staticStyle:{\"margin-right\":\"8px\"},attrs:{\"type\":\"default\"},on:{\"click\":function($event){_vm.showDrawer = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"default\",\"loading\":_vm.saveLoading},on:{\"click\":_vm.onSave}},[_vm._v(\"确定\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-sub\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"breadcrumb-item-link\"},[_vm._v(\"用户管理\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-88c267ba\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/user-manage/user-manage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-88c267ba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user-manage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user-manage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./user-manage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-88c267ba\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user-manage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/user-manage/user-manage.vue\n// module id = null\n// module chunks = ","import Main from './user-manage'\r\n\r\nexport default Main\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/user-manage/index.js","<template>\r\n  <TreeSelect\r\n    class=\"org-select\"\r\n    :value=\"value\"\r\n    :label=\"label\"\r\n    :placeholder=\"$t_p('placeholder')\"\r\n    @input=\"onSelectionChange\"\r\n    :noResultsText=\"$t_p('noResultsText')\"\r\n    :multiple=\"multiple\"\r\n    :options=\"treeData\"\r\n  ></TreeSelect>\r\n</template>\r\n\r\n<script>\r\nimport {getAreaList, getUserAreaList} from '@/api/area'\r\nimport TreeSelect from '@riophae/vue-treeselect'\r\n\r\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css'\r\n\r\nimport './org-select.less'\r\n\r\nexport default {\r\n  name: 'org-select',\r\n  i18n_prefix: 'component.org-select',\r\n  data () {\r\n    return {\r\n      treeData: []\r\n    }\r\n  },\r\n  props: {\r\n    value: [String, Array],\r\n    multiple: Boolean,\r\n    label: [String, Array],\r\n    includeSelf: Boolean\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'selection'\r\n  },\r\n\r\n  methods: {\r\n    loadTreeData () {\r\n      (this.includeSelf ? getAreaList : getUserAreaList)({\r\n        level: 99\r\n      })\r\n        .then(res => {\r\n          let batchdata1 = res.data\r\n          let dataValueBatch1 = batchdata1 =>\r\n            batchdata1.map(({id, children, orgName}) => {\r\n              let item = {\r\n                id: id + '',\r\n                label: orgName\r\n\r\n              }\r\n              if (children && children.length) {\r\n                item.children = dataValueBatch1(children)\r\n              }\r\n              return item\r\n            })\r\n          this.treeData = dataValueBatch1(batchdata1)\r\n          // console.log(12,this.treeData)\r\n        })\r\n    },\r\n\r\n    onSelectionChange (v) {\r\n      this.$emit('selection', v)\r\n      this.$emit('on-selection-change', v)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTreeData()\r\n  },\r\n  destroyed () {\r\n  },\r\n  components: {\r\n    TreeSelect\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n</style>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import \"../../style/varient\";\r\n.vue-treeselect__menu{\r\n  width: 280px !important;\r\n}\r\n  .org-select {\r\n    color: #000;\r\n    font-size: @size-font-normal;\r\n    height: @size-font-lg * 2;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/org-select/org-select.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TreeSelect',{staticClass:\"org-select\",attrs:{\"value\":_vm.value,\"label\":_vm.label,\"placeholder\":_vm.$t_p('placeholder'),\"noResultsText\":_vm.$t_p('noResultsText'),\"multiple\":_vm.multiple,\"options\":_vm.treeData},on:{\"input\":_vm.onSelectionChange}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a1e6a87\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/org-select/org-select.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a1e6a87\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./org-select.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a1e6a87\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./org-select.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./org-select.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./org-select.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a1e6a87\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./org-select.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a1e6a87\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/org-select/org-select.vue\n// module id = null\n// module chunks = ","import Main from './org-select.vue'\r\n\r\nexport default Main\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/org-select/index.js"],"sourceRoot":""}