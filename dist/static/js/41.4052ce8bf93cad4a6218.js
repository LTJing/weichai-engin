webpackJsonp([41],{"Lt+o":function(t,e){},Nyru:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("S1ZC"),n=a("jpo7"),s=a("jmEP"),o=a("xV2B"),c=a("ooO1"),r=a("4Zt/"),l=a("2uFj"),d=(new r.a(l.a.suanpanUrl),a("xXZE")),u={name:"report-list",components:{StatusSelect:i.a,LaboratoryList:n.a,OrgSelect:s.a,customChart:c.a},i18n_prefix:"page.report-manage.report-generate",data:function(){return{time:5e3,freshTime:[{id:"1",name:"1s",value:1e3},{id:"2",name:"5s",value:5e3},{id:"3",name:"10s",value:1e4}],pageInfo:{loading:!1,pageIndex:1,pageSize:10,totalElements:30},title:"",currentIndex:0,suanpanLink:"",tempList:[],checkedId:"",warnFlag:!1,timer:{},options:"",checkedInfo:"",errorDesc:void 0,modal:!1,modalType:0}},mounted:function(){var t=this;this.loadTableData(),this.timer=setInterval(function(){t.loadTableData()},this.time)},destroyed:function(){clearInterval(this.timer)},methods:{getInput:function(t){console.log(t),this.errorDesc=t},getEng:function(t){return["A","B","C","D","E","F"][t-1]},freshTimeChange:function(t){var e=this;clearInterval(this.timer),console.log(t),this.timer=setInterval(function(){e.loadTableData()},t)},showModal:function(t){this.modalType=t,this.modal=!0},changeState:function(t){var e=this;this.checkedInfo.errorDesc=this.errorDesc,Object(o.f)(this.checkedInfo).then(function(t){e.errorDesc=void 0,200===t.code?e.loadTableData():e.$Message.warning(t.msg)})},changeChecked:function(t){this.checkedId=t.id,this.checkedInfo=t||this.tempList[0]},loadTableData:function(t){var e=this;t&&(this.pageInfo.pageIndex=1),this.pageInfo.loading=!0,d.a.request({url:"/third/temperature/curve",method:"get"}).then(function(t){if(200===t.code){var a=[];if(""!==t.data){var i=JSON.parse(t.data);for(var n in i.data){var s=i.data[n];a.push({x:n,temp:s})}e.initChart(a)}}}),Object(o.W)().then(function(t){200===t.code&&(e.tempList=t.data,""===e.checkedId&&(e.checkedId=t.data[0].id,e.checkedInfo=t.data[0]))})},initChart:function(t){var e=this;this.options={title:"温度曲线",type:"line",xAxis:{key:"x"},yAxis:{symbol:"℃"},value:t,legend:[{key:"temp",name:"温度",color:"#0084FF"}]},this.$nextTick(function(){e.$refs.chart.init()})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-generate"},[a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("div",{staticClass:"common-flex"},[a("div",{staticStyle:{"margin-right":"10px"}},[t._v("刷新频率")]),t._v(" "),a("div",{staticClass:"select",staticStyle:{width:"100px"}},[a("Select",{on:{"on-change":t.freshTimeChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},t._l(t.freshTime,function(e){return a("Option",{key:e.id,attrs:{value:e.value}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),1)],1)]),t._v(" "),a("div",{staticClass:"common-flex"},[a("div",{staticClass:"right-boxes"},t._l(t.tempList,function(e,i){return a("div",{key:i,staticClass:"box",on:{click:function(a){t.changeChecked(e)}}},[a("div",{staticClass:"nameline",style:{background:e.id===t.checkedId?"#0084ff":"#141417"}},[t._v("\n            "+t._s(e.id<7?t.getEng(e.id)+"堆空气出口温度":"电堆空气出口温度")+"\n          ")]),t._v(" "),a("div",{staticClass:"value",style:{border:e.id===t.checkedId?"1px solid #0084ff":"none"}},[t._v("\n            预测值："+t._s(Number(e.predTemperature).toFixed(2)+"℃")+"\n          ")]),t._v(" "),a("div",{staticClass:"value",style:{border:e.id===t.checkedId?"1px solid #0084ff":"none"}},[t._v("\n            实际值："+t._s(Number(e.realTemperature).toFixed(2)+"℃")+"\n          ")])])}),0),t._v(" "),a("div",{staticStyle:{"margin-left":"30px","text-align":"center"}},[a("div",{staticClass:"judge"},[t._v("是否判定故障")]),t._v(" "),a("div",{staticClass:"common-flex",staticStyle:{"justify-content":"center"}},[a("Button",{on:{click:function(e){t.showModal(1)}}},[t._v("是")])],1)])]),t._v(" "),a("div",{staticClass:"link"},[a("div",{staticClass:"title"},[t._v(t._s(t.options.title))]),t._v(" "),a("div",{staticClass:"chart-container"},[a("custom-chart",t._b({ref:"chart",attrs:{data:t.options.value,id:0xf499742b5b,height:520}},"custom-chart",t.options,!1))],1)])]),t._v(" "),a("Modal",{attrs:{title:"提示"},on:{"on-ok":function(e){t.changeState(1)},"on-cancel":function(e){t.changeState(0)}},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticStyle:{"font-size":"16px","margin-bottom":"12px"}},[t._v("确认修改故障判定为"+t._s(t.modalType?"故障":"非故障")+"吗？")]),t._v(" "),t.modalType?a("Input",{attrs:{placeholder:"若确认,请输入故障代码"},on:{input:t.getInput}}):t._e()],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-sub"},[e("div",{staticClass:"title"},[e("div",{staticClass:"breadcrumb-item-link"},[this._v("温度预测")])])])}]};var v=a("VU/8")(u,h,!1,function(t){a("Lt+o")},"data-v-270a82aa",null).exports;e.default=v}});
//# sourceMappingURL=41.4052ce8bf93cad4a6218.js.map