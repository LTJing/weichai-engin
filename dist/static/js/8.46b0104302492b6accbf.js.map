{"version":3,"sources":["webpack:///./static/img/logo_name.png","webpack:///src/view/login/components/login-form/login-form.vue","webpack:///./src/view/login/components/login-form/login-form.vue?c430","webpack:///./src/view/login/components/login-form/login-form.vue","webpack:///./src/view/login/components/login-form/index.js","webpack:///src/view/login/login.vue","webpack:///./src/view/login/login.vue?bc11","webpack:///./src/view/login/login.vue","webpack:///./static/img/logo_cover.png"],"names":["module","exports","login_form","name","i18n_prefix","props","loading","Boolean","userNameRules","type","Array","default","required","message","this","$t_p","trigger","passwordRules","validCodeRules","data","timer","form","userName","localStorage","getItem","password","validateCode","isSavePwd","validCodeImg","validateToken","isValidImageQuerying","computed","rules","validCodeStyle","backgroundImage","methods","extends_default","Object","vuex_esm","GustLogin","_this","temLogin","then","res","$router","push","path","finally","catch","err","handleSubmit","_this2","$refs","loginForm","validate","valid","setItem","$emit","changeValidCode","_this3","auth","img","replace","$forceUpdate","$Message","warning","mounted","_this4","setInterval","beforeDestroy","clearInterval","destroyed","login_form_login_form","render","_vm","_h","$createElement","_c","_self","ref","attrs","model","nativeOn","keydown","$event","_k","keyCode","key","staticClass","staticStyle","margin-bottom","prop","_v","maxlength","placeholder","value","callback","$$v","$set","expression","slot","min-width","style","title","on","click","padding-top","size","long","_s","staticRenderFns","LoginForm","__webpack_require__","normalizeComponent","ssrContext","_imgLogo","login","components","components_login_form","logining","nowYear","moment_default","format","imgLogo","$store","state","app","globalConfig","loginLogo","created","console","log","handleLogin","_ref","code","error","msg","serverMessage","login_login","_m","on-success-valid","width","height","src","login_Component","login_normalizeComponent","__webpack_exports__","p"],"mappings":"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","file":"static/js/8.46b0104302492b6accbf.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/logo_name.png\n// module id = 1KuH\n// module chunks = 1 8","<template>\r\n  <Form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" @keydown.enter.native=\"handleSubmit\">\r\n    <FormItem class=\"form-item\" prop=\"userName\" style=\"margin-bottom:24px\">\r\n      <i class=\"prefix icon-user\"></i>\r\n      <Input v-model=\"form.userName\" :maxlength=\"20\" :placeholder=\"$t_p('user_name')\">\r\n        <i slot=\"prefix\" class></i>\r\n      </Input>\r\n    </FormItem>\r\n    <FormItem class=\"form-item\" prop=\"password\" style=\"margin-bottom:24px\">\r\n      <i class=\"prefix icon-lock\"></i>\r\n      <Input type=\"password\" v-model=\"form.password\" :maxlength=\"20\" :placeholder=\"$t_p('password')\">\r\n        <i slot=\"prefix\" class></i>\r\n      </Input>\r\n    </FormItem>\r\n    <FormItem class=\"form-item\" prop=\"validateCode\" style=\"margin-bottom:24px\">\r\n      <i class=\"prefix icon-safety\"></i>\r\n      <Input v-model=\"form.validateCode\" :maxlength=\"12\" :placeholder=\"$t_p('verification')\" >\r\n        <i slot=\"prefix\" ></i>\r\n        <div\r\n          class=\"im-valid\"\r\n          slot=\"append\"\r\n          ref=\"safePrefix\"\r\n          :title=\"$t_p('click_refresh')\"\r\n          :style=\"validCodeStyle\"\r\n          @click=\"changeValidCode\"\r\n          style=\"min-width: 50px\"\r\n        ></div>\r\n      </Input>\r\n\r\n    </FormItem>\r\n    <!--<FormItem class=\"form-item\" style=\"height: 20px;line-height: 20px;padding-top: 10px;\">\r\n      &lt;!&ndash;<Checkbox v-model=\"form.isSavePwd\"><span style=\"margin-left: 5px;\">记住密码</span></Checkbox>&ndash;&gt;\r\n    </FormItem>-->\r\n    <FormItem style=\"padding-top: 10px;margin-bottom: 12px\">\r\n      <Button\r\n        @click=\"handleSubmit\"\r\n        type=\"default\"\r\n        size=\"large\"\r\n        class=\"btn-login\"\r\n        :loading=\"loading\"\r\n        long\r\n      >{{$t_p('login')}}\r\n      </Button>\r\n    </FormItem>\r\n<!--    <a class=\"login-ceshi\" @click=\"GustLogin\">{{$t_p('trial_login')}}</a>-->\r\n  </Form>\r\n</template>\r\n<script>\r\nimport {refreshVerifyCode} from '@/api/auth'\r\nimport {mapActions} from 'vuex'\r\n\r\nexport default {\r\n  name: 'LoginForm',\r\n  i18n_prefix: 'page.login.components.login-form',\r\n  props: {\r\n    loading: Boolean,\r\n    userNameRules: {\r\n      type: Array,\r\n      default () {\r\n        return [{required: true, message: this.$t_p('user_name_rule'), trigger: 'submit'}]\r\n      }\r\n    },\r\n    passwordRules: {\r\n      type: Array,\r\n      default () {\r\n        return [{required: true, message: this.$t_p('password_rule'), trigger: 'submit'}]\r\n      }\r\n    },\r\n    validCodeRules: {\r\n      type: Array,\r\n      default () {\r\n        return [\r\n          {required: true, message: this.$t_p('verification_rule'), trigger: 'submit'}\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      timer: null,\r\n      form: {\r\n        userName: localStorage.getItem('slglUserName') || '',\r\n        password: '',\r\n        validateCode: '',\r\n        isSavePwd: false\r\n      },\r\n      validCodeImg: '',\r\n      validateToken: '',\r\n      isValidImageQuerying: false\r\n    }\r\n  },\r\n  computed: {\r\n    rules () {\r\n      return {\r\n        userName: this.userNameRules,\r\n        password: this.passwordRules,\r\n        validateCode: this.validCodeRules\r\n      }\r\n    },\r\n    validCodeStyle () {\r\n      // console.log(this.validCodeImg)\r\n      return {\r\n        backgroundImage: `url(${this.validCodeImg})`\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['temLogin']),\r\n    GustLogin () {\r\n      this.temLogin()\r\n        .then(res => {\r\n          // if (this.$route.query.from) {\r\n          //   location.href = (this.$route.query.from)\r\n          // } else {\r\n          this.$router.push({\r\n            path: '/'\r\n          })\r\n          // }\r\n        })\r\n        .finally(() => {\r\n\r\n        })\r\n        .catch(err => {\r\n          // this.logining = false;\r\n          // const {data} = err;\r\n          // if (data && data.code == 1001) {\r\n          //   this.$Message.error(\"验证码已失效\");\r\n          //   this.$refs.login_form.changeValidCode();\r\n          // } else if (err && err.serverMessage) {\r\n          //   this.$Message.error(err.serverMessage)\r\n          // } else {\r\n          //   this.$Message.error(\"登陆失败\")\r\n          // }\r\n        })\r\n    },\r\n    handleSubmit () {\r\n      this.$refs.loginForm.validate(valid => {\r\n        if (valid) {\r\n          localStorage.setItem('slglUserName', this.form.userName)\r\n          this.$emit('on-success-valid', {\r\n            userName: this.form.userName,\r\n            password: this.form.password,\r\n            validateCode: this.form.validateCode,\r\n            validateToken: this.validateToken\r\n          })\r\n        }\r\n      })\r\n    },\r\n    changeValidCode () {\r\n      if (this.isValidImageQuerying) {\r\n        return\r\n      }\r\n\r\n      this.isValidImageQuerying = true\r\n\r\n      refreshVerifyCode({})\r\n        .then(\r\n          res => {\r\n            this.validateToken = res.data.validateToken\r\n            this.validCodeImg =\r\n                'data:image/png;base64,' + res.data.img.replace(/[\\n|\\r]/g, '')\r\n            this.$forceUpdate()\r\n          },\r\n          err => {\r\n            this.$Message.warning(this.$t_p('get_fail_verification'))\r\n          }\r\n        )\r\n        .finally(() => {\r\n          this.isValidImageQuerying = false\r\n        })\r\n    }\r\n\r\n  },\r\n  mounted () {\r\n    this.changeValidCode()\r\n    this.timer = setInterval(() => {\r\n      this.changeValidCode()\r\n    }, 600000)\r\n    // this.refresh()\r\n  },\r\n  beforeDestroy () {\r\n    clearInterval(this.timer)\r\n  },\r\n  destroyed () {\r\n    if (this.timer) { // 如果定时器在运行则关闭\r\n      clearInterval(this.timer)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import \"../../../../style/varient\";\r\n\r\n  @rate: 1440/1920;\r\n  @size-icon-width: 14px * @rate;\r\n  @size-icon-height: 16px * @rate;\r\n\r\n  .form-icon {\r\n    width: 20px;\r\n  }\r\n\r\n  .form-item {\r\n    position: relative;\r\n    margin-bottom: 20px;\r\n    /deep/ .ivu-input[type='text'],\r\n    .ivu-input[type='password'] {\r\n      // width: 300px;\r\n      font-size: @size-font-normal;\r\n    }\r\n\r\n    .prefix {\r\n      position: absolute;\r\n      left: 12px;\r\n      top: 50%;\r\n      /*transform: translateY(-50%);*/\r\n      margin-top: -5px;\r\n      z-index: 20;\r\n\r\n      &.icon-user {\r\n        background-image: url(\"../../../../../static/img/icon-user.png\");\r\n      }\r\n\r\n      &.icon-lock {\r\n        background-image: url(\"../../../../../static/img/icon-lock.png\");\r\n      }\r\n\r\n      &.icon-safety {\r\n        background-image: url(\"../../../../../static/img/icon-safety.png\");\r\n      }\r\n    }\r\n\r\n    i {\r\n      display: inline-block;\r\n      width: @size-icon-width;\r\n      height: @size-icon-height;\r\n      background-size: auto 100%;\r\n    }\r\n  }\r\n\r\n  .ivu-input-group-append {\r\n    padding: 0;\r\n  }\r\n\r\n  .im-valid {\r\n    height: 25px;\r\n    cursor: pointer;\r\n    margin-left: 1px;\r\n    width: 80px;\r\n    background-size: 110% 110%;\r\n    background-position: 50% 60%;\r\n    background-repeat: no-repeat;\r\n    background-color: #262C3A !important;\r\n  }\r\n\r\n  .btn-login {\r\n    line-height: 40px * @rate -1px;\r\n    height: 40px * @rate;\r\n    font-size: @size-font-normal;\r\n    border-radius: 4px;\r\n    padding: 0;\r\n  }\r\n\r\n  .login-ceshi {\r\n    float: right;\r\n    color: #33cde5;\r\n    /*padding-right: 10px;*/\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/login/components/login-form/login-form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Form',{ref:\"loginForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules},nativeOn:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit($event)}}},[_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"24px\"},attrs:{\"prop\":\"userName\"}},[_c('i',{staticClass:\"prefix icon-user\"}),_vm._v(\" \"),_c('Input',{attrs:{\"maxlength\":20,\"placeholder\":_vm.$t_p('user_name')},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}},[_c('i',{attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"24px\"},attrs:{\"prop\":\"password\"}},[_c('i',{staticClass:\"prefix icon-lock\"}),_vm._v(\" \"),_c('Input',{attrs:{\"type\":\"password\",\"maxlength\":20,\"placeholder\":_vm.$t_p('password')},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}},[_c('i',{attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"form-item\",staticStyle:{\"margin-bottom\":\"24px\"},attrs:{\"prop\":\"validateCode\"}},[_c('i',{staticClass:\"prefix icon-safety\"}),_vm._v(\" \"),_c('Input',{attrs:{\"maxlength\":12,\"placeholder\":_vm.$t_p('verification')},model:{value:(_vm.form.validateCode),callback:function ($$v) {_vm.$set(_vm.form, \"validateCode\", $$v)},expression:\"form.validateCode\"}},[_c('i',{attrs:{\"slot\":\"prefix\"},slot:\"prefix\"}),_vm._v(\" \"),_c('div',{ref:\"safePrefix\",staticClass:\"im-valid\",staticStyle:{\"min-width\":\"50px\"},style:(_vm.validCodeStyle),attrs:{\"slot\":\"append\",\"title\":_vm.$t_p('click_refresh')},on:{\"click\":_vm.changeValidCode},slot:\"append\"})])],1),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"padding-top\":\"10px\",\"margin-bottom\":\"12px\"}},[_c('Button',{staticClass:\"btn-login\",attrs:{\"type\":\"default\",\"size\":\"large\",\"loading\":_vm.loading,\"long\":\"\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(_vm._s(_vm.$t_p('login'))+\"\\n      \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-70359684\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/login/components/login-form/login-form.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-70359684\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login-form.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login-form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login-form.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-70359684\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login-form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-70359684\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/login/components/login-form/login-form.vue\n// module id = null\n// module chunks = ","import LoginForm from './login-form.vue'\r\n\r\nexport default LoginForm\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/login/components/login-form/index.js","<style lang=\"less\">\r\n@import './login.less';\r\n</style>\r\n\r\n<template>\r\n  <div class=\"login\">\r\n    <div class=\"banner animated fadeInLeft\"></div>\r\n\r\n    <!--    <a class=\"link-api\" target=\"_blank\" href=\"http://idm.xuelangyun.com/api-web/\">API{{$t_p('computer')}}</a>-->\r\n\r\n    <div class=\"login-content animated fadeInRight\">\r\n      <div class=\"logo\">\r\n        <!-- <img :src=\"imgLogo\" alt=\"\"> -->\r\n        <!-- <span class=\"iconfont icon-a-lianhe64\"></span>\r\n         -->\r\n        <img src=\"./../../../static/img/logo_name.png\"\r\n              style=\"width: 90px;height: 25.2px;\">\r\n      </div>\r\n      <login-form ref=\"login_form\"\r\n                  @on-success-valid=\"handleSubmit\"\r\n                  :loading=\"logining\"></login-form>\r\n    </div>\r\n\r\n    <!--    <div class=\"copy-right animated fadeIn\">© {{nowYear}} {{$t_p('content')}}</div>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LoginForm from './components/login-form'\r\nimport { mapActions } from 'vuex'\r\nimport moment from 'moment'\r\n\r\nconst imgLogo = require('../../../static/img/logo_cover.png')\r\n\r\nexport default {\r\n  components: {\r\n    LoginForm\r\n  },\r\n  i18n_prefix: 'page.login.login',\r\n  data () {\r\n    return {\r\n      logining: false,\r\n      nowYear: moment().format('YYYY')\r\n    }\r\n  },\r\n  computed: {\r\n    imgLogo () {\r\n      return (\r\n        (this.$store.state.app.globalConfig &&\r\n          this.$store.state.app.globalConfig.loginLogo) ||\r\n        imgLogo\r\n      )\r\n    }\r\n  },\r\n  created () {\r\n    console.log(this.handleLogin)\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      handleLogin: 'handleLogin'\r\n    }),\r\n    handleSubmit ({ userName, password, validateToken, validateCode }) {\r\n      this.logining = true\r\n      this.handleLogin({ userName, password, validateToken, validateCode })\r\n        .then((res) => {\r\n          this.$router.push({\r\n            path: '/manage'\r\n          })\r\n        })\r\n        .finally((res) => {})\r\n        .catch((err) => {\r\n          console.log('----------------', err)\r\n          this.logining = false\r\n          const { data } = err\r\n          if (data && data.code == 1001) {\r\n            this.$Message.error(this.$t_p('verification_expired'))\r\n            this.$refs.login_form.changeValidCode()\r\n          } else if (err && err.code == 1000) {\r\n            this.$Message.error(err.msg)\r\n            this.$refs.login_form.changeValidCode()\r\n          } else if (err && err.serverMessage) {\r\n            this.$Message.error(err.serverMessage)\r\n            this.$refs.login_form.changeValidCode()\r\n          } else {\r\n            this.$Message.error(this.$t_p('login_failed'))\r\n            this.$refs.login_form.changeValidCode()\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../style/varient';\r\n.login {\r\n  min-height: 560px;\r\n  height: 100%;\r\n  overflow: hidden;\r\n\r\n  @rate: 1440/1920;\r\n\r\n  .banner {\r\n    background: url('../../../static/img/logo_cover.png');\r\n    background-size: 100% 100%;\r\n    width: 640px * @rate;\r\n    height: 570px * @rate;\r\n    position: absolute;\r\n    top: 50%;\r\n    margin-top: -277px * @rate;\r\n    right: 50%;\r\n    margin-right: -134px * @rate;\r\n    z-index: 10;\r\n  }\r\n\r\n  .login-content {\r\n    width: 450px * @rate;\r\n    height: 500px * @rate;\r\n    box-sizing: border-box;\r\n    padding: 65px * @rate 40px * @rate 0 40px * @rate;\r\n    // background-color: #ffffff;\r\n    background-color: #262C3A;\r\n    border-radius: 0px 5px 5px 0px;\r\n    overflow: hidden;\r\n    position: absolute;\r\n    left: 50%;\r\n    margin-left: 106px * @rate;\r\n    top: 50%;\r\n    margin-top: -250px * @rate;\r\n\r\n    .logo {\r\n      text-align: center;\r\n      .iconfont {\r\n        color: #fff;\r\n        font-size: 35px * @rate;\r\n      }\r\n      img {\r\n        height: 36px * @rate;\r\n      }\r\n      margin-bottom: 40px * @rate;\r\n    }\r\n  }\r\n\r\n  .copy-right {\r\n    position: absolute;\r\n    bottom: 19px;\r\n    left: 0;\r\n    right: 0;\r\n    font-size: @size-font-normal;\r\n    line-height: 1.1;\r\n    color: #fefefe;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.link-api {\r\n  display: inline-block;\r\n  position: absolute;\r\n  top: 30px;\r\n  right: 50px;\r\n  font-size: 20px;\r\n  color: white;\r\n  /*font-weight: bold;*/\r\n  font-style: normal;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"banner animated fadeInLeft\"}),_vm._v(\" \"),_c('div',{staticClass:\"login-content animated fadeInRight\"},[_vm._m(0),_vm._v(\" \"),_c('login-form',{ref:\"login_form\",attrs:{\"loading\":_vm.logining},on:{\"on-success-valid\":_vm.handleSubmit}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{staticStyle:{\"width\":\"90px\",\"height\":\"25.2px\"},attrs:{\"src\":require(\"./../../../static/img/logo_name.png\")}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47127440\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47127440\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47127440\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47127440\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47127440\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/login/login.vue\n// module id = null\n// module chunks = ","module.exports = __webpack_public_path__ + \"static/img/logo_cover.1deeef4.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/logo_cover.png\n// module id = ujTF\n// module chunks = 8"],"sourceRoot":""}