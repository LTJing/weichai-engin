{"version":3,"sources":["webpack:///./src/view/export-data/index.js","webpack:///src/view/export-data/export-data.vue","webpack:///./src/api/statistics.js","webpack:///./src/view/export-data/export-data.vue?df43","webpack:///./src/view/export-data/export-data.vue","webpack:///src/view/export-data/export-data-auto.vue","webpack:///./src/view/export-data/export-data-auto.vue?0ddc","webpack:///./src/view/export-data/export-data-auto.vue","webpack:///src/view/export-data/tab-list.vue","webpack:///./src/view/export-data/tab-list.vue?8042","webpack:///./src/view/export-data/tab-list.vue"],"names":["Object","defineProperty","__webpack_exports__","value","__WEBPACK_IMPORTED_MODULE_0__tab_list_vue__","__webpack_require__","Main","export_data","components","StatusSelect","device_select","LaboratoryList","laboratory_list","customDrawer","common_drawer","data","_this","this","search","pointType","alias","itemName","pageInfo","loading","pageIndex","pageSize","totalElements","typeList","name","tableData","maxlength","tableColumns","title","key","align","render","h","params","row","createTime","split","width","class","style","marginLeft","color","on","click","download","currentIndex","formList","label","type","placeholder","formValue","formValidate","required","message","formula","methods","selectTree","e","addr","getType","loadTableData","_this2","_pageInfo","pageNumber","axiosDownLoad","request","url","method","then","res","code","result","baseUrl","window","location","origin","open","encodeURIComponent","fileName","onRowClick","onPaginationChange","index","onPaginationSizeChange","size","rowClassName","id","mounted","export_data_export_data","_vm","_h","$createElement","_c","_self","staticClass","attrs","stripe","columns","row-class-name","on-row-click","_v","current","page-size","total","show-elevator","show-sizer","show-total","on-change","on-page-size-change","staticRenderFns","view_export_data_export_data","normalizeComponent","ssrContext","export_data_auto","showDrawer","val","JSON","parse","stringify_default","$refs","drawer","export_data_export_data_auto","view_export_data_export_data_auto","export_data_auto_normalizeComponent","tab_list","tab","common_tab","exportData","mixins","router_transition","tabList","com","tabIndex","is","created","changeTab","console","log","export_data_tab_list","change","enter-active-class","routerTransitionClass","enter","leave-active-class","leave","tag","tab_list_Component","tab_list_normalizeComponent"],"mappings":"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","file":"static/js/11.b0bb79355890b39cee1c.js","sourcesContent":["import Main from './tab-list.vue'\r\n\r\nexport default Main\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/view/export-data/index.js","<template>\r\n  <div class=\"list\">\r\n    <div class=\"content\">\r\n      <!-- <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">测点配置</div>\r\n          <span class=\"empty\"></span>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"user-table\">\r\n        <Table class=\"m-table no-scroll no-border\"\r\n               stripe\r\n               :loading=\"pageInfo.loading\"\r\n               :columns=\"tableColumns\"\r\n               :row-class-name=\"rowClassName\"\r\n               @on-row-click=\"onRowClick\"\r\n               :data=\"tableData\"></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page @on-change=\"onPaginationChange\"\r\n              @on-page-size-change=\"onPaginationSizeChange\"\r\n              :current=\"pageInfo.pageIndex\"\r\n              :page-size=\"pageInfo.pageSize\"\r\n              :total=\"pageInfo.totalElements\"\r\n              show-elevator\r\n              show-sizer\r\n              show-total />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatusSelect from '@/components/device-select'\r\nimport LaboratoryList from '@/components/laboratory-list'\r\nimport customDrawer from '@/components/common-drawer/common-drawer'\r\nimport {getExport} from '@/api/statistics'\r\nexport default {\r\n  components: {\r\n    StatusSelect,\r\n    LaboratoryList,\r\n    customDrawer\r\n  },\r\n  data () {\r\n    return {\r\n      search: {\r\n        pointType: '',\r\n        alias: '',\r\n        itemName: ''\r\n      },\r\n      pageInfo: {\r\n        loading: false,\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 30\r\n      },\r\n      typeList: [\r\n        {name: '电压', value: 'VOLTAGE'},\r\n        {name: '功率', value: 'POWER'},\r\n        {name: '流量', value: 'FLOW'},\r\n        {name: '温度', value: 'TEMPERATURE'},\r\n        {name: '压力', value: 'PRESSURE'},\r\n        {name: '电流', value: 'CURRENT'}\r\n      ],\r\n      tableData: [],\r\n      maxlength: 50,\r\n      tableColumns: [\r\n        {\r\n          title: '序号',\r\n          key: 'id',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '文件名称',\r\n          key: 'fileName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '文件相对目录',\r\n          key: 'fileUrl',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '设备信息',\r\n          key: 'deviceName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '文件大小',\r\n          key: 'fileSize',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '生成时间',\r\n          key: 'createTime',\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', params.row.createTime.split('T')[0] + ' ' + params.row.createTime.split('T')[1])\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 200,\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h(\r\n                'span',\r\n                {\r\n                  class: 'primary',\r\n                  style: {\r\n                    marginLeft: 0,\r\n                    color: '#0084FF'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.download(params.row)\r\n                    }\r\n                  }\r\n                },\r\n                '下载'\r\n              )\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      currentIndex: 0,\r\n      title: '',\r\n      formList: [\r\n        {\r\n          label: '测点名称',\r\n          type: 'input',\r\n          value: 'itemName',\r\n          placeholder: '请输入测点名称'\r\n        },\r\n        {\r\n          label: '测点类型',\r\n          type: 'select',\r\n          value: 'pointType',\r\n          data: []\r\n        },\r\n        {\r\n          label: '公式',\r\n          type: 'textarea',\r\n          value: 'formula',\r\n          placeholder: '请输入公式'\r\n        },\r\n        {\r\n          label: '测点描述',\r\n          type: 'input',\r\n          value: 'alias',\r\n          placeholder: '请输入测点描述'\r\n        }\r\n      ],\r\n      formValue: {},\r\n      formValidate: {\r\n        itemName: [{required: true, message: '测点名称不能为空'}],\r\n        pointType: [{required: true, message: '测点类型不能为空'}],\r\n        formula: [{required: true, message: '公式不能为空'}],\r\n        alias: [{required: true, message: '测点描述不能为空'}]\r\n      },\r\n      type: ''\r\n    }\r\n  },\r\n  methods: {\r\n    selectTree (e) {\r\n      this.formValue.addr = e\r\n    },\r\n    getType () {\r\n      this.formList[1].data = this.typeList\r\n    },\r\n    loadTableData () {\r\n      this.pageInfo.loading = true\r\n      let { pageSize, pageIndex: pageNumber } = this.pageInfo\r\n      getExport({pageSize, pageNumber}).then(res => {\r\n        if (res.code === 200) {\r\n          this.tableData = res.data.result\r\n          this.pageInfo.totalElements = res.data.totalElements\r\n          this.pageInfo.loading = false\r\n        } else {\r\n          this.tableData = []\r\n          this.pageInfo.totalElements = 0\r\n          this.pageInfo.loading = false\r\n        }\r\n      })\r\n    },\r\n    download (params) {\r\n      let baseUrl = window.location.origin\r\n      let path = '/device-batch-ai/download/'\r\n      window.open(baseUrl + path + encodeURIComponent(params.fileName))\r\n    },\r\n    onRowClick () {},\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(true)\r\n    },\r\n    rowClassName (row, index) {\r\n      if (row.id == this.currentIndex) {\r\n        return 'demo-table-info-row'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTableData()\r\n    this.getType()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../style/varient';\r\n@size-padding: 10px;\r\n.list {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 24px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/export-data/export-data.vue","import axiosDownLoad from '@/libs/api.download'\r\n\r\nexport const getExport = (params) => {\r\n  return axiosDownLoad.request({\r\n    url: '/record' + '?fileType=EXPORT&' + 'pageSize=' + params.pageSize + '&pageNumber=' + params.pageNumber,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport const getExportAuto = (params) => {\r\n  return axiosDownLoad.request({\r\n    url: '/record' + '?fileType=BATCH&' + 'pageSize=' + params.pageSize + '&pageNumber=' + params.pageNumber,\r\n    method: 'get'\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/statistics.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"user-table\"},[_c('Table',{staticClass:\"m-table no-scroll no-border\",attrs:{\"stripe\":\"\",\"loading\":_vm.pageInfo.loading,\"columns\":_vm.tableColumns,\"row-class-name\":_vm.rowClassName,\"data\":_vm.tableData},on:{\"on-row-click\":_vm.onRowClick}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"current\":_vm.pageInfo.pageIndex,\"page-size\":_vm.pageInfo.pageSize,\"total\":_vm.pageInfo.totalElements,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onPaginationChange,\"on-page-size-change\":_vm.onPaginationSizeChange}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cdd6bc5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/export-data/export-data.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0cdd6bc5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./export-data.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./export-data.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./export-data.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0cdd6bc5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./export-data.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0cdd6bc5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/export-data/export-data.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"list\">\r\n    <div class=\"content\">\r\n      <!-- <div class=\"header-sub\">\r\n        <div class=\"title\">\r\n          <div class=\"breadcrumb-item-link\">测点配置</div>\r\n          <span class=\"empty\"></span>\r\n        </div>\r\n      </div> -->\r\n      <div class=\"user-table\">\r\n        <Table class=\"m-table no-scroll no-border\"\r\n               stripe\r\n               :loading=\"pageInfo.loading\"\r\n               :columns=\"tableColumns\"\r\n               :row-class-name=\"rowClassName\"\r\n               @on-row-click=\"onRowClick\"\r\n               :data=\"tableData\"></Table>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <Page style=\"\"\r\n              @on-change=\"onPaginationChange\"\r\n              @on-page-size-change=\"onPaginationSizeChange\"\r\n              :current=\"pageInfo.pageIndex\"\r\n              :page-size=\"pageInfo.pageSize\"\r\n              :total=\"pageInfo.totalElements\"\r\n              show-elevator\r\n              show-sizer\r\n              show-total />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport StatusSelect from '@/components/device-select'\r\nimport LaboratoryList from '@/components/laboratory-list'\r\nimport customDrawer from '@/components/common-drawer/common-drawer'\r\nimport {getExportAuto} from '@/api/statistics'\r\nexport default {\r\n  components: {\r\n    StatusSelect,\r\n    LaboratoryList,\r\n    customDrawer\r\n  },\r\n  data () {\r\n    return {\r\n      search: {\r\n        pointType: '',\r\n        alias: '',\r\n        itemName: ''\r\n      },\r\n      pageInfo: {\r\n        loading: false,\r\n        pageIndex: 1,\r\n        pageSize: 10,\r\n        totalElements: 30\r\n      },\r\n      typeList: [\r\n        {name: '电压', value: 'VOLTAGE'},\r\n        {name: '功率', value: 'POWER'},\r\n        {name: '流量', value: 'FLOW'},\r\n        {name: '温度', value: 'TEMPERATURE'},\r\n        {name: '压力', value: 'PRESSURE'},\r\n        {name: '电流', value: 'CURRENT'}\r\n      ],\r\n      tableData: [],\r\n      maxlength: 50,\r\n      tableColumns: [\r\n        {\r\n          title: '序号',\r\n          key: 'id',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '文件名称',\r\n          key: 'fileName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '文件相对目录',\r\n          key: 'fileUrl',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '文件大小',\r\n          key: 'fileSize',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '生成时间',\r\n          key: 'createTime',\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', params.row.createTime.split('T')[0] + ' ' + params.row.createTime.split('T')[1])\r\n          }\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          width: 200,\r\n          align: 'left',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h(\r\n                'span',\r\n                {\r\n                  class: 'primary',\r\n                  style: {\r\n                    marginLeft: 0,\r\n                    color: '#0084FF'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.download(params.row)\r\n                    }\r\n                  }\r\n                },\r\n                '下载'\r\n              )\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      currentIndex: 0,\r\n      title: '',\r\n      formList: [\r\n        {\r\n          label: '测点名称',\r\n          type: 'input',\r\n          value: 'itemName',\r\n          placeholder: '请输入测点名称'\r\n        },\r\n        {\r\n          label: '测点类型',\r\n          type: 'select',\r\n          value: 'pointType',\r\n          data: []\r\n        },\r\n        {\r\n          label: '公式',\r\n          type: 'textarea',\r\n          value: 'formula',\r\n          placeholder: '请输入公式'\r\n        },\r\n        {\r\n          label: '测点描述',\r\n          type: 'input',\r\n          value: 'alias',\r\n          placeholder: '请输入测点描述'\r\n        }\r\n      ],\r\n      formValue: {},\r\n      formValidate: {\r\n        itemName: [{required: true, message: '测点名称不能为空'}],\r\n        pointType: [{required: true, message: '测点类型不能为空'}],\r\n        formula: [{required: true, message: '公式不能为空'}],\r\n        alias: [{required: true, message: '测点描述不能为空'}]\r\n      },\r\n      type: ''\r\n    }\r\n  },\r\n  methods: {\r\n    selectTree (e) {\r\n      this.formValue.addr = e\r\n    },\r\n    getType () {\r\n      this.formList[1].data = this.typeList\r\n    },\r\n    download (params) {\r\n      let baseUrl = window.location.origin\r\n      let path = '/device-batch-ai/download/'\r\n      window.open(baseUrl + path + encodeURIComponent(params.fileName))\r\n    },\r\n    loadTableData () {\r\n      let { pageSize, pageIndex: pageNumber } = this.pageInfo\r\n      this.pageInfo.loading = true\r\n      getExportAuto({pageSize, pageNumber}).then(res => {\r\n        if (res.code === 200) {\r\n          this.tableData = res.data.result\r\n          this.pageInfo.totalElements = res.data.totalElements\r\n          this.pageInfo.loading = false\r\n        } else {\r\n          this.tableData = []\r\n          this.pageInfo.totalElements = 0\r\n          this.pageInfo.loading = false\r\n        }\r\n      })\r\n    },\r\n    showDrawer (type, params) {\r\n      if (type !== 'delete') {\r\n        if (type === 'add') {\r\n          this.title = '新增自定义测点'\r\n          this.formValue = {}\r\n        } else {\r\n          let val = JSON.parse(JSON.stringify(params))\r\n          this.title = '编辑测点'\r\n          this.formValue = val\r\n        }\r\n        this.type = type\r\n        this.$refs.drawer.open()\r\n      } else {\r\n      }\r\n    },\r\n    onRowClick () {},\r\n    onPaginationChange (index) {\r\n      this.pageInfo.pageIndex = index\r\n      this.loadTableData(false)\r\n    },\r\n    onPaginationSizeChange (size) {\r\n      this.pageInfo.pageSize = size\r\n      this.loadTableData(true)\r\n    },\r\n    rowClassName (row, index) {\r\n      if (row.id == this.currentIndex) {\r\n        return 'demo-table-info-row'\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadTableData()\r\n    this.getType()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../style/varient';\r\n@size-padding: 10px;\r\n.list {\r\n  width: 100%;\r\n  height: 100%;\r\n  .content {\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*上边阴影  红色*/ -1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*左边阴影  绿色*/ 1px 0px 2px 0px rgba(0, 0, 0, 0.05),\r\n      /*右边阴影  蓝色*/ 0px 1px 2px 0px rgba(0, 0, 0, 0.05); /*下边阴影  黄色*/\r\n    padding: 24px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/export-data/export-data-auto.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"user-table\"},[_c('Table',{staticClass:\"m-table no-scroll no-border\",attrs:{\"stripe\":\"\",\"loading\":_vm.pageInfo.loading,\"columns\":_vm.tableColumns,\"row-class-name\":_vm.rowClassName,\"data\":_vm.tableData},on:{\"on-row-click\":_vm.onRowClick}})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('Page',{attrs:{\"current\":_vm.pageInfo.pageIndex,\"page-size\":_vm.pageInfo.pageSize,\"total\":_vm.pageInfo.totalElements,\"show-elevator\":\"\",\"show-sizer\":\"\",\"show-total\":\"\"},on:{\"on-change\":_vm.onPaginationChange,\"on-page-size-change\":_vm.onPaginationSizeChange}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-44e66ed9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/export-data/export-data-auto.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-44e66ed9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./export-data-auto.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./export-data-auto.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./export-data-auto.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-44e66ed9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./export-data-auto.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-44e66ed9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/export-data/export-data-auto.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"platform\">\r\n    <tab :data=\"tabList\" @change=\"changeTab\" :current=\"tabIndex\"></tab>\r\n    <div class=\"content\">\r\n      <transition :enter-active-class=\"routerTransitionClass.enter\"\r\n                      :leave-active-class=\"routerTransitionClass.leave\">\r\n        <component :is=\"is\"></component>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tab from '@/components/common-tab'\r\nimport exportData from './export-data.vue'\r\nimport exportDataAuto from './export-data-auto.vue'\r\nimport RouterTransition from '@/mixins/router-transition'\r\n\r\nexport default {\r\n  name: 'platform',\r\n  components: {\r\n    tab,\r\n    exportData\r\n  },\r\n  mixins: [RouterTransition],\r\n  data () {\r\n    return {\r\n      tabList: [\r\n        {\r\n          id: 1,\r\n          name: '手动导出',\r\n          com: exportData\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '自动导出',\r\n          com: exportDataAuto\r\n        }\r\n      ],\r\n      tabIndex: 0,\r\n      is: null\r\n    }\r\n  },\r\n  created () {\r\n    this.is = this.tabList[this.tabIndex].com\r\n  },\r\n  methods: {\r\n    changeTab (index) {\r\n      console.log(index)\r\n      this.tabIndex = index\r\n      this.is = this.tabList[index].com\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../style/varient';\r\n@size-padding: 10px;\r\n.platform{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  .content{\r\n    width: 100%;\r\n    height: calc(~\"100% - \" 40px);\r\n    // background-color: #fff;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/export-data/tab-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"platform\"},[_c('tab',{attrs:{\"data\":_vm.tabList,\"current\":_vm.tabIndex},on:{\"change\":_vm.changeTab}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('transition',{attrs:{\"enter-active-class\":_vm.routerTransitionClass.enter,\"leave-active-class\":_vm.routerTransitionClass.leave}},[_c(_vm.is,{tag:\"component\"})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c9f9997\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/export-data/tab-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c9f9997\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./tab-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./tab-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c9f9997\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./tab-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2c9f9997\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/export-data/tab-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}