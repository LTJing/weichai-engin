{"version":3,"sources":["webpack:///src/view/realtime-monitor/components/single-device-group/components/single-device.vue","webpack:///./src/view/realtime-monitor/components/single-device-group/components/single-device.vue?2d46","webpack:///./src/view/realtime-monitor/components/single-device-group/components/single-device.vue","webpack:///src/view/realtime-monitor/components/single-device-group/components/detail-target.vue","webpack:///./src/view/realtime-monitor/components/single-device-group/components/detail-target.vue?bb1a","webpack:///./src/view/realtime-monitor/components/single-device-group/components/detail-target.vue","webpack:///src/view/realtime-monitor/components/single-device-group/single-device-group.vue","webpack:///./src/view/realtime-monitor/components/single-device-group/single-device-group.vue?a397","webpack:///./src/view/realtime-monitor/components/single-device-group/single-device-group.vue","webpack:///./src/view/realtime-monitor/components/single-device-group/index.js","webpack:///src/components/graph-viewer/graph-viewer.vue","webpack:///./src/components/graph-viewer/graph-viewer.vue?d801","webpack:///./src/components/graph-viewer/graph-viewer.vue","webpack:///./src/components/graph-viewer/index.js"],"names":["single_device","name","components","Select","iview","GraphViewer","graph_viewer","data","disabled","token","Object","util","deviceGroupList","form","place","placeOptions","id","moduleId","freshTime","value","time","screenOptions","isFull","deviceTableColumns","title","key","align","ellipsis","tooltip","dangerTableColumns","deviceTableData","device","subDevice","content","dangerTableData","screen","loading","deviceTable","dangerTable","deviceCurrentIndex","dangerCurrentIndex","financialList","type","num","symbol","performenceList","icon","bg","color","reliableList","deviceList","status","twinStatus","img","singleList","chartId","chartOptions","showTitle","deviceId","timer","computed","orgCode","this","configurationUrl","window","location","href","split","destroyed","localStorage","removeItem","clearInterval","mounted","_this","$route","params","toString","getDeviceGroup","getItem","Number","setInterval","getChartType","getDeviceInfo","methods","_this2","then","res","code","info","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","economyIndex","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","performanceIndex","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_item2","reliabilityIndex","pageNumber","pageSize","result","_this3","sceneType","getChartData","changeChart","e","console","log","changeGroup","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_item3","child","freshTimeChange","_this4","setItem","slice","getName","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","ChangeShow","_this5","setTimeout","_this6","i","map","deviceName","mxgraphId","navToSingle","parentId","$router","push","path","query","navToEdit","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","open","_this7","businessType","indexs","xData","x","legend","yDatas","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","array","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","datas","series","idx","length","colors","getColors","smooth","itemStyle","lineStyle","shadowBlur","shadowColor","shadowOffsetY","emphasis","label","show","position","initChart","index","chart","document","getElementById","$echarts","dispose","init","setOption","xAxis","axisLine","axisLabel","axisTick","yAxis","scale","splitNumber","splitLine","grid","bottom","left","right","trigger","itemWidth","itemHeight","textStyle","jump","screenChange","fullSreen","initViewer","$refs","graphViewer","reset","handleClick","row","getColor","components_single_device","render","_vm","_h","$createElement","_c","_self","staticClass","_v","model","callback","$$v","$set","expression","_l","attrs","_s","on","on-change","mouseenter","$event","_e","mouseleave","staticStyle","width","height","stripe","columns","highlight-row","class","margin-right","click","custom-icon","ref","module-id","src","frameborder","overflow-y","style","backgroundImage","deviceStatus","unitName","backgroundColor","staticRenderFns","single_device_group_components_single_device","__webpack_require__","normalizeComponent","ssrContext","detail_target","customChart","tab","chartList","changeTab","$Message","warning","msg","deviceChange","getDatas","changeData","fieldType","getType","unit","l","extends_default","components_detail_target","_b","single_device_group_components_detail_target","detail_target_normalizeComponent","single_device_group","common_tab","singleDevice","detailTarget","mixins","router_transition","tabList","com","tabIndex","is","created","single_device_group_single_device_group","current","change","enter-active-class","routerTransitionClass","enter","leave-active-class","leave","tag","components_single_device_group_single_device_group","single_device_group_normalizeComponent","Main","i18n_prefix","CommonLoading","common_loading","ChartBase","chart_base","props","String","background","zoomEnable","Boolean","default","panEnable","LoadComplete","timeRange","moment_default","add","format","showInfo","tipPosition","showEdit","showView","planSaving","viewer","_fla","flag","InfoRules","currentEdit","currentModuleInfo","currentGraphInfo","itemRefreshTimer","showModuleId","chartLoading","historyData","tipStyle","display","top","graphStyle","watch","v","loadModuleInfo","showTip","y","hideTip","promise_default","a","resolve","reject","mxUtils","get","xhr","themes","Graph","prototype","defaultThemeName","getDocumentElement","graph","updateEdgeStyle","edge","getStyle","includes","ele","view","getState","shape","node","getElementsByTagName","removeAttribute","setAttribute","resizeContainer","setEnabled","addListener","mxEvent","REFRESH","sender","evt","states","visit","state","isEdge","cell","SIZE","CELLS_ADDED","properties","cells","addEventListener","preventDefault","stopPropagation","wheelDelta","zoom","passive","_isMoving","_startPoint","deltaX","clientX","deltaY","clientY","panGraph","onPlanSave","editCmd","updateGraphInfo","xmlstring","arguments","xmlDoc","parseXml","exec","pageWidth","pageHeight","codec","mxCodec","decode","documentElement","getModel","refreshScale","api","startGraphRefresh","stopGraphRefresh","error","$t_p","graphSize","clearTimeout","refreshTimer","viewEl","pw","clientWidth","ph","clientHeight","gw","Math","abs","_pageWidth","graphBounds","gh","_pageHeight","zoomTo","catch","refreshGraphDataView","refreshInterval","getItemId","detail","itemName","val","temp","items","itemCellMap","itemId","forEach","d","needBindText","bindText","_ref","_ref$bindTextOp","bindTextOp","_ref$bindTextOpValue","bindTextOpValue","opValue","valueFixed","toFixed","mapping","newData","x1","refresh","reload","nextList","concat","pop","success","getChartSeries","yData","showSymbol","normal","areaStyle","echarts_default","graphic","LinearGradient","offset","getChartGrid","max","loadDeviceItemsHistoryData","stime","etime","sDate","eDate","dateTime","dataTime","refreshChart","reverse","toDate","calculable","animation","pt","text","_this8","mxCellTracker","mouseMove","sourceState","setCursor","cmdType","infoName","indexOf","getTooltipForCell","moduleName","$hasAccess","obj","args","devices","bindTime","_obj","_obj2","infos","deviceInfo","itemVal","$eventHub","$emit","stringify_default","_infos","alarmInfo","videoId","substring","groupId","infoType","infoDetail","infoDevice","infoDeviceId","infoDeviceName","infoItem","infoItemName","module","$on","graph_viewer_graph_viewer","directives","rawName","size","footer-hide","mask-closable","class-name","$flexible","rules","label-width","prop","placeholder","text-align","padding-bottom","placement","fix","options","components_graph_viewer_graph_viewer"],"mappings":"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","file":"static/js/7.43586dd507017093c778.js","sourcesContent":["<template>\r\n  <div class=\"single-device\">\r\n    <div class=\"left\">\r\n      <div class=\"left-head border\">整机组介绍</div>\r\n      <div class=\"left-device border\">\r\n        <div class=\"form\">\r\n          <div class=\"form-item form-item-select\">\r\n            <div class=\"label\">机组地点</div>\r\n            <div class=\"select\">\r\n              <Select v-model=\"form.place\">\r\n                <Option\r\n                  v-for=\"item in placeOptions\"\r\n                  :key=\"item.id\"\r\n                  :value=\"item.id\"\r\n                >\r\n                  {{ item.name }}\r\n                </Option>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n          <div class=\"form-item form-item-select\">\r\n            <div class=\"label\">机组名称</div>\r\n            <div class=\"select\">\r\n              <Select v-model=\"form.name\" @on-change=\"changeGroup\">\r\n                <Option\r\n                  v-for=\"item in deviceGroupList\"\r\n                  :key=\"item.id\"\r\n                  :value=\"item.deviceId\"\r\n                >\r\n                  {{ item.name }}\r\n                </Option>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"left-device-table\">\r\n          <Table\r\n            class=\"m-table no-scroll no-border\"\r\n            stripe\r\n            :loading=\"loading.deviceTable\"\r\n            :columns=\"deviceTableColumns\"\r\n            height=\"200\"\r\n            :row-class-name=\"\r\n              row => {\r\n                if (row.id == deviceCurrentIndex) {\r\n                  return 'demo-table-info-row';\r\n                } else {\r\n                  return;\r\n                }\r\n              }\r\n            \"\r\n            :data=\"deviceTableData\"\r\n          ></Table>\r\n        </div> -->\r\n      </div>\r\n      <div class=\"left-enivronment border\">\r\n        <!-- <div class=\"title\">环境概况(温度+湿度+PM2.5)</div> -->\r\n        <div class=\"title\" @mouseenter=\"ChangeShow(1)\" v-if=\"showTitle\">\r\n          {{ getName(chartId) }}\r\n        </div>\r\n        <div class=\"title\" @mouseleave=\"ChangeShow(2)\" v-if=\"!showTitle\">\r\n          <Select v-model=\"chartId\" @on-change=\"changeChart\">\r\n            <Option\r\n              v-for=\"item in chartOptions\"\r\n              :key=\"item.id\"\r\n              :value=\"item.id\"\r\n            >\r\n              {{ item.name }}\r\n            </Option>\r\n          </Select>\r\n        </div>\r\n        <div class=\"chart\" id=\"chart\" style=\"width: 100%;height:200px;\"></div>\r\n      </div>\r\n      <div class=\"left-danger\">\r\n        <div class=\"title\">故障告警</div>\r\n        <div class=\"left-dangertable\">\r\n          <Table\r\n            class=\"m-table no-scroll no-border\"\r\n            stripe\r\n            :loading=\"loading.dangerTable\"\r\n            :columns=\"dangerTableColumns\"\r\n            highlight-row\r\n            height=\"400%\"\r\n            :data=\"dangerTableData\"\r\n          ></Table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div :class=\"['right-monitor', isFull ? 'active' : '']\">\r\n        <div class=\"right-head\">\r\n          <div class=\"right-head-left\">实时监测</div>\r\n          <div class=\"right-head-right\">\r\n            <div style=\"margin-right:10px\">刷新频率</div>\r\n            <div class=\"select\" style=\"width:100px\">\r\n              <Select v-model=\"time\" @on-change=\"freshTimeChange\">\r\n                <Option\r\n                  v-for=\"item in freshTime\"\r\n                  :key=\"item.id\"\r\n                  :value=\"item.value\"\r\n                >\r\n                  {{ item.value }}\r\n                </Option>\r\n              </Select>\r\n            </div>\r\n            <div class=\"select\">\r\n              <Select v-model=\"screen\" @on-change=\"screenChange\">\r\n                <Option\r\n                  v-for=\"item in screenOptions\"\r\n                  :key=\"item.id\"\r\n                  :value=\"item.id\"\r\n                >\r\n                  {{ item.name }}\r\n                </Option>\r\n              </Select>\r\n            </div>\r\n            <!-- <div class=\"jump\">\r\n              <Button :type=\"disabled?'primary':'default'\"\r\n                      @click=\"jump\"\r\n                      :disabled ='disabled'\r\n                      custom-icon=\"iconfont icon-tiaozhuanmianban\"\r\n                      >跳转</Button>\r\n            </div> -->\r\n            <div class=\"jump\">\r\n              <Button type=\"default\" @click=\"navToEdit()\">测点配置</Button>\r\n            </div>\r\n            <div class=\"jump\">\r\n              <Button\r\n                type=\"primary\"\r\n                @click=\"fullSreen\"\r\n                custom-icon=\"iconfont icon-tiaozhuanmianban\"\r\n                >{{ isFull ? \"退出全屏\" : \"全屏\" }}</Button\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right-screen\">\r\n          <GraphViewer\r\n            ref=\"graphViewer\"\r\n            :module-id=\"moduleId\"\r\n            @initViewer=\"initViewer()\"\r\n            v-if=\"screen === '1'\"\r\n          ></GraphViewer>\r\n          <iframe\r\n            style=\"width:100%;height:100%\"\r\n            src=\"http://www.baidu.com\"\r\n            frameborder=\"0\"\r\n            v-if=\"screen !== '1'\"\r\n          ></iframe>\r\n        </div>\r\n      </div>\r\n      <div class=\"right-device-group\" style=\"overflow-y:scroll;\">\r\n        <div\r\n          class=\"device-item\"\r\n          v-for=\"item in singleList\"\r\n          :key=\"item.id\"\r\n          @click=\"navToSingle(item)\"\r\n        >\r\n          <div\r\n            class=\"device-item-icon\"\r\n            :style=\"{\r\n              backgroundImage: item.deviceStatus === 'NORMAL'? `url(./static/img/device-group-2.png)`:`url(./static/img/device-group-1.png)`\r\n            }\"\r\n          >\r\n            <div>{{ item.id }}</div>\r\n          </div>\r\n          <div class=\"device-item-content\">\r\n            <div class=\"name\">{{ item.unitName }}</div>\r\n            <div class=\"status\">\r\n              设备状态: <span :style=\"getColors(item.deviceStatus === 'NORMAL'?2:(item.deviceStatus === 'SHUTDOWN'?1:3))\">{{item.deviceStatus === 'NORMAL'?'正常':(item.deviceStatus === 'SHUTDOWN'?'停机':'故障')}}</span>\r\n            </div>\r\n            <!-- <div class=\"twinStatus\">\r\n              孪生指标状态: <span :style=\"getColors(item.twinIndexStatus === 'NORMAL'?2:3)\">{{item.twinIndexStatus === 'NORMAL'?'正常':'非正常'}}</span>\r\n            </div> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right-target\">\r\n        <div class=\"right-target-item right-target-financial\">\r\n          <div class=\"label\">经济指标</div>\r\n          <div class=\"content\">\r\n            <div\r\n              class=\"content-item\"\r\n              v-for=\"item in financialList\"\r\n              :key=\"item.id\"\r\n            >\r\n              <div>{{ item.name }}</div>\r\n              <div>\r\n                <span class=\"num\">{{ item.num }}</span>\r\n                <span class=\"symbol\">/{{ item.symbol }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right-target-item right-target-performence\">\r\n          <div class=\"label\">性能指标</div>\r\n          <div class=\"content\">\r\n            <div\r\n              class=\"content-item\"\r\n              v-for=\"item in performenceList\"\r\n              :key=\"item.id\"\r\n            >\r\n              <div class=\"icon\" :style=\"{ backgroundColor: item.bg }\">\r\n                <span\r\n                  :class=\"['iconfont', item.icon]\"\r\n                  :style=\"{ color: item.color }\"\r\n                ></span>\r\n              </div>\r\n              <div class=\"data\">\r\n                <div>{{ item.name }}</div>\r\n                <div>\r\n                  <span class=\"num\">{{ item.num }}</span>\r\n                  <span class=\"symbol\">/%</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"right-target-item right-target-reliable\">\r\n          <div class=\"label\">可靠性指标</div>\r\n          <div class=\"content\">\r\n            <div\r\n              class=\"content-item\"\r\n              v-for=\"item in reliableList\"\r\n              :key=\"item.id\"\r\n            >\r\n              <div class=\"icon\" :style=\"{ backgroundColor: item.bg }\">\r\n                <span\r\n                  :class=\"['iconfont', item.icon]\"\r\n                  :style=\"{ color: item.color }\"\r\n                ></span>\r\n              </div>\r\n              <div class=\"data\">\r\n                <div>{{ item.name }}</div>\r\n                <div>\r\n                  <span class=\"num\">{{ item.num }}</span>\r\n                  <span class=\"symbol\">{{ item.symbol }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Select } from 'iview'\r\nimport GraphViewer from '@/components/graph-viewer'\r\nimport { getToken } from '@/libs/util'\r\nimport {\r\n  getlistDeviceGroup,\r\n  getChartSingle,\r\n  getChartType,\r\n  changeChartType,\r\n  getDeviceInfo,\r\n  getWarningInfo\r\n} from '@/api/device'\r\nexport default {\r\n  name: 'single-device',\r\n  components: {\r\n    Select,\r\n    GraphViewer\r\n  },\r\n  data () {\r\n    return {\r\n      disabled: true,\r\n      token: getToken(),\r\n      // configurationUrl: 'http://10.88.36.243/mxgraph/#/home',\r\n      // configurationUrl: 'http://localhost:8082/#/home',\r\n      deviceGroupList: [],\r\n      form: {\r\n        place: '1',\r\n        name: ''\r\n      },\r\n      placeOptions: [\r\n        {\r\n          id: '1',\r\n          name: '潍坊'\r\n        }\r\n      ],\r\n      moduleId: '',\r\n      freshTime: [\r\n        { id: '1', value: '5s' },\r\n        { id: '2', value: '10s' },\r\n        { id: '3', value: '60s' }\r\n      ],\r\n      time: '5s',\r\n      screenOptions: [\r\n        {\r\n          id: '1',\r\n          name: 'PI&D状态刷写'\r\n        },\r\n        {\r\n          id: '2',\r\n          name: '用户用能监测图'\r\n        },\r\n        {\r\n          id: '3',\r\n          name: '并网监测图'\r\n        },\r\n        {\r\n          id: '4',\r\n          name: '机组功能监测图'\r\n        }\r\n      ],\r\n      isFull: false,\r\n      deviceTableColumns: [\r\n        {\r\n          title: '负责人',\r\n          key: 'device',\r\n          align: 'left',\r\n          ellipsis: true,\r\n          tooltip: true\r\n        },\r\n        // {\r\n        //   title: '子系统型号',\r\n        //   key: 'subDevice',\r\n        //   align: 'left',\r\n        //   ellipsis: true,\r\n        //   tooltip: true,\r\n        // },\r\n        {\r\n          title: '联系方式',\r\n          key: 'content',\r\n          align: 'left',\r\n          ellipsis: true,\r\n          tooltip: true\r\n        }\r\n      ],\r\n      dangerTableColumns: [\r\n        {\r\n          title: '设备名称',\r\n          key: 'deviceName',\r\n          align: 'left'\r\n        },\r\n        {\r\n          title: '告警信息',\r\n          key: 'errorDesc',\r\n          align: 'left',\r\n          ellipsis: true,\r\n          tooltip: true\r\n        },\r\n        {\r\n          title: '告警时间',\r\n          key: 'alertTime',\r\n          align: 'left',\r\n          ellipsis: true,\r\n          tooltip: true\r\n        }\r\n      ],\r\n      deviceTableData: [\r\n        {\r\n          device: '张三',\r\n          subDevice: '111-222',\r\n          content: '12345667885'\r\n        },\r\n        {\r\n          device: '李四',\r\n          subDevice: '111-222',\r\n          content: '12345667885'\r\n        },\r\n        {\r\n          device: '王五',\r\n          subDevice: '111-222',\r\n          content: '12345667885'\r\n        },\r\n        {\r\n          device: '赵六',\r\n          subDevice: '111-222',\r\n          content: '12345667885'\r\n        },\r\n        {\r\n          device: '番七',\r\n          subDevice: '111-222',\r\n          content: '12345667885'\r\n        }\r\n      ],\r\n      dangerTableData: [],\r\n      screen: '1',\r\n      loading: {\r\n        deviceTable: false,\r\n        dangerTable: false\r\n      },\r\n      deviceCurrentIndex: 0,\r\n      dangerCurrentIndex: 0,\r\n      financialList: [\r\n        {\r\n          id: 1,\r\n          name: '累计总发电',\r\n          type: 'POWER_TOTAL',\r\n          num: '130',\r\n          symbol: 'kWh'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '当日总发电',\r\n          type: 'POWER_DAILY',\r\n          num: '130',\r\n          symbol: 'kWh'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '累计上网电',\r\n          type: 'ONLINE_POWER_TOTAL',\r\n          num: '130',\r\n          symbol: 'kWh'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: '碳减排',\r\n          type: 'CARBON_REDUCE_TOTAL',\r\n          num: '130',\r\n          symbol: 't'\r\n        },\r\n        {\r\n          id: 5,\r\n          name: '累计水耗',\r\n          type: 'WATER_CONSUMPTION_TOTAL',\r\n          num: '130',\r\n          symbol: 'kg'\r\n        },\r\n        {\r\n          id: 6,\r\n          name: '累计气耗',\r\n          type: 'GAS_CONSUMPTION_TOTAL',\r\n          num: '130',\r\n          symbol: 'm³'\r\n        }\r\n      ],\r\n      performenceList: [\r\n        {\r\n          id: 1,\r\n          name: '历史最高效率',\r\n          num: '96',\r\n          icon: 'icon-zuigao',\r\n          bg: 'rgb(23, 80, 236, .2)',\r\n          type: 'HISTORY_MAX_POWER_EFFICIENCY',\r\n          color: '#1750EC'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '历史最大效率',\r\n          num: '96',\r\n          icon: 'icon-zuida',\r\n          bg: 'rgba(0, 132, 255, .2)',\r\n          type: 'HISTORY_MAX_POWER_EFFICIENCY',\r\n          color: '#0084FF'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '历史平均效率',\r\n          num: '96',\r\n          icon: 'icon-pingjun',\r\n          bg: 'rgba(36, 204, 53, .2)',\r\n          type: 'HISTORY_MAX_AVG_POWER_EFFICIENCY',\r\n          color: '#24CC35'\r\n        }\r\n      ],\r\n      reliableList: [\r\n        {\r\n          id: 1,\r\n          name: '发电时长',\r\n          num: '96',\r\n          symbol: '/h',\r\n          icon: 'icon-a-guzhang2',\r\n          bg: 'rgba(241, 33, 33, .2)',\r\n          type: 'RUNTIME_TOTAL',\r\n          color: '#F12121'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '平均故障次数',\r\n          num: '96',\r\n          symbol: '/次',\r\n          icon: 'icon-a-lianhe62',\r\n          bg: 'rgba(250, 197, 22, .2)',\r\n          type: 'DOWN_NUM_AVG_DAILY',\r\n          color: '#FAC516'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '累计故障次数',\r\n          num: '96',\r\n          symbol: '/次',\r\n          icon: 'icon-shichang',\r\n          bg: 'rgba(255, 118, 0, .2)',\r\n          type: 'FAIL_NUM_TOTAL',\r\n          color: '#FF7600'\r\n        }\r\n      ],\r\n      deviceList: [\r\n        {\r\n          id: 1,\r\n          name: '1号单机',\r\n          status: '1',\r\n          twinStatus: '1',\r\n          img: './static/img/device-group-1.png'\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '2号单机',\r\n          status: '2',\r\n          twinStatus: '4',\r\n          img: './static/img/device-group-2.png'\r\n        },\r\n        {\r\n          id: 3,\r\n          name: '3号单机',\r\n          status: '3',\r\n          twinStatus: '4',\r\n          img: './static/img/device-group-2.png'\r\n        },\r\n        {\r\n          id: 4,\r\n          name: '4号单机',\r\n          status: '1',\r\n          twinStatus: '1',\r\n          img: './static/img/device-group-1.png'\r\n        },\r\n        {\r\n          id: 5,\r\n          name: '4号单机',\r\n          status: '1',\r\n          twinStatus: '1',\r\n          img: './static/img/device-group-1.png'\r\n        }\r\n      ],\r\n      singleList: [],\r\n      chartId: 'POWER_GENERATION_AMOUNT',\r\n      chartOptions: [\r\n        {\r\n          id: 'POWER_GENERATION_AMOUNT',\r\n          name: '发电量'\r\n        },\r\n        {\r\n          id: 'CARBON_EMISSIONS',\r\n          name: '碳减排'\r\n        },\r\n        {\r\n          id: 'WATER_CONSUMPTION',\r\n          name: '水耗'\r\n        },\r\n        {\r\n          id: 'GAS_CONSUMPTION',\r\n          name: '气耗'\r\n        },\r\n        {\r\n          id: 'POWER_GENERATION_EFFICIENCY',\r\n          name: '发电效率'\r\n        },\r\n        {\r\n          id: 'POWER_GENERATION',\r\n          name: '发电功率'\r\n        },\r\n        {\r\n          id: 'RUN_TIME',\r\n          name: '运行时长'\r\n        },\r\n        {\r\n          id: 'FAIL_NUM',\r\n          name: '故障次数'\r\n        },\r\n        {\r\n          id: 'TROUBLE_FREE_OPERATION_TIME',\r\n          name: '无故障运行时长'\r\n        },\r\n        {\r\n          id: 'DOWN_TIME',\r\n          name: '停机次数'\r\n        }\r\n      ],\r\n      showTitle: true,\r\n      deviceId: 0,\r\n      timer: null\r\n    }\r\n  },\r\n  computed: {\r\n    orgCode () {\r\n      const id = `?moduleId=${this.form.name}`\r\n      const token = `&token=${this.token}`\r\n      return this.configurationUrl + id + token\r\n    },\r\n    configurationUrl () {\r\n      let baseUrl = window.location.href.split('device')[0]\r\n      let extra = 'mxgraph/#/home'\r\n      return baseUrl + extra\r\n    }\r\n  },\r\n  destroyed () {\r\n    localStorage.removeItem('freshTime')\r\n    clearInterval(this.timer)\r\n  },\r\n  mounted () {\r\n    this.deviceId = this.$route.params.id ? this.$route.params.id : 999\r\n    this.form.name = this.deviceId.toString()\r\n    this.getDeviceGroup()\r\n    let time = localStorage.getItem('freshTime') ? Number(localStorage.getItem('freshTime')) * 1000 : 5000\r\n    this.timer = setInterval(() => {\r\n      this.getDeviceGroup()\r\n    }, time)\r\n    this.getChartType()\r\n    this.getDeviceInfo()\r\n  },\r\n  methods: {\r\n    getDeviceInfo () {\r\n      getDeviceInfo({ id: this.deviceId }).then(res => {\r\n        if (res.code === 200) {\r\n          let info = res.data\r\n          for (let item of this.financialList) {\r\n            item.num = info.economyIndex[item.type]\r\n          }\r\n          for (let item of this.performenceList) {\r\n            item.num = info.performanceIndex[item.type]\r\n          }\r\n          for (let item of this.reliableList) {\r\n            item.num = info.reliabilityIndex[item.type]\r\n          }\r\n        }\r\n      })\r\n      this.loading.dangerTable = true\r\n      getWarningInfo({\r\n        deviceId: this.deviceId,\r\n        pageNumber: 1,\r\n        pageSize: 10\r\n      }).then(res => {\r\n        if (res.code === 200) {\r\n          this.dangerTableData = res.data.result\r\n          this.loading.dangerTable = false\r\n        }\r\n      })\r\n    },\r\n    getChartType () {\r\n      getChartType({ id: this.deviceId }).then(res => {\r\n        if (res.code === 200) {\r\n          if (res.data.sceneType) {\r\n            this.chartId = res.data.sceneType\r\n          } else {\r\n            this.chartId = 'POWER_GENERATION_AMOUNT'\r\n          }\r\n          this.getChartData()\r\n        }\r\n      })\r\n    },\r\n    changeChart (e) {\r\n      changeChartType({ deviceId: this.deviceId, sceneType: e }).then(res => {\r\n        if (res.code === 200) {\r\n          console.log('保存成功')\r\n        }\r\n      })\r\n      this.chartId = e\r\n      this.getChartData()\r\n    },\r\n    changeGroup (e) {\r\n      for (let item of this.deviceGroupList) {\r\n        if (Number(this.form.name) === Number(item.deviceId)) {\r\n          this.deviceId = item.deviceId.toString()\r\n          this.getDeviceInfo()\r\n        }\r\n      }\r\n      this.moduleId = this.form.name.toString()\r\n      for (let item of this.deviceGroupList) {\r\n        if (Number(item.deviceId) === Number(this.form.name)) {\r\n          this.singleList = item.child || []\r\n        }\r\n      }\r\n      this.getChartType()\r\n    },\r\n    freshTimeChange (e) {\r\n      localStorage.setItem('freshTime', e.slice(0, -1))\r\n      let time = localStorage.getItem('freshTime') ? Number(localStorage.getItem('freshTime')) * 1000 : 5000\r\n      clearInterval(this.timer)\r\n      this.timer = setInterval(() => {\r\n        this.getDeviceGroup()\r\n      }, time)\r\n    },\r\n    getName (id) {\r\n      for (let item of this.chartOptions) {\r\n        if (id === item.id) {\r\n          return item.name\r\n        }\r\n      }\r\n    },\r\n    ChangeShow (type) {\r\n      if (type === 1) {\r\n        this.showTitle = false\r\n      } else {\r\n        setTimeout(() => {\r\n          this.showTitle = true\r\n        }, 2000)\r\n      }\r\n    },\r\n    getDeviceGroup () {\r\n      getlistDeviceGroup().then(res => {\r\n        let { code, data } = res\r\n        if (code === 200) {\r\n          this.deviceGroupList = data.map(i => {\r\n            return {\r\n              name: i.deviceName,\r\n              id: i.mxgraphId,\r\n              deviceId: i.deviceId,\r\n              child: i.child\r\n            }\r\n          })\r\n          for (let i in this.deviceGroupList) {\r\n            let item = this.deviceGroupList[i]\r\n            if (Number(item.deviceId) === Number(this.deviceId)) {\r\n              this.form.name = this.deviceGroupList[i].deviceId\r\n              this.deviceId = this.deviceGroupList[i].deviceId\r\n              this.moduleId = this.deviceGroupList[i].id.toString()\r\n              this.singleList = this.deviceGroupList[i].child\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    navToSingle (item) {\r\n      let parentId = Number(this.form.name)\r\n      let deviceId = item.deviceId\r\n      this.$router.push({\r\n        path: '/single-device',\r\n        query: {\r\n          parentId,\r\n          deviceId\r\n        }\r\n      })\r\n    },\r\n    navToEdit () {\r\n      const id = `?moduleId=${this.moduleId}`\r\n      const token = `&token=${this.token}`\r\n      let deviceId = `&deviceId=`\r\n      for (let item of this.deviceGroupList) {\r\n        if (item.deviceId === this.form.name) {\r\n          deviceId = deviceId + item.deviceId\r\n        }\r\n      }\r\n      window.open(this.configurationUrl + id + token + deviceId, '_blank')\r\n    },\r\n    getChartData () {\r\n      let { deviceId, chartId: businessType } = this\r\n      getChartSingle({ deviceId, businessType }).then(res => {\r\n        if (res.code === 200) {\r\n          let data = res.data.indexs[0]\r\n          let xData = data.value.map(i => {\r\n            return i.x\r\n          })\r\n          let legend = data.legend.map(i => {\r\n            return i.name\r\n          })\r\n          let yDatas = []\r\n          for (let item of data.legend) {\r\n            let array = []\r\n            for (let datas of data.value) {\r\n              array.push(datas[item.key])\r\n            }\r\n            yDatas.push(array)\r\n          }\r\n          let series = []\r\n          for (let idx = 0; idx <= yDatas.length - 1; idx++) {\r\n            let colors = this.getColors(idx)\r\n            series.push({\r\n              name: legend[idx],\r\n              data: yDatas[idx],\r\n              type: 'line',\r\n              smooth: true,\r\n              itemStyle: {\r\n                color: colors.color\r\n              },\r\n              lineStyle: {\r\n                color: colors.color,\r\n                shadowBlur: 6,\r\n                shadowColor: colors.shadowColor,\r\n                shadowOffsetY: 3\r\n              },\r\n              emphasis: {\r\n                label: {\r\n                  show: true,\r\n                  position: 'outside'\r\n                }\r\n              }\r\n            })\r\n          }\r\n          let info = { series, xData, legend }\r\n          this.initChart(info)\r\n        } else {\r\n          let info = { series: [], xData: [], legend: [] }\r\n          this.initChart(info)\r\n        }\r\n      })\r\n    },\r\n    getColors (index) {\r\n      switch (index) {\r\n        case 0:\r\n          return { color: '#1CC96C', shadowColor: 'rgba(255, 255, 255, 0.6)' }\r\n        case 1:\r\n          return { color: '#FFCE08', shadowColor: 'rgba(184, 193, 29, 1)' }\r\n        case 2:\r\n          return { color: '#0084FF', shadowColor: 'rgba(0, 0, 0, 0.16)' }\r\n        case 3:\r\n          return { color: 'red', shadowColor: 'rgba(0, 0, 0, 0.66)' }\r\n      }\r\n    },\r\n    initChart (info) {\r\n      console.log('初始化')\r\n      let chart = document.getElementById('chart')\r\n      this.$echarts.dispose(chart)\r\n      let line = this.$echarts.init(chart)\r\n      line.setOption({\r\n        xAxis: {\r\n          type: 'category',\r\n          data: info.xData,\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: 'rgba(255, 255, 255, 0.6)'\r\n            }\r\n          },\r\n          axisLabel: {\r\n            color: 'rgba(255, 255, 255, 0.6)'\r\n          },\r\n          axisTick: {\r\n            show: false\r\n          }\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          scale: true,\r\n          splitNumber: 5,\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: 'rgba(255, 255, 255, 0.6)'\r\n            }\r\n          },\r\n          axisLabel: {\r\n            color: 'rgba(255, 255, 255, 0.6)'\r\n          },\r\n          axisTick: {\r\n            show: false\r\n          },\r\n          splitLine: {\r\n            lineStyle: {\r\n              type: 'dashed',\r\n              color: 'rgba(255, 255, 255, 0.6)'\r\n            }\r\n          }\r\n        },\r\n        grid: {\r\n          bottom: 20,\r\n          left: 60,\r\n          right: 0\r\n        },\r\n        tooltip: {\r\n          show: true,\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: info.legend,\r\n          icon: 'circle',\r\n          itemWidth: 7,\r\n          itemHeight: 7,\r\n          right: 0,\r\n          textStyle: {\r\n            color: '#cccc'\r\n          }\r\n        },\r\n        series: info.series\r\n      })\r\n    },\r\n    jump () {},\r\n    screenChange (e) {\r\n      console.log('-----------', e)\r\n    },\r\n    fullSreen () {\r\n      this.isFull = !this.isFull\r\n      this.initViewer()\r\n    },\r\n    initViewer () {\r\n      this.$refs.graphViewer.reset()\r\n    },\r\n    handleClick (row) {\r\n      console.log(row)\r\n    },\r\n    getColor (type) {\r\n      let color\r\n      switch (type) {\r\n        case '1':\r\n          color = '#0084FF'\r\n          break\r\n        case '2':\r\n          color = '#FDC018'\r\n          break\r\n        case '3':\r\n          color = '#F12121'\r\n          break\r\n        case '4':\r\n          color = '#FF7600'\r\n          break\r\n      }\r\n      return color\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.device-item-icon {\r\n  background-size: cover;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  div {\r\n    margin-top: 18%;\r\n  }\r\n}\r\n.single-device {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  .border {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.08);\r\n  }\r\n  .left {\r\n    width: 465px;\r\n    padding: 0 24px;\r\n    // background-color: #fff;\r\n    background-color: #262c3a;\r\n    border-right: 1px solid rgba(0, 0, 0, 0.08);\r\n    overflow: scroll;\r\n    &-head {\r\n      margin-top: 24px;\r\n      padding-bottom: 12px;\r\n      font-size: 16px;\r\n    }\r\n    &-device {\r\n      padding: 24px 0;\r\n      .form {\r\n        width: 100%;\r\n        display: flex;\r\n        align-items: flex-end;\r\n        margin-bottom: 12px;\r\n        &-item-select {\r\n          width: 160px;\r\n          margin-right: 12px;\r\n          font-size: 14px;\r\n          // color: #000000;\r\n          color: #fff;\r\n          .label {\r\n            margin-bottom: 12px;\r\n          }\r\n          .select {\r\n            height: 28px;\r\n          }\r\n        }\r\n        &-item-button {\r\n          flex: 1;\r\n          margin-left: 12px;\r\n          /deep/ .ivu-btn {\r\n            width: 60px;\r\n            height: 28px;\r\n            background-color: #0084ff;\r\n            color: #fff;\r\n            border: none;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    &-enivronment,\r\n    &-danger {\r\n      padding: 24px 0;\r\n      font-size: 14px;\r\n      // color: #000000;\r\n      color: #fff;\r\n    }\r\n    &-enivronment {\r\n      .chart {\r\n        margin-top: 12px;\r\n      }\r\n    }\r\n    &-danger {\r\n      .title {\r\n        color: #fff;\r\n        margin-bottom: 12px;\r\n      }\r\n    }\r\n  }\r\n  .right {\r\n    width: 1199px;\r\n    height: 100%;\r\n    padding: 0 23px;\r\n    overflow: auto;\r\n    &-monitor {\r\n      .right-head {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        margin-top: 24px;\r\n        // color: #000000;\r\n        color: #fff;\r\n        font-size: 16px;\r\n        &-right {\r\n          display: flex;\r\n          align-items: center;\r\n          .select,\r\n          .jump {\r\n            margin-right: 12px;\r\n          }\r\n          .select {\r\n            width: 160px;\r\n            height: 28px;\r\n            font-size: 14px;\r\n          }\r\n          .jump,\r\n          .full-screen {\r\n            .ivu-btn {\r\n              width: 80px;\r\n              height: 28px;\r\n            }\r\n          }\r\n          .jump {\r\n            .ivu-btn {\r\n              background-color: #0084ff;\r\n              border: none;\r\n              color: #fff;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .right-screen {\r\n        height: 500px;\r\n        margin: 12px 0;\r\n        background-color: #f0f3f8;\r\n        .configuration {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n      &.active {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        padding: 0 24px;\r\n        // background-color: #fff;\r\n        background-color: #262c3a;\r\n        z-index: 999;\r\n        .right-head {\r\n          .ivu-btn {\r\n            padding: 0 50px;\r\n          }\r\n        }\r\n        .right-screen {\r\n          width: 100%;\r\n          height: calc(100% - 10px);\r\n        }\r\n      }\r\n    }\r\n    &-device-group {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 12px;\r\n      flex-wrap: wrap;\r\n      height: 115px;\r\n      .device-item {\r\n        // flex: 1;\r\n        width: 275px;\r\n        display: flex;\r\n        align-items: center;\r\n        height: 115px;\r\n        margin-right: 12px;\r\n        margin-bottom: 5px;\r\n        // background-color: #f0f3f8;\r\n        background-color: rgba(0, 0, 0, 0.8);\r\n        cursor: pointer;\r\n        &:nth-child(4n) {\r\n          margin-right: 0;\r\n        }\r\n        &:last-child {\r\n          margin-right: 0;\r\n        }\r\n        &-icon {\r\n          width: 60px;\r\n          height: 46px;\r\n          margin: 0 12px 0 24px;\r\n          padding-left: 4px;\r\n          font-size: 14px;\r\n          color: #fff;\r\n          line-height: 50px;\r\n          text-align: center;\r\n        }\r\n        &-content {\r\n          font-size: 14px;\r\n          // color: rgba(0, 0, 0, 0.6);\r\n          color: rgba(255, 255, 255, 0.8);\r\n          .name {\r\n            // color: rgba(0, 0, 0, 0.8);\r\n            color: rgba(255, 255, 255, 1);\r\n            font-size: 16px;\r\n          }\r\n          .status {\r\n            margin: 12px 0;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    &-target {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 11px;\r\n      &-item {\r\n        flex: 1;\r\n        margin-right: 12px;\r\n        .label {\r\n          font-size: 14px;\r\n          // color: #000000;\r\n          color: #fff;\r\n          margin-bottom: 12px;\r\n        }\r\n        .content {\r\n          display: grid;\r\n          gap: 8px;\r\n          height: 180px;\r\n          padding: 12px;\r\n          border-radius: 8px;\r\n          // background-color: #f0f3f8;\r\n          background-color: #000;\r\n          &-item {\r\n            display: flex;\r\n            border-radius: 8px;\r\n            // background-color: #fff;\r\n            background-color: #262c3a;\r\n            font-size: 14px;\r\n            text-align: center;\r\n            color: rgba(255, 255, 255, 0.6);\r\n            box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.04);\r\n            .num {\r\n              // color: #000000;\r\n              // font-weight: 700;\r\n              color: #fff;\r\n              font-size: 18px;\r\n            }\r\n            .symbol {\r\n              font-size: 12px;\r\n            }\r\n          }\r\n        }\r\n        &:last-child {\r\n          margin-right: 0;\r\n        }\r\n      }\r\n      &-financial {\r\n        .content {\r\n          grid-template-columns: repeat(3, 1fr);\r\n          grid-template-rows: repeat(2, 1fr);\r\n          &-item {\r\n            flex-direction: column;\r\n            justify-content: center;\r\n            align-items: center;\r\n          }\r\n        }\r\n      }\r\n      &-performence,\r\n      &-reliable {\r\n        .content {\r\n          grid-template-columns: repeat(2, 1fr);\r\n          grid-template-rows: repeat(2, 1fr);\r\n          &-item {\r\n            align-items: center;\r\n            .icon {\r\n              width: 40px;\r\n              height: 40px;\r\n              margin: 0 12px 0 10px;\r\n              border-radius: 12px;\r\n              line-height: 40px;\r\n              text-align: center;\r\n              .iconfont {\r\n                font-size: 24px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n* {\r\n  -webkit-touch-callout: none; /*系统默认菜单被禁用*/\r\n  -webkit-user-select: none; /*webkit浏览器*/\r\n  -khtml-user-select: none; /*早期浏览器*/\r\n  -moz-user-select: none; /*火狐*/\r\n  -ms-user-select: none; /*IE10*/\r\n  user-select: none;\r\n}\r\ninput {\r\n  -webkit-user-select: auto; /*webkit浏览器*/\r\n}\r\ntextarea {\r\n  -webkit-user-select: auto; /*webkit浏览器*/\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/realtime-monitor/components/single-device-group/components/single-device.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"single-device\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"left-head border\"},[_vm._v(\"整机组介绍\")]),_vm._v(\" \"),_c('div',{staticClass:\"left-device border\"},[_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"form-item form-item-select\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"机组地点\")]),_vm._v(\" \"),_c('div',{staticClass:\"select\"},[_c('Select',{model:{value:(_vm.form.place),callback:function ($$v) {_vm.$set(_vm.form, \"place\", $$v)},expression:\"form.place\"}},_vm._l((_vm.placeOptions),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n              \")])}),1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"form-item form-item-select\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"机组名称\")]),_vm._v(\" \"),_c('div',{staticClass:\"select\"},[_c('Select',{on:{\"on-change\":_vm.changeGroup},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}},_vm._l((_vm.deviceGroupList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.deviceId}},[_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n              \")])}),1)],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"left-enivronment border\"},[(_vm.showTitle)?_c('div',{staticClass:\"title\",on:{\"mouseenter\":function($event){_vm.ChangeShow(1)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.getName(_vm.chartId))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(!_vm.showTitle)?_c('div',{staticClass:\"title\",on:{\"mouseleave\":function($event){_vm.ChangeShow(2)}}},[_c('Select',{on:{\"on-change\":_vm.changeChart},model:{value:(_vm.chartId),callback:function ($$v) {_vm.chartId=$$v},expression:\"chartId\"}},_vm._l((_vm.chartOptions),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(\"\\n            \"+_vm._s(item.name)+\"\\n          \")])}),1)],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"chart\",staticStyle:{\"width\":\"100%\",\"height\":\"200px\"},attrs:{\"id\":\"chart\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"left-danger\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"故障告警\")]),_vm._v(\" \"),_c('div',{staticClass:\"left-dangertable\"},[_c('Table',{staticClass:\"m-table no-scroll no-border\",attrs:{\"stripe\":\"\",\"loading\":_vm.loading.dangerTable,\"columns\":_vm.dangerTableColumns,\"highlight-row\":\"\",\"height\":\"400%\",\"data\":_vm.dangerTableData}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{class:['right-monitor', _vm.isFull ? 'active' : '']},[_c('div',{staticClass:\"right-head\"},[_c('div',{staticClass:\"right-head-left\"},[_vm._v(\"实时监测\")]),_vm._v(\" \"),_c('div',{staticClass:\"right-head-right\"},[_c('div',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(\"刷新频率\")]),_vm._v(\" \"),_c('div',{staticClass:\"select\",staticStyle:{\"width\":\"100px\"}},[_c('Select',{on:{\"on-change\":_vm.freshTimeChange},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}},_vm._l((_vm.freshTime),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.value}},[_vm._v(\"\\n                \"+_vm._s(item.value)+\"\\n              \")])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"select\"},[_c('Select',{on:{\"on-change\":_vm.screenChange},model:{value:(_vm.screen),callback:function ($$v) {_vm.screen=$$v},expression:\"screen\"}},_vm._l((_vm.screenOptions),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n              \")])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"jump\"},[_c('Button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){_vm.navToEdit()}}},[_vm._v(\"测点配置\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"jump\"},[_c('Button',{attrs:{\"type\":\"primary\",\"custom-icon\":\"iconfont icon-tiaozhuanmianban\"},on:{\"click\":_vm.fullSreen}},[_vm._v(_vm._s(_vm.isFull ? \"退出全屏\" : \"全屏\"))])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"right-screen\"},[(_vm.screen === '1')?_c('GraphViewer',{ref:\"graphViewer\",attrs:{\"module-id\":_vm.moduleId},on:{\"initViewer\":function($event){_vm.initViewer()}}}):_vm._e(),_vm._v(\" \"),(_vm.screen !== '1')?_c('iframe',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":\"http://www.baidu.com\",\"frameborder\":\"0\"}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"right-device-group\",staticStyle:{\"overflow-y\":\"scroll\"}},_vm._l((_vm.singleList),function(item){return _c('div',{key:item.id,staticClass:\"device-item\",on:{\"click\":function($event){_vm.navToSingle(item)}}},[_c('div',{staticClass:\"device-item-icon\",style:({\n            backgroundImage: item.deviceStatus === 'NORMAL'? \"url(./static/img/device-group-2.png)\":\"url(./static/img/device-group-1.png)\"\n          })},[_c('div',[_vm._v(_vm._s(item.id))])]),_vm._v(\" \"),_c('div',{staticClass:\"device-item-content\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.unitName))]),_vm._v(\" \"),_c('div',{staticClass:\"status\"},[_vm._v(\"\\n            设备状态: \"),_c('span',{style:(_vm.getColors(item.deviceStatus === 'NORMAL'?2:(item.deviceStatus === 'SHUTDOWN'?1:3)))},[_vm._v(_vm._s(item.deviceStatus === 'NORMAL'?'正常':(item.deviceStatus === 'SHUTDOWN'?'停机':'故障')))])])])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"right-target\"},[_c('div',{staticClass:\"right-target-item right-target-financial\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"经济指标\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},_vm._l((_vm.financialList),function(item){return _c('div',{key:item.id,staticClass:\"content-item\"},[_c('div',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.num))]),_vm._v(\" \"),_c('span',{staticClass:\"symbol\"},[_vm._v(\"/\"+_vm._s(item.symbol))])])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"right-target-item right-target-performence\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"性能指标\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},_vm._l((_vm.performenceList),function(item){return _c('div',{key:item.id,staticClass:\"content-item\"},[_c('div',{staticClass:\"icon\",style:({ backgroundColor: item.bg })},[_c('span',{class:['iconfont', item.icon],style:({ color: item.color })})]),_vm._v(\" \"),_c('div',{staticClass:\"data\"},[_c('div',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.num))]),_vm._v(\" \"),_c('span',{staticClass:\"symbol\"},[_vm._v(\"/%\")])])])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"right-target-item right-target-reliable\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"可靠性指标\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},_vm._l((_vm.reliableList),function(item){return _c('div',{key:item.id,staticClass:\"content-item\"},[_c('div',{staticClass:\"icon\",style:({ backgroundColor: item.bg })},[_c('span',{class:['iconfont', item.icon],style:({ color: item.color })})]),_vm._v(\" \"),_c('div',{staticClass:\"data\"},[_c('div',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.num))]),_vm._v(\" \"),_c('span',{staticClass:\"symbol\"},[_vm._v(_vm._s(item.symbol))])])])])}),0)])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1fdcab99\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/realtime-monitor/components/single-device-group/components/single-device.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1fdcab99\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./single-device.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./single-device.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./single-device.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1fdcab99\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./single-device.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1fdcab99\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/realtime-monitor/components/single-device-group/components/single-device.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"detail-target\">\r\n    <div class=\"common-flex\">\r\n    <Select v-model=\"deviceId\" @on-change=\"deviceChange\" style=\"width: fit-content\">\r\n      <Option v-for=\"item in deviceList\"\r\n              :key=\"item.deviceId\"\r\n              :value=\"item.deviceId\">\r\n        {{item.deviceName}}\r\n      </Option>\r\n    </Select>\r\n    <div class=\"btnGroup\">\r\n      <div :style=\"{backgroundColor: tab === 1 ?'#0084FF':'#000',color:(tab === 1 ?'#fff':'rgba(255,255,255,0.6)')}\" @click=\"changeTab(1)\">经济指标</div>\r\n      <div :style=\"{backgroundColor: tab === 2 ?'#0084FF':'#000',color:(tab === 2 ?'#fff':'rgba(255,255,255,0.6)')}\" @click=\"changeTab(2)\">性能指标</div>\r\n      <div :style=\"{backgroundColor: tab === 3 ?'#0084FF':'#000',color:(tab === 3 ?'#fff':'rgba(255,255,255,0.6)')}\" @click=\"changeTab(3)\">可靠性指标</div>\r\n    </div>\r\n    </div>\r\n    <div class=\"card-group\" >\r\n      <div class=\"card\"\r\n          v-for=\"(item, index) in chartList\"\r\n          :key=\"index\">\r\n        <div class=\"title\">{{item.title}}</div>\r\n        <div class=\"chart-container\">\r\n          <custom-chart :data=\"item.value\"\r\n                        v-bind=\"item\"\r\n                        :id=\"index\"\r\n                        :height=\"280\"\r\n                        ></custom-chart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport customChart from '@/components/common-chart/common-chart'\r\nimport { getAnalysis, getlistDeviceGroup } from '@/api/device'\r\nexport default {\r\n  name: 'detail-target',\r\n  components: {\r\n    customChart\r\n  },\r\n  data () {\r\n    return {\r\n      tab: 1,\r\n      chartList: [],\r\n      deviceId: 999,\r\n      deviceList: []\r\n    }\r\n  },\r\n  mounted () {\r\n    this.changeTab(1)\r\n    this.getDeviceGroup()\r\n  },\r\n  methods: {\r\n    getDeviceGroup () {\r\n      getlistDeviceGroup().then(res => {\r\n        if (res.code === 200) {\r\n          this.deviceList = res.data\r\n        } else {\r\n          this.$Message.warning(res.msg)\r\n        }\r\n      })\r\n    },\r\n    deviceChange (e) {\r\n      this.init()\r\n      this.getDatas(this.tab)\r\n    },\r\n    changeTab (index) {\r\n      this.tab = index\r\n      this.init()\r\n      setTimeout(() => {\r\n        this.changeData(index)\r\n      })\r\n    },\r\n    init () {\r\n      this.chartList = []\r\n    },\r\n    changeData (index) {\r\n      this.getDatas(index)\r\n    },\r\n    getDatas (index) {\r\n      let { deviceId } = this\r\n      let fieldType = this.getType(index)\r\n      getAnalysis({deviceId, fieldType}).then(res => {\r\n        if (res.code === 200) {\r\n          this.chartList = res.data.indexs.map(i => {\r\n            return {\r\n              title: i.title,\r\n              type: 'line',\r\n              xAxis: {\r\n                key: 'x'\r\n              },\r\n              yAxis: {\r\n                symbol: i.unit\r\n              },\r\n              legend: i.legend.map((l, idx) => {\r\n                return {\r\n                  ...l,\r\n                  color: this.getColor(idx)\r\n                }\r\n              }),\r\n              value: i.value\r\n            }\r\n          })\r\n        } else {\r\n          this.chartList = []\r\n          this.$Message.warning(res.msg)\r\n        }\r\n      })\r\n    },\r\n    getColor (index) {\r\n      switch (index) {\r\n        case 0:\r\n          return '#0084FF'\r\n        case 1:\r\n          return '#1CC96C'\r\n        case 2:\r\n          return '#b6a2de'\r\n        case 3:\r\n          return '#ffb980'\r\n      }\r\n    },\r\n    getType (index) {\r\n      switch (index) {\r\n        case 1:\r\n          return 'ECONOMY'\r\n        case 2:\r\n          return 'PERFORMANCE'\r\n        case 3:\r\n          return 'RELIABILITY'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.common-flex{\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.detail-target {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 24px;\r\n  overflow: hidden;\r\n  .card-group{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    overflow: auto;\r\n    .card {\r\n      width: 810px;\r\n      margin-right: 12px;\r\n      margin-bottom: 24px;\r\n      &:nth-child(4n) {\r\n        margin-right: 0;\r\n      }\r\n      .title {\r\n        margin-bottom: 12px;\r\n        // color: rgba(0, 0, 0, 0.8);\r\n        color: rgba(255, 255, 255, 0.8);\r\n        font-size: 14px;\r\n        font-family: Alibaba PuHuiTi;\r\n        font-weight: 400;\r\n      }\r\n      .chart-container {\r\n        width:810px;\r\n        height: 280px;\r\n        padding: 11px 14px;\r\n        background: #19181D;\r\n        border: 1px solid rgba(0, 0, 0, 0.050980392156862744);\r\n        border-radius: 8px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.btnGroup{\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 12px auto 24px;\r\n  justify-content: end;\r\n  border-radius: 4px;\r\n  margin-right: 16px;\r\n  div{\r\n    margin-right: 1px;\r\n    cursor: pointer;\r\n    padding: 6px 12px;\r\n    // border: 1px solid #000;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/realtime-monitor/components/single-device-group/components/detail-target.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-target\"},[_c('div',{staticClass:\"common-flex\"},[_c('Select',{staticStyle:{\"width\":\"fit-content\"},on:{\"on-change\":_vm.deviceChange},model:{value:(_vm.deviceId),callback:function ($$v) {_vm.deviceId=$$v},expression:\"deviceId\"}},_vm._l((_vm.deviceList),function(item){return _c('Option',{key:item.deviceId,attrs:{\"value\":item.deviceId}},[_vm._v(\"\\n      \"+_vm._s(item.deviceName)+\"\\n    \")])}),1),_vm._v(\" \"),_c('div',{staticClass:\"btnGroup\"},[_c('div',{style:({backgroundColor: _vm.tab === 1 ?'#0084FF':'#000',color:(_vm.tab === 1 ?'#fff':'rgba(255,255,255,0.6)')}),on:{\"click\":function($event){_vm.changeTab(1)}}},[_vm._v(\"经济指标\")]),_vm._v(\" \"),_c('div',{style:({backgroundColor: _vm.tab === 2 ?'#0084FF':'#000',color:(_vm.tab === 2 ?'#fff':'rgba(255,255,255,0.6)')}),on:{\"click\":function($event){_vm.changeTab(2)}}},[_vm._v(\"性能指标\")]),_vm._v(\" \"),_c('div',{style:({backgroundColor: _vm.tab === 3 ?'#0084FF':'#000',color:(_vm.tab === 3 ?'#fff':'rgba(255,255,255,0.6)')}),on:{\"click\":function($event){_vm.changeTab(3)}}},[_vm._v(\"可靠性指标\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"card-group\"},_vm._l((_vm.chartList),function(item,index){return _c('div',{key:index,staticClass:\"card\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"chart-container\"},[_c('custom-chart',_vm._b({attrs:{\"data\":item.value,\"id\":index,\"height\":280}},'custom-chart',item,false))],1)])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c9f5dad\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/realtime-monitor/components/single-device-group/components/detail-target.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c9f5dad\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detail-target.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail-target.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail-target.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c9f5dad\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail-target.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c9f5dad\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/realtime-monitor/components/single-device-group/components/detail-target.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"single-device-group\">\r\n    <tab :data=\"tabList\" @change=\"changeTab\" :current=\"tabIndex\"></tab>\r\n    <div class=\"content\">\r\n      <transition :enter-active-class=\"routerTransitionClass.enter\"\r\n                      :leave-active-class=\"routerTransitionClass.leave\">\r\n        <component :is=\"is\"></component>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport tab from '@/components/common-tab'\r\nimport singleDevice from './components/single-device.vue'\r\nimport detailTarget from './components/detail-target.vue'\r\nimport RouterTransition from '@/mixins/router-transition'\r\n\r\nexport default {\r\n  name: 'platform',\r\n  components: {\r\n    tab,\r\n    singleDevice,\r\n    detailTarget\r\n  },\r\n  mixins: [RouterTransition],\r\n  data () {\r\n    return {\r\n      tabList: [\r\n        {\r\n          id: 1,\r\n          name: '整机组概况',\r\n          com: singleDevice\r\n        },\r\n        {\r\n          id: 2,\r\n          name: '统计指标',\r\n          com: detailTarget\r\n        }\r\n      ],\r\n      tabIndex: 0,\r\n      is: null\r\n    }\r\n  },\r\n  created () {\r\n    this.is = this.tabList[this.tabIndex].com\r\n  },\r\n  methods: {\r\n    changeTab (index) {\r\n      console.log(index)\r\n      this.tabIndex = index\r\n      this.is = this.tabList[index].com\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '../../../../style/varient';\r\n@size-padding: 10px;\r\n.single-device-group{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  .content{\r\n    width: 100%;\r\n    height: calc(~\"100% - \" 40px);\r\n    // background-color: #fff;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/realtime-monitor/components/single-device-group/single-device-group.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"single-device-group\"},[_c('tab',{attrs:{\"data\":_vm.tabList,\"current\":_vm.tabIndex},on:{\"change\":_vm.changeTab}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('transition',{attrs:{\"enter-active-class\":_vm.routerTransitionClass.enter,\"leave-active-class\":_vm.routerTransitionClass.leave}},[_c(_vm.is,{tag:\"component\"})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3397e873\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/realtime-monitor/components/single-device-group/single-device-group.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3397e873\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./single-device-group.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./single-device-group.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./single-device-group.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3397e873\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./single-device-group.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3397e873\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/realtime-monitor/components/single-device-group/single-device-group.vue\n// module id = null\n// module chunks = ","import Main from './single-device-group.vue'\r\n\r\nexport default Main\n\n\n// WEBPACK FOOTER //\n// ./src/view/realtime-monitor/components/single-device-group/index.js","<template>\r\n  <div class=\"graph-viewer\" ref=\"viewer\" :style=\"{background: graphStyle.background}\">\r\n    <div class=\"graph\" ref=\"graph\" :style=\"graphStyle\" v-show=\"showView\"></div>\r\n    <!--<Icon type=\"md-refresh\" class=\"btn-reset\" v-show=\"showModuleId\" @click=\"reset()\" style=\"color:white;\"/>-->\r\n    <Icon type=\"md-backspace\" size=\"26\" class=\"btn-reset\" v-show=\"showModuleId.length>0\" @click=\"reset()\"/>\r\n    <!--<Button type=\"default\" >重置</Button>-->\r\n    <div class=\"graph-cover\" v-show=\"!showView && !LoadComplete\">\r\n      <!-- {{LoadComplete?'暂无数据绑定':'Loading...'}} -->\r\n      <Icon type=\"ios-loading\" style=\"animation: ani-demo-spin 1s linear infinite;\"/>\r\n      <!--      <CommonLoading class=\"loading\" type=\"debuounce\" :size=\"{width:50,height:50}\"-->\r\n      <!--                     :options=\"{color:'rgba(25,255,255,.7)'}\"></CommonLoading>-->\r\n    </div>\r\n    <Modal :title=\"$t_p('issue_order')\" class=\"plan-modal\"\r\n           footer-hide=\"\"\r\n           v-model=\"showEdit\"\r\n           :mask-closable=\"false\"\r\n           class-name=\"vertical-center-modal\"\r\n           :width=\"$flexible(400)\"\r\n    >\r\n      <div class=\"plan-edit\" v-if=\"showEdit\">\r\n        <Form class=\"edit-form\" ref=\"formBase\" :rules=\"InfoRules\" :model=\"currentEdit\"\r\n              :label-width=\"$flexible(110)\">\r\n          <FormItem class=\"form-item\" :label=\"`${$t_p('issue_param')}：`\" prop=\"ruleName\">\r\n            <Input :placeholder=\"$t_p('issue_param_placeholder')\" v-model=\"currentEdit.args\"/>\r\n          </FormItem>\r\n          <div class=\"form-ops \" style=\"text-align: right;padding-bottom: 0\">\r\n            <Button class=\"btn btn-cancel\" :disabled=\"planSaving\" @click=\"showEdit=false\">{{$t_p('cancel')}}</Button>\r\n            <Button class=\"btn\" type=\"primary\" :loading=\"planSaving\" @click=\"onPlanSave\">{{$t_p('issue')}}</Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </Modal>\r\n    <Modal :title=\"$t_p('history_data')\" class=\"plan-modal\"\r\n           footer-hide=\"\"\r\n           v-model=\"showInfo\"\r\n           :mask-closable=\"false\"\r\n           class-name=\"vertical-center-modal\"\r\n           :width=\"$flexible(500)\"\r\n    >\r\n      <div class=\"plan-edit\" v-if=\"showInfo\">\r\n        <DatePicker\r\n          v-show=\"false\"\r\n          v-model=\"timeRange\"\r\n          format=\"yyyy-MM-dd HH:mm:ss\"\r\n          type=\"datetimerange\"\r\n          placement=\"bottom-end\"\r\n          :placeholder=\"$t_p('range_time_placeholder')\"\r\n          style=\"width: 350px\"\r\n        ></DatePicker>\r\n        <div class=\"chart\" style=\"width: 100%;height: 400px\">\r\n          <Spin fix v-show=\"chartLoading\" style=\"width: 100%;height: 100%\">\r\n            <Icon type=\"ios-loading\" size=18 class=\"demo-spin-icon-load\"></Icon>\r\n            <div>Loading</div>\r\n          </Spin>\r\n          <ChartBase\r\n            style=\"width: 100%;height: 100%\"\r\n            class=\"chart-ele\"\r\n            ref=\"chart\"\r\n            :options=\"chartOptions\"\r\n          ></ChartBase>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n    <!--    <div class=\"tip\" :style=\"tipStyle\">-->\r\n    <!--      <div class=\"title\">-->\r\n    <!--        <div>历史数据</div>-->\r\n    <!--        <div class=\"close\" @click=\"hideTip()\">×</div>-->\r\n    <!--      </div>-->\r\n    <!--      <div class=\"chart\" style=\"width: 100%;height: 400px\">-->\r\n    <!--        <Spin fix v-show=\"chartLoading\" style=\"width: 100%;height: 100%\">-->\r\n    <!--          <Icon type=\"ios-loading\" size=18 class=\"demo-spin-icon-load\"></Icon>-->\r\n    <!--          <div>Loading</div>-->\r\n    <!--        </Spin>-->\r\n    <!--        <ChartBase-->\r\n    <!--          style=\"width: 100%;height: 100%\"-->\r\n    <!--          class=\"chart-ele\"-->\r\n    <!--          ref=\"chart\"-->\r\n    <!--          v-show=\"!chartLoading\"-->\r\n    <!--          :options=\"chartOptions\"-->\r\n    <!--        ></ChartBase>-->\r\n    <!--      </div>-->\r\n    <!--    </div>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n// import {Graph} from './Graph'\r\n// import {mxUtils,mxCellTracker,mxCodec} from 'mxgraph-js'\r\nimport CommonLoading from '@/components/common-loading'\r\nimport echarts from 'echarts'\r\nimport ChartBase from '@/components/chart-base'\r\nimport {editCmd, getBindDataList, getModuleInfo} from '../../api/api'\r\nimport {getDeviceItemsHistoryData} from '../../api/device'\r\n\r\nimport {cellToInfo, getCellBindType, mappingDataToCell} from '@/libs/util'\r\nimport moment from 'moment'\r\n\r\nexport default {\r\n  name: 'graph-viewer',\r\n  i18n_prefix: 'component.graph-viewer',\r\n  components: {\r\n    CommonLoading, ChartBase\r\n  },\r\n  props: {\r\n    // [\"moduleId\", \"background\"],\r\n    moduleId: {\r\n      type: [String, Number]\r\n    },\r\n    background: {\r\n      type: String\r\n    },\r\n    zoomEnable: {\r\n      type: Boolean,\r\n      default () {\r\n        return false\r\n      }\r\n    },\r\n    panEnable: {\r\n      type: Boolean,\r\n      default () {\r\n        return false\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      LoadComplete: false,\r\n      timeRange: [\r\n        moment()\r\n          .add(-1, 'd')\r\n          .format('YYYY-MM-DD HH:mm:ss'),\r\n        moment().format('YYYY-MM-DD HH:mm:ss')\r\n      ],\r\n      showInfo: false,\r\n      tipPosition: null,\r\n      showEdit: false,\r\n      showView: false,\r\n      planSaving: false,\r\n      viewer: null,\r\n      _fla: false,\r\n\r\n      flag: 0,\r\n      InfoRules: {},\r\n      currentEdit: {},\r\n      currentModuleInfo: {},\r\n      currentGraphInfo: null,\r\n      scale: 1,\r\n      itemRefreshTimer: null,\r\n      showModuleId: [],\r\n      chartLoading: false,\r\n      chartOptions: {},\r\n      historyData: []\r\n    }\r\n  },\r\n  computed: {\r\n    tipStyle () {\r\n      if (this.tipPosition) {\r\n        return {\r\n          display: 'block',\r\n          left: this.tipPosition[0] + 'px',\r\n          top: this.tipPosition[1] + 'px'\r\n        }\r\n      } else {\r\n        return {\r\n          display: 'none'\r\n        }\r\n      }\r\n    },\r\n    graphStyle () {\r\n      return this.currentGraphInfo ? {\r\n        width: 'auto !important',\r\n        // height:\"auto !important\",\r\n        // width: (this.currentGraphInfo._pageWidth || this.currentGraphInfo.pageWidth) * this.scale + 'px',\r\n        // height: (this.currentGraphInfo._pageHeight || this.currentGraphInfo.pageHeight) * this.scale + 'px',\r\n        // background: this.background || this.currentGraphInfo.background\r\n        background: 'black'\r\n      } : {\r\n        width: 'auto !important'\r\n        //  height:\"auto !important\",\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    showModuleId (v) {\r\n      if (v && v.length) {\r\n        this.loadModuleInfo(v[v.length - 1])\r\n      }\r\n    },\r\n    moduleId (v) {\r\n      this.showModuleId = []\r\n      this.loadModuleInfo(v)\r\n    }\r\n  },\r\n  methods: {\r\n    showTip (x, y) {\r\n      this.tipPosition = [x + 10, y]\r\n    },\r\n    hideTip () {\r\n      this.tipPosition = null\r\n    },\r\n    initViewer () {\r\n      return new Promise((resolve, reject) => {\r\n        mxUtils.get('./static/vendor/mxgraph/default.xml', (xhr) => {\r\n          var themes = new Object()\r\n          themes[Graph.prototype.defaultThemeName] = xhr.getDocumentElement()\r\n          var graph = this.viewer = new Graph(this.$refs.graph, undefined, undefined, undefined, themes)\r\n          graph.resizeContainer = true\r\n          graph.setEnabled(false)\r\n\r\n          function updateEdgeStyle (graph, edge) {\r\n            // setTimeout(() => {\r\n            try {\r\n              if (edge.getStyle().includes('shape=flowLine')) {\r\n                let ele = graph.view.getState(edge).shape.node\r\n                ele.getElementsByTagName('path')[0].removeAttribute('visibility')\r\n                ele.getElementsByTagName('path')[0].setAttribute('stroke-width', '6')\r\n                ele.getElementsByTagName('path')[0].setAttribute('stroke', 'white')\r\n                ele.getElementsByTagName('path')[1].setAttribute('class', 'flow')\r\n              }\r\n            } catch (e) {\r\n            }\r\n            // }, 10)\r\n          }\r\n\r\n          graph.addListener(mxEvent.REFRESH, function (sender, evt) {\r\n            // debugger;\r\n            sender.view.states.visit(function (key, state) {\r\n              if (sender.model.isEdge(state.cell)) {\r\n                updateEdgeStyle(sender, state.cell)\r\n              }\r\n            })\r\n          })\r\n          graph.addListener(mxEvent.SIZE, function (sender, evt) {\r\n            // debugger;\r\n            sender.view.states.visit(function (key, state) {\r\n              if (sender.model.isEdge(state.cell)) {\r\n                updateEdgeStyle(sender, state.cell)\r\n              }\r\n            })\r\n          })\r\n\r\n          graph.addListener(mxEvent.CELLS_ADDED, function (sender, evt) {\r\n            // debugger;\r\n            let edge = evt.properties.cells[0]\r\n            if (edge && edge.isEdge()) {\r\n              updateEdgeStyle(sender, edge)\r\n            }\r\n          })\r\n\r\n          if (this.zoomEnable) {\r\n            this.$refs.graph.addEventListener('mousewheel', function (evt) {\r\n              evt.preventDefault()\r\n              evt.stopPropagation()\r\n              if (evt.wheelDelta > 100) {\r\n                let zoom = 1.1\r\n                graph.zoom(zoom)\r\n              } else if (evt.wheelDelta < -100) {\r\n                let zoom = 0.9\r\n                graph.zoom(zoom)\r\n              }\r\n            }, {\r\n              passive: false\r\n            })\r\n          }\r\n\r\n          if (this.panEnable) {\r\n            let _isMoving = false, _startPoint\r\n            this.$refs.graph.addEventListener('mousedown', function (evt) {\r\n              _isMoving = true\r\n              _startPoint = evt\r\n            })\r\n            this.$refs.graph.addEventListener('mousemove', function (e) {\r\n              if (_isMoving) {\r\n                if (!_startPoint) {\r\n\r\n                } else {\r\n                  let deltaX = e.clientX - _startPoint.clientX\r\n                  let deltaY = e.clientY - _startPoint.clientY\r\n                  graph.panGraph(deltaX, deltaY)\r\n                }\r\n              }\r\n            })\r\n            this.$refs.graph.addEventListener('mouseup', function (evt) {\r\n              _isMoving = false\r\n              _startPoint = null\r\n            })\r\n            this.$refs.graph.addEventListener('mouseleave', function (evt) {\r\n              _isMoving = false\r\n              _startPoint = null\r\n            })\r\n          }\r\n\r\n          // window.onresize = this.refreshScale\r\n          resolve(graph)\r\n        }, () => {\r\n          reject()\r\n        })\r\n      })\r\n    },\r\n    onPlanSave () {\r\n      this.editCmd(this.currentEdit)\r\n      this.showEdit = false\r\n      // console.log(this.editCmd(this.this.editCmd(this.currentEdit)))\r\n    },\r\n    updateGraphInfo (xmlstring = '') {\r\n      const xmlDoc = mxUtils.parseXml(xmlstring)\r\n      let res = /pageWidth=\"(\\d+)\".*pageHeight=\"(\\d+)\"/.exec(xmlstring) || []\r\n      let pageSize\r\n      if (res[1] && res[2]) {\r\n        pageSize = {\r\n          pageWidth: res[1] * 1,\r\n          pageHeight: res[2] * 1\r\n        }\r\n      }\r\n      const codec = new mxCodec(xmlDoc)\r\n      this.currentGraphInfo = codec.decode(xmlDoc.documentElement, this.viewer.getModel())\r\n      this.refreshScale(pageSize).then(() => {\r\n        if (pageSize) {\r\n          this.showView = true\r\n        } else {\r\n          this.showView = false\r\n        }\r\n      })\r\n    },\r\n    loadModuleInfo (moduleId) {\r\n      if (!moduleId) {\r\n        if (this.showModuleId.length) {\r\n          moduleId = this.showModuleId[this.showModuleId.length - 1]\r\n        } else {\r\n          moduleId = this.moduleId\r\n        }\r\n      }\r\n      if (moduleId) {\r\n        this.showView = false\r\n        getModuleInfo({\r\n          id: moduleId\r\n        }).then((res) => {\r\n          this.currentModuleInfo = res.data || {}\r\n          this.updateGraphInfo(this.currentModuleInfo.xmlstring || '')\r\n          if (this.currentModuleInfo.type === 1) {\r\n            this.startGraphRefresh()\r\n          } else {\r\n            this.stopGraphRefresh()\r\n          }\r\n          this.LoadComplete = true\r\n        }, (e) => {\r\n          this.$Message.error(this.$t_p('get_fail'))\r\n        })\r\n      }\r\n    },\r\n    refreshScale (graphSize) {\r\n      return new Promise((resolve, reject) => {\r\n        clearTimeout(this.refreshTimer)\r\n        this.refreshTimer = setTimeout(() => {\r\n          if (!graphSize) {\r\n            graphSize = this.currentGraphInfo\r\n          }\r\n          let viewEl = this.$refs && this.$refs.viewer\r\n          if (graphSize && graphSize.pageWidth && graphSize.pageHeight && viewEl) {\r\n            let pw = viewEl.clientWidth, ph = viewEl.clientHeight\r\n            let gw = Math.abs(this.currentGraphInfo._pageWidth || this.viewer.view.graphBounds.width + this.viewer.view.graphBounds.x * 2)\r\n            let gh = Math.abs(this.currentGraphInfo._pageHeight || this.viewer.view.graphBounds.height + this.viewer.view.graphBounds.y * 2)\r\n\r\n            let scale = 1\r\n            if (pw / ph > gw / gh) {\r\n              scale = ph / gh\r\n            } else {\r\n              scale = pw / gw\r\n            }\r\n            this.currentGraphInfo._pageWidth = gw\r\n            this.currentGraphInfo._pageHeight = gh\r\n\r\n            this.viewer.zoomTo(scale, false)\r\n            this.scale = scale\r\n            resolve()\r\n          } else {\r\n            reject && reject()\r\n          }\r\n        }, 10)\r\n      }).catch(error => {})\r\n    },\r\n\r\n    startGraphRefresh () {\r\n      this.stopGraphRefresh()\r\n      this.refreshGraphDataView()\r\n      if (this.currentModuleInfo.refreshInterval) {\r\n        // let time = this.currentModuleInfo.refreshInterval * 1000\r\n        let time = localStorage.getItem('freshTime') ? Number(localStorage.getItem('freshTime')) * 1000 : 5000\r\n        this.itemRefreshTimer = setInterval(() => {\r\n          this.refreshGraphDataView()\r\n          // console.log('refreshGraphDataView')\r\n        }, time)\r\n      }\r\n    },\r\n    stopGraphRefresh () {\r\n      clearInterval(this.itemRefreshTimer)\r\n    },\r\n    getItemId (info) {\r\n      let name = info.detail.itemName\r\n      if (name) {\r\n        let val = name.split('(')\r\n        if (val) {\r\n          let temp = val[1].split(')')\r\n          if (temp) {\r\n            return temp[0]\r\n          }\r\n        }\r\n      }\r\n      return 0\r\n    },\r\n    refreshGraphDataView () {\r\n      let graph = this.viewer\r\n      let model = graph.getModel()\r\n      let items = []\r\n      let itemCellMap = {}\r\n\r\n      for (let i in model.cells) {\r\n        let info = cellToInfo(model.cells[i], {\r\n          graph\r\n        })\r\n\r\n        if (info.detail.type === '1') {\r\n          let key = `${info.detail.deviceId}-${info.detail.item}`\r\n          if (itemCellMap[key]) {\r\n            itemCellMap[key].push(model.cells[i])\r\n          } else {\r\n            let itemId = this.getItemId(info)\r\n            itemCellMap[key] = [model.cells[i]]\r\n            items.push({\r\n              itemId,\r\n              deviceId: info.detail.deviceId\r\n            })\r\n          }\r\n        }\r\n      }\r\n      items.length && getBindDataList({\r\n        items: items\r\n      }).then((res) => {\r\n        (res.data || []).forEach((d) => {\r\n          let key = `${d.deviceId}-${d.itemId}`\r\n          if (itemCellMap[key]) {\r\n            itemCellMap[key].forEach((cell) => {\r\n              let info = cellToInfo(cell, {\r\n                graph\r\n              })\r\n\r\n              const needBindText = ['true', '1'].includes(info.detail.bindText + '')\r\n              cell.setAttribute('xl-bind-itemVal', d.val)\r\n              if (needBindText) {\r\n                let val = d.val == null ? '' : d.val + ''\r\n                if (val) {\r\n                  val = Number(val)\r\n                  const {bindTextOp = '*', bindTextOpValue = 1} = info.detail || {}\r\n                  let opValue = Number(bindTextOpValue)\r\n                  switch (bindTextOp) {\r\n                    case '*':\r\n                      val = val * opValue\r\n                      break\r\n                    case '/':\r\n                      val = val / opValue\r\n                      break\r\n                    case '+':\r\n                      val = val + opValue\r\n                      break\r\n                    case '-':\r\n                      val = val - opValue\r\n                      break\r\n                  }\r\n                  if (info.valueFixed) {\r\n                    val = val.toFixed(info.valueFixed)\r\n                  }\r\n                }\r\n                cell.setAttribute('label', val)\r\n              }\r\n              if (info.detail.mapping && info.detail.mapping.length) {\r\n                let newData = info.detail.mapping.map(item => {\r\n                  return {\r\n                    ...item,\r\n                    x1: item.x1 ? item.x1 : (item.x1 === 0 ? item.x1 : 1)\r\n                  }\r\n                })\r\n                mappingDataToCell(cell, newData, d)\r\n              }\r\n            })\r\n          }\r\n        })\r\n        graph.refresh()\r\n      })\r\n    },\r\n\r\n    reload () {\r\n      this.loadModuleInfo()\r\n    },\r\n    reset () {\r\n      let nextList = [].concat(this.showModuleId)\r\n      nextList.pop()\r\n      this.showModuleId = nextList\r\n      if (nextList.length === 0) {\r\n        this.loadModuleInfo(this.moduleId)\r\n      }\r\n    },\r\n    editCmd (data) {\r\n      editCmd(data).then(res => {\r\n        // console.log(123,res)\r\n        this.$Message.success(res.data)\r\n      }, res => {\r\n        if (res.code == 1000) {\r\n          this.$Message.error(res.msg)\r\n        } else {\r\n          this.$Message.error(this.$t_p('order_issue_fail'))\r\n        }\r\n      })\r\n    },\r\n    getChartSeries (yData, name) {\r\n      return {\r\n        name: name,\r\n        type: 'line',\r\n        // smooth: true,\r\n        showSymbol: false,\r\n        lineStyle: {\r\n          normal: {\r\n            color: '#00c1de'\r\n          }\r\n        },\r\n        itemStyle: {\r\n          show: false,\r\n          normal: {\r\n            color: '#00c1de'\r\n          }\r\n        },\r\n        areaStyle: {\r\n          normal: {\r\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n              {\r\n                offset: 0,\r\n                color: '#f8fafa'\r\n              },\r\n              {\r\n                offset: 1,\r\n                color: '#ecf7f8'\r\n              }\r\n            ])\r\n          }\r\n        },\r\n        data: yData\r\n      }\r\n    },\r\n    getChartGrid (yData) {\r\n      let max = 0\r\n      yData.forEach(d => {\r\n        max = Math.max(max, Math.abs(d.value[1]))\r\n      })\r\n\r\n      max = max.toFixed(0).length * 12 + 30\r\n      return {\r\n        // show:true,\r\n        left: max, // \"8%\",\r\n        right: '5%',\r\n        top: 30,\r\n        bottom: 80\r\n      }\r\n    },\r\n    loadDeviceItemsHistoryData (deviceId, itemId, name) {\r\n      this.chartLoading = true\r\n      let stime = this.timeRange[0]\r\n      let etime = this.timeRange[1]\r\n\r\n      if (stime) {\r\n        stime = moment(stime).format('YYYY-MM-DD HH:mm:ss')\r\n      }\r\n      if (etime) {\r\n        etime = moment(etime).format('YYYY-MM-DD HH:mm:ss')\r\n      }\r\n      let info = {\r\n        deviceId: deviceId,\r\n        itemId: itemId,\r\n        sDate: stime,\r\n        eDate: etime\r\n        // pageNumber: this.planPageInfo.pageIndex,\r\n        // pageSize: this.planPageInfo.pageSize\r\n      }\r\n\r\n      getDeviceItemsHistoryData({\r\n        ...info\r\n      })\r\n        .then(res => {\r\n          this.historyData = (res.data.result || []).map(d => ({\r\n            ...d,\r\n            dateTime: d.dateTime || d.dataTime\r\n          }))\r\n          this.chartLoading = false\r\n          // this.historyData1 = this.historyData.slice(0,9);\r\n\r\n          // this.planPageInfo.totalElements = this.historyData.length/10 || 0;\r\n          // this.planPageInfo.totalElements = this.historyData.length || 0;\r\n\r\n          // console.log(111,this.planPageInfo)\r\n\r\n          this.refreshChart(name)\r\n        })\r\n    },\r\n    refreshChart (name) {\r\n      let yData = []\r\n\r\n      let chartData = [].concat(this.historyData).reverse()\r\n      chartData.forEach(d => {\r\n        let time = moment(d.dateTime)\r\n        yData.push({\r\n          name: time.toDate(),\r\n          value: [time.toDate(), Number(d.val || 0)]\r\n        })\r\n      })\r\n\r\n      this.chartOptions = {\r\n        calculable: false,\r\n        animation: false,\r\n\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          position: function (pt) {\r\n            return [pt[0], '10%']\r\n          }\r\n        },\r\n        title: {\r\n          left: 'center',\r\n          text: ''\r\n        },\r\n        grid: this.getChartGrid(yData),\r\n        xAxis: {\r\n          type: 'time',\r\n          // boundaryGap: false,\r\n          axisTick: {\r\n            show: false,\r\n            lineStyle: {\r\n              color: '#00c1de'\r\n            }\r\n          },\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: '#878787'\r\n            }\r\n          },\r\n          splitLine: {\r\n            show: false\r\n          }\r\n          // data: xData\r\n        },\r\n        yAxis: {\r\n          type: 'value',\r\n          axisTick: {\r\n            show: false\r\n          },\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: '#878787'\r\n            }\r\n          },\r\n          splitLine: {\r\n            show: false\r\n          }\r\n        },\r\n        // dataZoom: [\r\n        //   {\r\n        //     type: \"slider\"\r\n        //   }\r\n        // ],\r\n        series: [this.getChartSeries(yData, name)]\r\n      }\r\n\r\n      // this.$refs.chart.instance.resize();\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initViewer().then((view) => {\r\n      // 鼠标事件\r\n      let track = new mxCellTracker(view)\r\n      track.mouseMove = function (sender, e) {\r\n        let cell = e.sourceState && e.sourceState.cell\r\n        if (cell) {\r\n          let type = getCellBindType(cell)\r\n          let info = cellToInfo(cell, {graph: view})\r\n          if (type == 2) {\r\n            e.getState().setCursor('pointer')\r\n          }\r\n          if (info.detail && info.detail.cmdType == 4) {\r\n            let infoName = info.detail.infoName ? info.detail.infoName : ''\r\n            if (infoName.indexOf('group') != -1) {\r\n              e.getState().setCursor('pointer')\r\n            }\r\n            if (infoName.indexOf('item') != -1) {\r\n              e.getState().setCursor('pointer')\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      view.getTooltipForCell = (cell) => {\r\n        let type = getCellBindType(cell)\r\n        let info = cellToInfo(cell, {graph: this.viewer})\r\n        if (type == 2) {\r\n          return `点击跳转到组态 ${info.detail.moduleName}`\r\n        }\r\n        if (info.detail && info.detail.cmdType == 4) {\r\n          let infoName = info.detail.infoName ? info.detail.infoName : ''\r\n          if (infoName.indexOf('group') != -1) {\r\n            return `点击跳转到设备组详情`\r\n          }\r\n          if (infoName.indexOf('item') != -1) {\r\n            return `点击获取测点数据`\r\n          }\r\n        }\r\n      }\r\n\r\n      // 点击事件\r\n\r\n      view.click = (e) => {\r\n        if (!this.$hasAccess('dev.edit')) {\r\n          return\r\n        }\r\n        let cell = e.sourceState && e.sourceState.cell\r\n        if (cell) {\r\n          let info = cellToInfo(cell, {graph: view})\r\n          if (info.detail && info.detail.cmdType == 0 || info.detail.cmdType == 1) {\r\n            let obj = {}\r\n            obj.args = info.detail.cmdType\r\n            obj.devices = info.detail.devices\r\n            obj.bindTime = info.detail.bindTime || 10\r\n            this.currentEdit = {...obj}\r\n            this.editCmd(this.currentEdit)\r\n          }\r\n          if (info.detail && info.detail.cmdType == 2) {\r\n            let obj = {}\r\n            obj.devices = info.detail.devices\r\n            obj.bindTime = info.detail.bindTime || 10\r\n            this.currentEdit = {...obj}\r\n            this.showEdit = true\r\n          }\r\n          if (info.detail && info.detail.cmdType == 3) {\r\n            let obj = {}\r\n            obj.args = ''\r\n            obj.devices = info.detail.devices\r\n            obj.bindTime = info.detail.bindTime || 10\r\n            this.currentEdit = {...obj}\r\n            this.editCmd(this.currentEdit)\r\n          }\r\n          // 绑定消息\r\n          if (info.detail && info.detail.cmdType == 4) {\r\n            let infoName = info.detail.infoName ? info.detail.infoName : ''\r\n            // if(infoName.indexOf(\"video\"))\r\n\r\n            if (infoName.indexOf('item') != -1) {\r\n              let infos = info.detail || {}\r\n              let deviceInfo = {\r\n                deviceId: infos.deviceId,\r\n                id: infos.device,\r\n                itemVal: infos.itemVal,\r\n                itemId: infos.item,\r\n                itemName: infos.itemName\r\n              }\r\n              this.$eventHub.$emit('deviceInfo', JSON.stringify(deviceInfo))\r\n            }\r\n            if (infoName.indexOf('alarm') != -1) {\r\n              let infos = info.detail || {}\r\n              let alarmInfo = {\r\n                deviceId: infos.deviceId,\r\n                id: infos.device,\r\n                itemVal: infos.itemVal,\r\n                itemId: infos.item,\r\n                itemName: infos.itemName\r\n              }\r\n              this.$eventHub.$emit('alarmInfo', JSON.stringify(alarmInfo))\r\n            }\r\n            if (infoName.indexOf('video') != -1) {\r\n              let videoId = +infoName.substring(5)\r\n              this.$eventHub.$emit('videoId', videoId)\r\n            }\r\n            if (infoName.indexOf('group') != -1) {\r\n              let groupId = +infoName.substring(5)\r\n              this.$eventHub.$emit('groupId', groupId)\r\n            }\r\n          }\r\n\r\n          if (info.detail && info.detail.infoType == 1) {\r\n            let infoDetail = {}\r\n            infoDetail.infoDevice = info.detail.infoDevice\r\n            infoDetail.infoDeviceId = info.detail.infoDeviceId\r\n            infoDetail.infoDeviceName = info.detail.infoDeviceName\r\n            infoDetail.infoItem = info.detail.infoItem\r\n            infoDetail.infoItemName = info.detail.infoItemName\r\n            infoDetail.infoName = info.detail.infoName\r\n            this.$emit('on-info', infoDetail)\r\n          }\r\n          if (info.detail && info.detail.type == 2) {\r\n            this.showModuleId.push(info.detail.module)\r\n          }\r\n        }\r\n      }\r\n    })\r\n    this.loadModuleInfo()\r\n    this.$eventHub.$on('sl-main-size-change', () => {\r\n      this.refreshScale()\r\n    })\r\n  },\r\n  destroyed () {\r\n    this.stopGraphRefresh()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .flow {\r\n    stroke-dasharray: 8;\r\n    animation: dash 0.5s linear;\r\n    animation-iteration-count: infinite;\r\n  }\r\n\r\n  @keyframes dash {\r\n    to {\r\n      stroke-dashoffset: -16;\r\n    }\r\n  }\r\n</style>\r\n\r\n<style lang=\"less\" scoped>\r\n  .graph-viewer {\r\n    height: 100%;\r\n    overflow: hidden;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n\r\n    .tip {\r\n      position: absolute;\r\n      background: yellow;\r\n      width: 400px;\r\n      height: 300px;\r\n      z-index: 99;\r\n      /* background: @color-blue-light;*/\r\n      /*border-radius: 5px;*/\r\n      color: #000;\r\n      transition: all ease 400ms;\r\n      padding: 10px;\r\n      /*background-size: 100% 100%;*/\r\n\r\n      .title {\r\n        height: 30px;\r\n        line-height: 30px;\r\n        display: flex;\r\n        border-bottom: 1px solid #d2d2d2;\r\n\r\n        div:first-child {\r\n          flex: 1;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .close {\r\n          width: 20px;\r\n          height: 20px;\r\n          font-size: 18px;\r\n          border: 1px solid #d2d2d2;\r\n          line-height: 20px;\r\n          text-align: center;\r\n        }\r\n\r\n        .close:hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n\r\n    .graph {\r\n      margin: 0 auto;\r\n      width: 100% !important;\r\n      /*box-sizing: border-box;*/\r\n      /*border: 1px solid white;*/\r\n    }\r\n\r\n    .chart {\r\n      height: 400px;\r\n      .chart-ele {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n    }\r\n\r\n    .btn-reset {\r\n      position: absolute;\r\n      left: 10px;\r\n      top: 10px;\r\n      color: white;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .graph-cover {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      color: white;\r\n      font-size: 24px;\r\n      background-color: #000;\r\n      .loading {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        width: 200px;\r\n        text-align: center;\r\n        margin-left: -100px;\r\n        transform: translateY(-50%);\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/graph-viewer/graph-viewer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"viewer\",staticClass:\"graph-viewer\",style:({background: _vm.graphStyle.background})},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showView),expression:\"showView\"}],ref:\"graph\",staticClass:\"graph\",style:(_vm.graphStyle)}),_vm._v(\" \"),_c('Icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showModuleId.length>0),expression:\"showModuleId.length>0\"}],staticClass:\"btn-reset\",attrs:{\"type\":\"md-backspace\",\"size\":\"26\"},on:{\"click\":function($event){_vm.reset()}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.showView && !_vm.LoadComplete),expression:\"!showView && !LoadComplete\"}],staticClass:\"graph-cover\"},[_c('Icon',{staticStyle:{\"animation\":\"ani-demo-spin 1s linear infinite\"},attrs:{\"type\":\"ios-loading\"}})],1),_vm._v(\" \"),_c('Modal',{staticClass:\"plan-modal\",attrs:{\"title\":_vm.$t_p('issue_order'),\"footer-hide\":\"\",\"mask-closable\":false,\"class-name\":\"vertical-center-modal\",\"width\":_vm.$flexible(400)},model:{value:(_vm.showEdit),callback:function ($$v) {_vm.showEdit=$$v},expression:\"showEdit\"}},[(_vm.showEdit)?_c('div',{staticClass:\"plan-edit\"},[_c('Form',{ref:\"formBase\",staticClass:\"edit-form\",attrs:{\"rules\":_vm.InfoRules,\"model\":_vm.currentEdit,\"label-width\":_vm.$flexible(110)}},[_c('FormItem',{staticClass:\"form-item\",attrs:{\"label\":((_vm.$t_p('issue_param')) + \"：\"),\"prop\":\"ruleName\"}},[_c('Input',{attrs:{\"placeholder\":_vm.$t_p('issue_param_placeholder')},model:{value:(_vm.currentEdit.args),callback:function ($$v) {_vm.$set(_vm.currentEdit, \"args\", $$v)},expression:\"currentEdit.args\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"form-ops \",staticStyle:{\"text-align\":\"right\",\"padding-bottom\":\"0\"}},[_c('Button',{staticClass:\"btn btn-cancel\",attrs:{\"disabled\":_vm.planSaving},on:{\"click\":function($event){_vm.showEdit=false}}},[_vm._v(_vm._s(_vm.$t_p('cancel')))]),_vm._v(\" \"),_c('Button',{staticClass:\"btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.planSaving},on:{\"click\":_vm.onPlanSave}},[_vm._v(_vm._s(_vm.$t_p('issue')))])],1)],1)],1):_vm._e()]),_vm._v(\" \"),_c('Modal',{staticClass:\"plan-modal\",attrs:{\"title\":_vm.$t_p('history_data'),\"footer-hide\":\"\",\"mask-closable\":false,\"class-name\":\"vertical-center-modal\",\"width\":_vm.$flexible(500)},model:{value:(_vm.showInfo),callback:function ($$v) {_vm.showInfo=$$v},expression:\"showInfo\"}},[(_vm.showInfo)?_c('div',{staticClass:\"plan-edit\"},[_c('DatePicker',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],staticStyle:{\"width\":\"350px\"},attrs:{\"format\":\"yyyy-MM-dd HH:mm:ss\",\"type\":\"datetimerange\",\"placement\":\"bottom-end\",\"placeholder\":_vm.$t_p('range_time_placeholder')},model:{value:(_vm.timeRange),callback:function ($$v) {_vm.timeRange=$$v},expression:\"timeRange\"}}),_vm._v(\" \"),_c('div',{staticClass:\"chart\",staticStyle:{\"width\":\"100%\",\"height\":\"400px\"}},[_c('Spin',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chartLoading),expression:\"chartLoading\"}],staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"fix\":\"\"}},[_c('Icon',{staticClass:\"demo-spin-icon-load\",attrs:{\"type\":\"ios-loading\",\"size\":\"18\"}}),_vm._v(\" \"),_c('div',[_vm._v(\"Loading\")])],1),_vm._v(\" \"),_c('ChartBase',{ref:\"chart\",staticClass:\"chart-ele\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"options\":_vm.chartOptions}})],1)],1):_vm._e()])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2458d452\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/graph-viewer/graph-viewer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2458d452\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./graph-viewer.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2458d452\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":55}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./graph-viewer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./graph-viewer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./graph-viewer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2458d452\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./graph-viewer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2458d452\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/graph-viewer/graph-viewer.vue\n// module id = null\n// module chunks = ","import Main from './graph-viewer';\r\n\r\nexport default Main;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/graph-viewer/index.js"],"sourceRoot":""}